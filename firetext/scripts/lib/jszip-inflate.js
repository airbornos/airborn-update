if(!JSZip)throw"JSZip not defined";
(function(){function P(){this.list=this.next=null}function Q(){this.n=this.b=this.e=0;this.t=null}function G(t,y,u,a,b,q){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var r=Array(this.BMAX+1),n,c,m,h,d,f,e,g=Array(this.BMAX+1),k,l,B,z=new Q,v=Array(this.BMAX);h=Array(this.N_MAX);var A,w=Array(this.BMAX+1),p,x,C;C=this.root=null;for(d=0;d<r.length;d++)r[d]=0;for(d=0;d<g.length;d++)g[d]=0;for(d=0;d<v.length;d++)v[d]=null;for(d=0;d<h.length;d++)h[d]=0;for(d=0;d<w.length;d++)w[d]=
0;n=256<y?t[256]:this.BMAX;k=t;l=0;d=y;do r[k[l]]++,l++;while(0<--d);if(r[0]==y)this.root=null,this.status=this.m=0;else{for(f=1;f<=this.BMAX&&0==r[f];f++);e=f;q<f&&(q=f);for(d=this.BMAX;0!=d&&0==r[d];d--);m=d;q>d&&(q=d);for(p=1<<f;f<d;f++,p<<=1)if(0>(p-=r[f])){this.status=2;this.m=q;return}if(0>(p-=r[d]))this.status=2,this.m=q;else{r[d]+=p;w[1]=f=0;k=r;l=1;for(B=2;0<--d;)w[B++]=f+=k[l++];k=t;d=l=0;do 0!=(f=k[l++])&&(h[w[f]++]=d);while(++d<y);y=w[m];w[0]=d=0;k=h;l=0;h=-1;A=g[0]=0;B=null;for(x=0;e<=
m;e++)for(t=r[e];0<t--;){for(;e>A+g[1+h];){A+=g[1+h];h++;x=(x=m-A)>q?q:x;if((c=1<<(f=e-A))>t+1)for(c-=t+1,B=e;++f<x&&!((c<<=1)<=r[++B]);)c-=r[B];A+f>n&&A<n&&(f=n-A);x=1<<f;g[1+h]=f;B=Array(x);for(c=0;c<x;c++)B[c]=new Q;C=null==C?this.root=new P:C.next=new P;C.next=null;C.list=B;v[h]=B;0<h&&(w[h]=d,z.b=g[h],z.e=16+f,z.t=B,f=(d&(1<<A)-1)>>A-g[h],v[h-1][f].e=z.e,v[h-1][f].b=z.b,v[h-1][f].n=z.n,v[h-1][f].t=z.t)}z.b=e-A;l>=y?z.e=99:k[l]<u?(z.e=256>k[l]?16:15,z.n=k[l++]):(z.e=b[k[l]-u],z.n=a[k[l++]-u]);
c=1<<e-A;for(f=d>>A;f<x;f+=c)B[f].e=z.e,B[f].b=z.b,B[f].n=z.n,B[f].t=z.t;for(f=1<<e-1;0!=(d&f);f>>=1)d^=f;for(d^=f;(d&(1<<A)-1)!=w[h];)A-=g[h],h--}this.m=g[1];this.status=0!=p&&1!=m?1:0}}}function e(t){for(;C<t;){var e=E,g;g=I.length==N?-1:I.charCodeAt(N++)&255;E=e|g<<C;C+=8}}function g(e){return E&Y[e]}function m(e){E>>=e;C-=e}function J(t,y,u){var a,b,q;if(0==u)return 0;for(q=0;;){e(v);b=w.list[g(v)];for(a=b.e;16<a;){if(99==a)return-1;m(b.b);a-=16;e(a);b=b.t[g(a)];a=b.e}m(b.b);if(16==a)k&=32767,
t[y+q++]=p[k++]=b.n;else{if(15==a)break;e(a);l=b.n+g(a);m(a);e(F);b=O.list[g(F)];for(a=b.e;16<a;){if(99==a)return-1;m(b.b);a-=16;e(a);b=b.t[g(a)];a=b.e}m(b.b);e(a);D=k-b.n-g(a);for(m(a);0<l&&q<u;)l--,D&=32767,k&=32767,t[y+q++]=p[k++]=p[D++]}if(q==u)return u}x=-1;return q}function Z(k,l,u){var a,b,q,r,n,c,p,h=Array(316);for(a=0;a<h.length;a++)h[a]=0;e(5);c=257+g(5);m(5);e(5);p=1+g(5);m(5);e(4);a=4+g(4);m(4);if(286<c||30<p)return-1;for(b=0;b<a;b++)e(3),h[R[b]]=g(3),m(3);for(;19>b;b++)h[R[b]]=0;v=7;
b=new G(h,19,19,null,null,v);if(0!=b.status)return-1;w=b.root;v=b.m;r=c+p;for(a=q=0;a<r;)if(e(v),n=w.list[g(v)],b=n.b,m(b),b=n.n,16>b)h[a++]=q=b;else if(16==b){e(2);b=3+g(2);m(2);if(a+b>r)return-1;for(;0<b--;)h[a++]=q}else{17==b?(e(3),b=3+g(3),m(3)):(e(7),b=11+g(7),m(7));if(a+b>r)return-1;for(;0<b--;)h[a++]=0;q=0}v=9;b=new G(h,c,257,S,T,v);0==v&&(b.status=1);if(0!=b.status)return-1;w=b.root;v=b.m;for(a=0;a<p;a++)h[a]=h[a+c];F=6;b=new G(h,p,0,U,V,F);O=b.root;F=b.m;return 0==F&&257<c||0!=b.status?-1:
J(k,l,u)}function aa(t,y,u){var a,b;for(a=0;a<u&&(!H||-1!=x);){if(0<l){if(0!=x)for(;0<l&&a<u;)l--,D&=32767,k&=32767,t[y+a++]=p[k++]=p[D++];else{for(;0<l&&a<u;)l--,k&=32767,e(8),t[y+a++]=p[k++]=g(8),m(8);0==l&&(x=-1)}if(a==u)break}if(-1==x){if(H)break;e(1);0!=g(1)&&(H=!0);m(1);e(2);x=g(2);m(2);w=null;l=0}switch(x){case 0:b=t;var q=y+a,r=u-a,n=void 0,n=C&7;m(n);e(16);n=g(16);m(16);e(16);if(n!=(~E&65535))b=-1;else{m(16);l=n;for(n=0;0<l&&n<r;)l--,k&=32767,e(8),b[q+n++]=p[k++]=g(8),m(8);0==l&&(x=-1);b=
n}break;case 1:if(null!=w)b=J(t,y+a,u-a);else a:{b=t;q=y+a;r=u-a;if(null==K){for(var c=void 0,n=Array(288),c=void 0,c=0;144>c;c++)n[c]=8;for(;256>c;c++)n[c]=9;for(;280>c;c++)n[c]=7;for(;288>c;c++)n[c]=8;L=7;c=new G(n,288,257,S,T,L);if(0!=c.status){alert("HufBuild error: "+c.status);b=-1;break a}K=c.root;L=c.m;for(c=0;30>c;c++)n[c]=5;M=5;c=new G(n,30,0,U,V,M);if(1<c.status){K=null;alert("HufBuild error: "+c.status);b=-1;break a}W=c.root;M=c.m}w=K;O=W;v=L;F=M;b=J(b,q,r)}break;case 2:b=null!=w?J(t,y+
a,u-a):Z(t,y+a,u-a);break;default:b=-1}if(-1==b)return H?0:-1;a+=b}return a}function X(e){var g,m,a;null==p&&(p=Array(65536));C=E=k=0;x=-1;H=!1;l=D=0;w=null;I=e;N=0;g=Array(1024);for(e="";0<(m=aa(g,0,g.length));)for(a=0;a<m;a++)e+=String.fromCharCode(g[a]);I=null;return e}var M,p,k,K=null,W,L,E,C,x,H,l,D,w,O,v,F,I,N,Y=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T=[0,0,0,0,0,0,0,0,
1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];JSZip.compressions.DEFLATE?JSZip.compressions.DEFLATE.uncompress=X:JSZip.compressions.DEFLATE={magic:"\b\x00",uncompress:X}})();
