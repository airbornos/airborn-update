<!DOCTYPE html><html><head><link rel=stylesheet href=styles.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=theme-color content=#fff id=theme-color><title></title><meta name=defaultLanguage content=en><meta name=availableLanguages content=bg,bn-BD,bn-IN,cs,de,en,eo,es,fa-IR,fr,he,hi-IN,hu,id,it,ja,ml-IN,nl,pl,pt-BR,ro,ru,ta-IN,zh-CN><link rel=localization href=locales/{locale}.app.properties><script>(function(a,b){var c=document,d=c.getElementsByTagName("head")[0]||c.documentElement,e=function(a){var b={};b.u=a.replace(/#(=)?([^#]*)?/g,function(a,c,d){b[c?"f":"i"]=d;return""});return b},f=function(a,b,e){var f=c.createElement(a),g;e&&(f.airborn_readyState?f.onreadystatechange=function(){if("loaded"===f.airborn_readyState||"complete"===f.airborn_readyState)f.onreadystatechange=null,e()}:f.onload=e);for(g in b)b[g]&&(f[g]=b[g]);d.appendChild(f)},k=function(a,b){if(this.aliases&&this.aliases[a]){var c=this.aliases[a].slice(0);
c instanceof Array||(c=[c]);b&&c.push(b);return this.load.apply(this,c)}if(a instanceof Array){for(c=a.length;c--;)this.load(a[c]);b&&a.push(b);return this.load.apply(this,a)}return a.match(/\.css\b/)?this.loadcss(a,b):this.loadjs(a,b)},h={},g={aliases:{},loadjs:function(a,c){var d=e(a);a=d.u;if(!0===h[a])return c&&c(),this;if(h[a]!==b)return c&&(h[a]=function(a,b){return function(){a&&a();b&&b()}}(h[a],c)),this;h[a]=function(b){return function(){h[a]=!0;b&&b()}}(c);c=function(){h[a]()};f("script",
{type:"text/javascript",src:a,id:d.i,onerror:function(a){d.f&&(a=a.currentTarget,a.parentNode.removeChild(a),f("script",{type:"text/javascript",src:d.f,id:d.i},c))}},c);return this},loadcss:function(a,b){var c=e(a);a=c.u;h[a]||f("link",{type:"text/css",rel:"stylesheet",href:a,id:c.i});h[a]=!0;b&&b();return this},load:function(){var a=arguments,c=a.length;if(1===c&&a[0]instanceof(Function||Array))return a[0](),this;k.call(this,a[0],1>=c?b:function(){g.load.apply(g,[].slice.call(a,1))});return this},
addAliases:function(a){for(var b in a)this.aliases[b]=a[b]instanceof Array?a[b].slice(0):a[b];return this}};a.ljs=g})(window);(function(){function a(a){return"function"===typeof a}function b(){var a=process.nextTick,b=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(a=setImmediate);return function(){a(k)}}function c(){return function(){D(k)}}function d(){var a=0,b=new M(k),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function e(){var a=new MessageChannel;a.port1.onmessage=k;return function(){a.port2.postMessage(0)}}
function f(){return function(){setTimeout(k,1)}}function k(){for(var a=0;a<x;a+=2)(0,F[a])(F[a+1]),F[a]=void 0,F[a+1]=void 0;x=0}function h(){try{var a=require("vertx");D=a.runOnLoop||a.runOnContext;return c()}catch(b){return f()}}function g(){}function n(a,b,c,m){try{a.call(b,c,m)}catch(d){return d}}function l(a,b,c){E(function(a){var m=!1,d=n(c,b,function(c){m||(m=!0,b!==c?u(a,c):p(a,c))},function(b){m||(m=!0,t(a,b))},"Settle: "+(a._label||" unknown promise"));!m&&d&&(m=!0,t(a,d))},a)}function q(a,
b){1===b._state?p(a,b._result):2===b._state?t(a,b._result):v(b,void 0,function(b){u(a,b)},function(b){t(a,b)})}function u(b,c){if(b===c)t(b,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof c||"object"===typeof c&&null!==c)if(c.constructor===b.constructor)q(b,c);else{var m;try{m=c.then}catch(d){I.error=d,m=I}m===I?t(b,I.error):void 0===m?p(b,c):a(m)?l(b,c,m):p(b,c)}else p(b,c)}function r(a){a._onerror&&a._onerror(a._result);w(a)}function p(a,b){void 0===a._state&&
(a._result=b,a._state=1,0!==a._subscribers.length&&E(w,a))}function t(a,b){void 0===a._state&&(a._state=2,a._result=b,E(r,a))}function v(a,b,c,m){var d=a._subscribers,f=d.length;a._onerror=null;d[f]=b;d[f+1]=c;d[f+2]=m;0===f&&a._state&&E(w,a)}function w(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var m,d,f=a._result,e=0;e<b.length;e+=3)m=b[e],d=b[e+c],m?A(c,m,d,f):d(f);a._subscribers.length=0}}function B(){this.error=null}function A(b,c,m,d){var f=a(m),e,g,x,D;if(f){try{e=m(d)}catch(k){O.error=
k,e=O}e===O?(D=!0,g=e.error,e=null):x=!0;if(c===e){t(c,new TypeError("A promises callback cannot return that same promise."));return}}else e=d,x=!0;void 0===c._state&&(f&&x?u(c,e):D?t(c,g):1===b?p(c,e):2===b&&t(c,e))}function C(a,b){try{b(function(b){u(a,b)},function(b){t(a,b)})}catch(c){t(a,c)}}function z(a,b){this._instanceConstructor=a;this.promise=new a(g);this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?p(this.promise,this._result):(this.length=
this.length||0,this._enumerate(),0===this._remaining&&p(this.promise,this._result))):t(this.promise,this._validationError())}function y(b){this._id=X++;this._result=this._state=void 0;this._subscribers=[];if(g!==b){if(!a(b))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof y))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");C(this,
b)}}var m=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},x=0,D,G,E=function(a,b){F[x]=a;F[x+1]=b;x+=2;2===x&&(G?G(k):P())},H="undefined"!==typeof window?window:void 0,J=H||{},M=J.MutationObserver||J.WebKitMutationObserver,J="undefined"!==typeof process&&"[object process]"==={}.toString.call(process),S="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,F=Array(1E3),P;P=J?b():M?d():S?e():
void 0===H&&"function"===typeof require?h():f();var I=new B,O=new B;z.prototype._validateInput=function(a){return m(a)};z.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};z.prototype._init=function(){this._result=Array(this.length)};z.prototype._enumerate=function(){for(var a=this.length,b=this.promise,c=this._input,m=0;void 0===b._state&&m<a;m++)this._eachEntry(c[m],m)};z.prototype._eachEntry=function(a,b){var c=this._instanceConstructor;"object"===typeof a&&
null!==a?a.constructor===c&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,b,a._result)):this._willSettleAt(c.resolve(a),b):(this._remaining--,this._result[b]=a)};z.prototype._settledAt=function(a,b,c){var m=this.promise;void 0===m._state&&(this._remaining--,2===a?t(m,c):this._result[b]=c);0===this._remaining&&p(m,this._result)};z.prototype._willSettleAt=function(a,b){var c=this;v(a,void 0,function(a){c._settledAt(1,b,a)},function(a){c._settledAt(2,b,a)})};var X=0;y.all=function(a){return(new z(this,
a)).promise};y.race=function(a){function b(a){u(d,a)}function c(a){t(d,a)}var d=new this(g);if(!m(a))return t(d,new TypeError("You must pass an array to race.")),d;for(var e=a.length,f=0;void 0===d._state&&f<e;f++)v(this.resolve(a[f]),void 0,b,c);return d};y.resolve=function(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var b=new this(g);u(b,a);return b};y.reject=function(a){var b=new this(g);t(b,a);return b};y._setScheduler=function(a){G=a};y._setAsap=function(a){E=a};y._asap=E;y.prototype=
{constructor:y,then:function(a,b){var c=this._state;if(1===c&&!a||2===c&&!b)return this;var m=new this.constructor(g),d=this._result;if(c){var e=arguments[c-1];E(function(){A(c,m,e,d)})}else v(this,m,a,b);return m},"catch":function(a){return this.then(null,a)}};var H=function(){var a;if("undefined"!==typeof global)a=global;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(b){throw Error("polyfill failed because global object is unavailable in this environment");}var c=
a.Promise;if(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)a.Promise=y},Q={Promise:y,polyfill:H};"function"===typeof define&&define.amd?define(function(){return Q}):"undefined"!==typeof module&&module.exports?module.exports=Q:"undefined"!==typeof this&&(this.ES6Promise=Q);H()}).call(this);var saveAs=saveAs||navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){var b=a.document,c=a.URL||a.webkitURL||a,d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e=!a.externalHost&&"download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(d)},k=a.webkitRequestFileSystem,h=a.requestFileSystem||k||a.mozRequestFileSystem,g=function(b){(a.setImmediate||a.setTimeout)(function(){throw b;
},0)},n=0,l=[],q=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"===typeof e)try{e.call(a,c||a)}catch(f){g(f)}}},u=function(b,c){var g=this,r=b.type,u=!1,A,C,z=function(){var c=(a.URL||a.webkitURL||a).createObjectURL(b);l.push(c);return c},y=function(){q(g,["writestart","progress","write","writeend"])},m=function(){if(u||!A)A=z(b);C?C.airborn_location.airborn_href=A:window.open(A,"_blank");g.airborn_readyState=g.DONE;y()},x=function(a){return function(){if(g.airborn_readyState!==g.DONE)return a.apply(this,
arguments)}},D={create:!0,exclusive:!1},G;g.airborn_readyState=g.INIT;c||(c="download");if(e)A=z(b),d.airborn_href=A,d.download=c,f(d),g.airborn_readyState=g.DONE,y();else{a.chrome&&r&&"application/octet-stream"!==r&&(G=b.slice||b.webkitSlice,b=G.call(b,0,b.size,"application/octet-stream"),u=!0);k&&"download"!==c&&(c+=".download");if("application/octet-stream"===r||k)C=a;h?(n+=b.size,h(a.TEMPORARY,n,x(function(a){a.root.getDirectory("saved",D,x(function(a){var d=function(){a.getFile(c,D,x(function(a){a.createWriter(x(function(c){c.onwriteend=
function(b){C.airborn_location.airborn_href=a.toURL();l.push(a);g.airborn_readyState=g.DONE;q(g,"writeend",b)};c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&m()};["writestart","progress","write","abort"].forEach(function(a){c["on"+a]=g["on"+a]});c.write(b);g.abort=function(){c.abort();g.airborn_readyState=g.DONE};g.airborn_readyState=g.WRITING}),m)}),m)};a.getFile(c,{create:!1},x(function(a){a.remove();d()}),x(function(a){a.code===a.NOT_FOUND_ERR?d():m()}))}),m)}),m)):m()}},r=u.prototype;r.abort=function(){this.airborn_readyState=this.DONE;
q(this,"abort")};r.airborn_readyState=r.INIT=0;r.WRITING=1;r.DONE=2;r.error=r.onwritestart=r.onprogress=r.onwrite=r.onabort=r.onerror=r.onwriteend=null;a.addEventListener("unload",function(){for(var a=l.length;a--;){var b=l[a];"string"===typeof b?c.revokeObjectURL(b):b.remove()}l.length=0},!1);return function(a,b){return new u(a,b)}}(self);var GestureDetector=function(){function a(b,c){this.element=b;this.options=c||{};this.options.panThreshold=this.options.panThreshold||a.PAN_THRESHOLD;this.options.mousePanThreshold=this.options.mousePanThreshold||a.MOUSE_PAN_THRESHOLD;this.state=p;this.timers={};this.listeningForMouseEvents=!0}function b(a){a=a.timeStamp;return a>2*Date.now()?Math.floor(a/1E3):a}function c(a,c){return Object.freeze({screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,timeStamp:b(a)})}function d(a){return Object.freeze({screenX:a.screenX,
screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,timeStamp:b(a)})}function e(b,c){var d=a.THRESHOLD_SMOOTHING;return Object.freeze({screenX:n(b.screenX+d*(c.screenX-b.screenX)),screenY:n(b.screenY+d*(c.screenY-b.screenY)),clientX:n(b.clientX+d*(c.clientX-b.clientX)),clientY:n(b.clientY+d*(c.clientY-b.clientY)),timeStamp:n(b.timeStamp+d*(c.timeStamp-b.timeStamp))})}function f(a,b){var c=b.screenX-a.screenX,d=b.screenY-a.screenY;return l(c*c+d*d)}function k(a,b){var c=b-a;180<c?c-=360:-180>=c&&
(c+=360);return c}function h(b,c){var d=g(c.screenX-b.screenX),e=g(c.screenY-b.screenY),f=c.timeStamp-b.timeStamp;return d<a.DOUBLE_TAP_DISTANCE&&e<a.DOUBLE_TAP_DISTANCE&&f<a.DOUBLE_TAP_TIME}a.prototype.startDetecting=function(){var a=this;r.forEach(function(b){a.element.addEventListener(b,a)})};a.prototype.stopDetecting=function(){var a=this;r.forEach(function(b){a.element.removeEventListener(b,a)})};a.prototype.handleEvent=function(a){var b=this.state[a.type];if(b)if(a.changedTouches){this.listeningForMouseEvents&&
(this.listeningForMouseEvents=!1,this.element.removeEventListener("mousedown",this));"touchend"===a.type&&1<a.changedTouches.length&&console.warn("gesture_detector.js: spurious extra changed touch on touchend. See https://bugzilla.mozilla.org/show_bug.cgi?id=785554");for(var c=0;c<a.changedTouches.length;c++)b(this,a,a.changedTouches[c]),b=this.state[a.type]}else b(this,a)};a.prototype.startTimer=function(a,b){this.clearTimer(a);var c=this;this.timers[a]=setTimeout(function(){c.timers[a]=null;var b=
c.state[a];b&&b(c,a)},b)};a.prototype.clearTimer=function(a){this.timers[a]&&(clearTimeout(this.timers[a]),this.timers[a]=null)};a.prototype.switchTo=function(a,b,c){this.state=a;a.init&&a.init(this,b,c)};a.prototype.emitEvent=function(a,b){if(this.target){var c=this.element.ownerDocument.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,b);this.target.dispatchEvent(c)}else console.error("Attempt to emit event with no target")};a.HOLD_INTERVAL=1E3;a.PAN_THRESHOLD=20;a.MOUSE_PAN_THRESHOLD=15;a.DOUBLE_TAP_DISTANCE=
50;a.DOUBLE_TAP_TIME=500;a.VELOCITY_SMOOTHING=.5;a.SCALE_THRESHOLD=20;a.ROTATE_THRESHOLD=22.5;a.THRESHOLD_SMOOTHING=.9;var g=Math.abs,n=Math.floor,l=Math.sqrt,q=Math.atan2,u=Math.PI,r=["touchstart","touchmove","touchend","mousedown"],p={name:"initialState",init:function(a){a.target=null;a.start=a.last=null;a.touch1=a.touch2=null;a.vx=a.vy=null;a.startDistance=a.lastDistance=null;a.startDirection=a.lastDirection=null;a.lastMidpoint=null;a.scaled=a.rotated=null},touchstart:function(a,b,c){a.switchTo(t,
b,c)},mousedown:function(a,b){a.switchTo(C,b)}},t={name:"touchStartedState",init:function(b,d,e){b.target=d.target;b.touch1=e.identifier;b.start=b.last=c(d,e);b.options.holdEvents&&b.startTimer("holdtimeout",a.HOLD_INTERVAL)},touchstart:function(a,b,c){a.clearTimer("holdtimeout");a.switchTo(B,b,c)},touchmove:function(a,b,c){c.identifier===a.touch1&&(g(c.screenX-a.start.screenX)>a.options.panThreshold||g(c.screenY-a.start.screenY)>a.options.panThreshold)&&(a.clearTimer("holdtimeout"),a.switchTo(v,
b,c))},touchend:function(a,b,d){d.identifier===a.touch1&&(a.lastTap&&h(a.lastTap,a.start)?(a.emitEvent("tap",a.start),a.emitEvent("dbltap",a.start),a.lastTap=null):(a.emitEvent("tap",a.start),a.lastTap=c(b,d)),a.clearTimer("holdtimeout"),a.switchTo(p))},holdtimeout:function(a){a.switchTo(w)}},v={name:"panStartedState",init:function(a,b,d){a.start=a.last=e(a.start,c(b,d));"touchmove"===b.type&&v.touchmove(a,b,d)},touchmove:function(b,d,e){if(e.identifier===b.touch1){d=c(d,e);b.emitEvent("pan",{absolute:{dx:d.screenX-
b.start.screenX,dy:d.screenY-b.start.screenY},relative:{dx:d.screenX-b.last.screenX,dy:d.screenY-b.last.screenY},position:d});var f=d.timeStamp-b.last.timeStamp;e=(d.screenX-b.last.screenX)/f;f=(d.screenY-b.last.screenY)/f;null==b.vx?(b.vx=e,b.vy=f):(b.vx=b.vx*a.VELOCITY_SMOOTHING+e*(1-a.VELOCITY_SMOOTHING),b.vy=b.vy*a.VELOCITY_SMOOTHING+f*(1-a.VELOCITY_SMOOTHING));b.last=d}},touchend:function(a,b,d){if(d.identifier===a.touch1){d=c(b,d);var e=d.screenX-a.start.screenX,f=d.screenY-a.start.screenY,
g=180*q(f,e)/u;0>g&&(g+=360);var k;315<=g||45>g?k="right":45<=g&&135>g?k="down":135<=g&&225>g?k="left":225<=g&&315>g&&(k="up");a.emitEvent("swipe",{start:a.start,end:d,dx:e,dy:f,dt:b.timeStamp-a.start.timeStamp,vx:a.vx,vy:a.vy,direction:k,angle:g});a.switchTo(p)}}},w={name:"holdState",init:function(a){a.emitEvent("holdstart",a.start)},touchmove:function(a,b,d){b=c(b,d);a.emitEvent("holdmove",{absolute:{dx:b.screenX-a.start.screenX,dy:b.screenY-a.start.screenY},relative:{dx:b.screenX-a.last.screenX,
dy:b.screenY-a.last.screenY},position:b});a.last=b},touchend:function(a,b,d){b=c(b,d);a.emitEvent("holdend",{start:a.start,end:b,dx:b.screenX-a.start.screenX,dy:b.screenY-a.start.screenY});a.switchTo(p)}},B={name:"transformState",init:function(a,b,c){a.touch2=c.identifier;c=b.touches.identifiedTouch(a.touch1);b=b.touches.identifiedTouch(a.touch2);a.startDistance=a.lastDistance=f(c,b);a.startDirection=a.lastDirection=180*q(b.screenY-c.screenY,b.screenX-c.screenX)/u;a.scaled=a.rotated=!1},touchmove:function(c,
d,e){if(e.identifier===c.touch1||e.identifier===c.touch2){var h=d.touches.identifiedTouch(c.touch1),p=d.touches.identifiedTouch(c.touch2);d=Object.freeze({screenX:n((h.screenX+p.screenX)/2),screenY:n((h.screenY+p.screenY)/2),clientX:n((h.clientX+p.clientX)/2),clientY:n((h.clientY+p.clientY)/2),timeStamp:b(d)});e=f(h,p);h=180*q(p.screenY-h.screenY,p.screenX-h.screenX)/u;p=k(c.startDirection,h);c.scaled||(g(e-c.startDistance)>a.SCALE_THRESHOLD?(c.scaled=!0,c.startDistance=c.lastDistance=n(c.startDistance+
a.THRESHOLD_SMOOTHING*(e-c.startDistance))):e=c.startDistance);c.rotated||(g(p)>a.ROTATE_THRESHOLD?c.rotated=!0:h=c.startDirection);if(c.scaled||c.rotated)c.emitEvent("transform",{absolute:{scale:e/c.startDistance,rotate:k(c.startDirection,h)},relative:{scale:e/c.lastDistance,rotate:k(c.lastDirection,h)},midpoint:d}),c.lastDistance=e,c.lastDirection=h,c.lastMidpoint=d}},touchend:function(a,b,c){if(c.identifier===a.touch2)a.touch2=null;else if(c.identifier===a.touch1)a.touch1=a.touch2,a.touch2=null;
else return;(a.scaled||a.rotated)&&a.emitEvent("transformend",{absolute:{scale:a.lastDistance/a.startDistance,rotate:k(a.startDirection,a.lastDirection)},relative:{scale:1,rotate:0},midpoint:a.lastMidpoint});a.switchTo(A)}},A={name:"afterTransformState",touchstart:function(a,b,c){a.switchTo(B,b,c)},touchend:function(a,b,c){c.identifier===a.touch1&&a.switchTo(p)}},C={name:"mouseDownState",init:function(b,c){b.target=c.target;var e=b.element.ownerDocument;e.addEventListener("mousemove",b,!0);e.addEventListener("mouseup",
b,!0);b.start=b.last=d(c);b.options.holdEvents&&b.startTimer("holdtimeout",a.HOLD_INTERVAL)},mousemove:function(a,b){if(g(b.screenX-a.start.screenX)>a.options.mousePanThreshold||g(b.screenY-a.start.screenY)>a.options.mousePanThreshold)a.clearTimer("holdtimeout"),a.switchTo(y,b)},mouseup:function(a,b){var c=a.element.ownerDocument;c.removeEventListener("mousemove",a,!0);c.removeEventListener("mouseup",a,!0);a.lastTap&&h(a.lastTap,a.start)?(a.emitEvent("tap",a.start),a.emitEvent("dbltap",a.start),a.lastTap=
null):(a.emitEvent("tap",a.start),a.lastTap=d(b));a.clearTimer("holdtimeout");a.switchTo(p)},holdtimeout:function(a){a.switchTo(z)}},z={name:"mouseHoldState",init:function(a){a.emitEvent("holdstart",a.start)},mousemove:function(a,b){var c=d(b);a.emitEvent("holdmove",{absolute:{dx:c.screenX-a.start.screenX,dy:c.screenY-a.start.screenY},relative:{dx:c.screenX-a.last.screenX,dy:c.screenY-a.last.screenY},position:c});a.last=c},mouseup:function(a,b){var c=d(b);a.emitEvent("holdend",{start:a.start,end:c,
dx:c.screenX-a.start.screenX,dy:c.screenY-a.start.screenY});a.switchTo(p)}},y={name:"mousePannedState",init:function(a,b){a.start=a.last=e(a.start,d(b));"mousemove"===b.type&&y.mousemove(a,b)},mousemove:function(b,c){var e=d(c);b.emitEvent("pan",{absolute:{dx:e.screenX-b.start.screenX,dy:e.screenY-b.start.screenY},relative:{dx:e.screenX-b.last.screenX,dy:e.screenY-b.last.screenY},position:e});var f=e.timeStamp-b.last.timeStamp,g=(e.screenX-b.last.screenX)/f,f=(e.screenY-b.last.screenY)/f;null==b.vx?
(b.vx=g,b.vy=f):(b.vx=b.vx*a.VELOCITY_SMOOTHING+g*(1-a.VELOCITY_SMOOTHING),b.vy=b.vy*a.VELOCITY_SMOOTHING+f*(1-a.VELOCITY_SMOOTHING));b.last=e},mouseup:function(a,b){var c=a.element.ownerDocument;c.removeEventListener("mousemove",a,!0);c.removeEventListener("mouseup",a,!0);var c=d(b),e=c.screenX-a.start.screenX,f=c.screenY-a.start.screenY,g=180*q(f,e)/u;0>g&&(g+=360);var k;315<=g||45>g?k="right":45<=g&&135>g?k="down":135<=g&&225>g?k="left":225<=g&&315>g&&(k="up");a.emitEvent("swipe",{start:a.start,
end:c,dx:e,dy:f,dt:c.timeStamp-a.start.timeStamp,vx:a.vx,vy:a.vy,direction:k,angle:g});a.switchTo(p)}};return a}();(function(a){a.matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;a.closest=a.closest||function(a){for(var c=this;c&&!c.matches(a);)c=c.parentElement;return c}})(Element.prototype);!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=a()}(function(){return function b(c,d,e){function f(g,h){if(!d[g]){if(!c[g]){var l="function"==typeof require&&require;if(!h&&l)return l(g,!0);if(k)return k(g,!0);l=Error("Cannot find module '"+g+"'");throw l.code="MODULE_NOT_FOUND",l;}l=d[g]={exports:{}};
c[g][0].call(l.exports,function(b){var d=c[g][1][b];return f(d?d:b)},l,l.exports,b,c,d,e)}return d[g].exports}for(var k="function"==typeof require&&require,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(b,c,d){var e=b("matches-selector");c.exports=function(b,c,d){for(b=d?b:b.parentNode;b&&b!==document;){if(e(b,c))return b;b=b.parentNode}}},{"matches-selector":5}],2:[function(b,c,d){function e(b,c,d,e){return function(d){d.delegateTarget=f(d.target,c,!0);d.delegateTarget&&e.call(b,d)}}var f=b("closest");
c.exports=function(b,c,d,f,l){var q=e.apply(this,arguments);return b.addEventListener(d,q,l),{destroy:function(){b.removeEventListener(d,q,l)}}}},{closest:1}],3:[function(b,c,d){d.node=function(b){return void 0!==b&&b instanceof HTMLElement&&1===b.nodeType};d.nodeList=function(b){var c=Object.prototype.toString.call(b);return void 0!==b&&("[object NodeList]"===c||"[object HTMLCollection]"===c)&&"length"in b&&(0===b.length||d.node(b[0]))};d.string=function(b){return"string"==typeof b||b instanceof
String};d.fn=function(b){return"[object Function]"===Object.prototype.toString.call(b)}},{}],4:[function(b,c,d){function e(b,c,d){return b.addEventListener(c,d),{destroy:function(){b.removeEventListener(c,d)}}}function f(b,c,d){return Array.prototype.forEach.call(b,function(b){b.addEventListener(c,d)}),{destroy:function(){Array.prototype.forEach.call(b,function(b){b.removeEventListener(c,d)})}}}var k=b("./is"),h=b("delegate");c.exports=function(b,c,d){if(!b&&!c&&!d)throw Error("Missing required arguments");
if(!k.string(c))throw new TypeError("Second argument must be a String");if(!k.fn(d))throw new TypeError("Third argument must be a Function");if(k.node(b))return e(b,c,d);if(k.nodeList(b))return f(b,c,d);if(k.string(b))return h(document.body,b,c,d);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},{"./is":3,delegate:2}],5:[function(b,c,d){b=Element.prototype;var e=b.matchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||
b.oMatchesSelector;c.exports=function(b,c){if(e)return e.call(b,c);for(var d=b.parentNode.querySelectorAll(c),g=0;g<d.length;++g)if(d[g]==b)return!0;return!1}},{}],6:[function(b,c,d){c.exports=function(b){if("INPUT"===b.nodeName||"TEXTAREA"===b.nodeName)b.focus(),b.setSelectionRange(0,b.value.length),b=b.value;else{b.hasAttribute("contenteditable")&&b.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(b);c.removeAllRanges();c.addRange(d);b=c.toString()}return b}},{}],
7:[function(b,c,d){function e(){}e.prototype={on:function(b,c,d){var e=this.e||(this.e={});return(e[b]||(e[b]=[])).push({fn:c,ctx:d}),this},once:function(b,c,d){function e(){n.off(b,e);c.apply(d,arguments)}var n=this;return e._=c,this.on(b,e,d)},emit:function(b){var c=[].slice.call(arguments,1),d=((this.e||(this.e={}))[b]||[]).slice(),e=0,n=d.length;for(e;n>e;e++)d[e].fn.apply(d[e].ctx,c);return this},off:function(b,c){var d=this.e||(this.e={}),e=d[b],n=[];if(e&&c)for(var l=0,q=e.length;q>l;l++)e[l].fn!==
c&&e[l].fn._!==c&&n.push(e[l]);return n.length?d[b]=n:delete d[b],this}};c.exports=e},{}],8:[function(b,c,d){!function(e,f){if("undefined"!=typeof d)f(c,b("select"));else{var k={exports:{}};f(k,e.select);e.clipboardAction=k.exports}}(this,function(b,c){var d=c&&c.__esModule?c:{"default":c},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol?"symbol":typeof b},g=function(){function b(c,d){for(var e=
0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),n=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.resolveOptions(c);this.initSelection()}return b.prototype.resolveOptions=function(){var b=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];this.action=b.action;this.emitter=
b.emitter;this.target=b.target;this.text=b.text;this.trigger=b.trigger;this.selectedText=""},b.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},b.prototype.selectFake=function(){var b=this,c="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return b.removeFake()};this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");
this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[c?"right":"left"]="-9999px";this.fakeElem.style.airborn_top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=(0,d.default)(this.fakeElem);this.copyText()},b.prototype.removeFake=
function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},b.prototype.selectTarget=function(){this.selectedText=(0,d.default)(this.target);this.copyText()},b.prototype.copyText=function(){var b=void 0;try{b=document.execCommand(this.action)}catch(c){b=!1}this.handleResult(b)},b.prototype.handleResult=function(b){b?this.emitter.emit("success",
{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},b.prototype.clearSelection=function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()},b.prototype.destroy=function(){this.removeFake()},g(b,[{key:"action",set:function(){if(this._action=0>=arguments.length||void 0===arguments[0]?"copy":arguments[0],
"copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(b){if(void 0!==b){if(!b||"object"!==("undefined"==typeof b?"undefined":h(b))||1!==b.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&b.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&
(b.hasAttribute("readonly")||b.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=b}},get:function(){return this._target}}]),b}();b.exports=n})},{select:6}],9:[function(b,c,d){!function(e,f){if("undefined"!=typeof d)f(c,b("./clipboard-action"),b("tiny-emitter"),b("good-listener"));else{var k={exports:{}};f(k,e.clipboardAction,e.tinyEmitter,e.goodListener);e.clipboard=k.exports}}(this,function(b,
c,d,h){function g(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}function l(b,c){var d="data-clipboard-"+b;if(c.hasAttribute(d))return c.getAttribute(d)}var q=g(c);c=g(d);var u=g(h);h=function(b){function c(d,
e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!=typeof f&&"function"!=typeof f?this:f;return f.resolveOptions(e),f.listenClick(d),f}return n(c,b),c.prototype.resolveOptions=function(){var b=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof b.action?b.action:this.defaultAction;this.target="function"==
typeof b.target?b.target:this.defaultTarget;this.text="function"==typeof b.text?b.text:this.defaultText},c.prototype.listenClick=function(b){var c=this;this.listener=(0,u.default)(b,"click",function(b){return c.onClick(b)})},c.prototype.onClick=function(b){b=b.delegateTarget||b.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new q.default({action:this.action(b),target:this.target(b),text:this.text(b),trigger:b,emitter:this})},c.prototype.defaultAction=function(b){return l("action",
b)},c.prototype.defaultTarget=function(b){return(b=l("target",b))?document.querySelector(b):void 0},c.prototype.defaultText=function(b){return l("text",b)},c.prototype.destroy=function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},c}(c.default);b.exports=h})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});(function(a,b){function c(a,b,c){this.name="L10nError";this.message=a;this.id=b;this.loc=c}function d(){}function e(a){return function(b){return b.toLocaleString(a)}}function f(a){function b(a,c){return-1!==c.indexOf(a)}function c(a,b,d){return typeof a===typeof b&&b<=a&&a<=d}var d={0:function(){return"other"},1:function(a){return c(a%100,3,10)?"few":0===a?"zero":c(a%100,11,99)?"many":2===a?"two":1===a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2===a?"two":1===a?"one":"other"},3:function(a){return 1===
a?"one":"other"},4:function(a){return c(a,0,1)?"one":"other"},5:function(a){return c(a,0,2)&&2!==a?"one":"other"},6:function(a){return 0===a?"zero":1===a%10&&11!==a%100?"one":"other"},7:function(a){return 2===a?"two":1===a?"one":"other"},8:function(a){return c(a,3,6)?"few":c(a,7,10)?"many":2===a?"two":1===a?"one":"other"},9:function(a){return 0===a||1!==a&&c(a%100,1,19)?"few":1===a?"one":"other"},10:function(a){return c(a%10,2,9)&&!c(a%100,11,19)?"few":1!==a%10||c(a%100,11,19)?"other":"one"},11:function(a){return c(a%
10,2,4)&&!c(a%100,12,14)?"few":0===a%10||c(a%10,5,9)||c(a%100,11,14)?"many":1===a%10&&11!==a%100?"one":"other"},12:function(a){return c(a,2,4)?"few":1===a?"one":"other"},13:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":1!==a&&c(a%10,0,1)||c(a%10,5,9)||c(a%100,12,14)?"many":1===a?"one":"other"},14:function(a){return c(a%100,3,4)?"few":2===a%100?"two":1===a%100?"one":"other"},15:function(a){return 0===a||c(a%100,2,10)?"few":c(a%100,11,19)?"many":1===a?"one":"other"},16:function(a){return 1===
a%10&&11!==a?"one":"other"},17:function(a){return 3===a?"few":0===a?"zero":6===a?"many":2===a?"two":1===a?"one":"other"},18:function(a){return 0===a?"zero":c(a,0,2)&&0!==a&&2!==a?"one":"other"},19:function(a){return c(a,2,10)?"few":c(a,0,1)?"one":"other"},20:function(a){return!c(a%10,3,4)&&9!==a%10||c(a%100,10,19)||c(a%100,70,79)||c(a%100,90,99)?0===a%1E6&&0!==a?"many":2!==a%10||b(a%100,[12,72,92])?1!==a%10||b(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1===a?"one":
"other"},22:function(a){return c(a,0,1)||c(a,11,99)?"one":"other"},23:function(a){return c(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return c(a,3,10)||c(a,13,19)?"few":b(a,[2,12])?"two":b(a,[1,11])?"one":"other"}};a={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,
hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,
ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return a in d?d[a]:function(){return"other"}}function k(a,b){var d={overlay:!1};if("string"===typeof b)return[d,b];if(b.dirty)throw new c("Cyclic reference detected: "+b.id);b.dirty=!0;var e;try{e=l(d,a,b.env,b.value,b.index)}finally{b.dirty=!1}return e}function h(a,b,d){if(-1<la.indexOf(d))return[{},b["__"+d]];if(a&&a.hasOwnProperty(d)){if("string"===
typeof a[d]||"number"===typeof a[d]&&!isNaN(a[d]))return[{},a[d]];throw new c("Arg must be a string or a number: "+d);}if(d in b&&"__proto__"!==d)return k(a,b[d]);throw new c("Unknown reference: "+d);}function g(a,b,d,e){return e.reduce(function(e,K){if("string"===typeof K)return[e[0],e[1]+K];if("idOrVar"===K.t){var f;a:{f=K.v;var g;try{g=h(b,d,f)}catch(k){f=[{error:k},"{{ "+f+" }}"];break a}var p=g[1];if("number"===typeof p)g[1]=d.__number(p),f=g;else if("string"===typeof p){if(2500<=p.length)throw new c("Too many characters in placeable ("+
p.length+", max allowed is 2500)");if(a.contextIsNonLatin1||p.match(ga))g[1]="\u2068"+p+"\u2069";f=g}else f=[{},"{{ "+f+" }}"]}f[0].overlay&&(e[0].overlay=!0);return[e[0],e[1]+f[1]]}},[a,""])}function n(a,c,d,e){var f=h(a,c,e[0].v)[1];if("function"!==typeof f)return f;a=e[1]?h(a,c,e[1])[1]:b;if(f===c.__plural){if(0===a&&"zero"in d)return"zero";if(1===a&&"one"in d)return"one";if(2===a&&"two"in d)return"two"}return f(a)}function l(a,b,d,e,f){if(!e)return[a,e];e.$o&&(e=e.$o,a.overlay=!0);if("string"===
typeof e||"boolean"===typeof e||"number"===typeof e)return[a,e];if(Array.isArray(e))return a.contextIsNonLatin1=e.some(function(a){return"string"===typeof a&&a.match(ga)}),g(a,b,d,e);if(f&&(f=n(b,d,e,f),e.hasOwnProperty(f)))return l(a,b,d,e[f]);if("other"in e)return l(a,b,d,e.other);throw new c("Unresolvable value");}function q(a,b){if("string"===typeof a)return b(a);if("idOrVar"===a.t)return a;for(var c=Array.isArray(a)?[]:{},d=Object.keys(a),e=0,f;f=d[e];e++)c[f]="$i"===f||"$x"===f?a[f]:q(a[f],
b);return c}function u(a,b){return b.replace(ma,function(b){return a.charAt(b.charCodeAt(0)-65)})}function r(a,b){return b?b.split(ha).map(function(b){return ha.test(b)?b:a(b)}).join(""):b}function p(a,b,c,d){this.id=a;this.translate=r.bind(null,function(a){return u(c,d(a))});this.name=this.translate(b)}function t(a,b){this.id=a;this.ctx=b;this.isReady=!1;this.entries=Object.create(null);var c=this.isPseudo()?this.ctx.defaultLocale:a;this.entries.__number=e(c);this.entries.__plural=f(c)}function v(a,
b){return T.createEntry(q(a,Y[this.id].translate),b)}function w(a){this.id=a;this.isLoading=this.isReady=!1;this.defaultLocale="en-US";this.availableLocales=[];this.supportedLocales=[];this.qps=[];this.resLinks=[];this.locales={};this._emitter=new d;this._ready=new Promise(this.once.bind(this))}function B(a,b){this._emitter.emit("notfounderror",b);return a}function A(a){for(var d=0,e,f;e=this.supportedLocales[d];)if(f=this.getLocale(e),f.isReady||f.build(null),f=f.entries[a],f===b)d++,B.call(this,
a,new c('"'+a+'" not found in '+e+" in "+this.id,a,e));else return f;throw new c('"'+a+'" missing from all supported locales in '+this.id,a);}function C(a,b){try{return T.format(a,b)}catch(c){return this._emitter.emit("resolveerror",c),[{error:c},b.id]}}function z(a,b){return"string"===typeof b?b:C.call(this,a,b)[1]}function y(a,b){var c=C.call(this,a,b),c={value:c[1],attrs:null,overlay:c[0].overlay};b.attrs&&(c.attrs=Object.create(null));for(var d in b.attrs){var e=C.call(this,a,b.attrs[d]);c.attrs[d]=
e[1];e[0].overlay&&(c.overlay=!0)}return c}function m(a,b,c){return this._ready.then(A.bind(this,b)).then(a.bind(this,c),B.bind(this,b))}function x(a,b,d){if(!this.isReady)throw new c("Context not ready");var e;try{e=A.call(this,b)}catch(f){if(f.loc)throw f;B.call(this,b,f);return""}return a.call(this,d,e)}function D(a){this.supportedLocales=a;this.isReady=!0;this._emitter.emit("ready")}function G(a,b){a=Z[a];Z[document.airborn_readyState]>=a?b():document.addEventListener("readystatechange",function K(){Z[document.airborn_readyState]>=
a&&(document.removeEventListener("readystatechange",K),b())})}function E(){aa=new MutationObserver(Q.bind(navigator.mozL10n));aa.observe(document,ia)}function H(a){a||E();J.call(navigator.mozL10n)}function J(){for(var a={},b=document.head.querySelectorAll('link[rel="localization"],meta[name="availableLanguages"],meta[name="defaultLanguage"],meta[name="appVersion"],script[type="application/l10n"]'),c=0,d;d=b[c];c++)switch(d.getAttribute("rel")||d.nodeName.toLowerCase()){case "localization":this.ctx.resLinks.push(d.getAttribute("href"));
break;case "meta":P.call(this,d,a);break;case "script":I.call(this,d)}navigator.mozApps&&navigator.mozApps.getAdditionalLanguages?(b=navigator.mozApps.getAdditionalLanguages().catch(function(a){console.error("Error while loading getAdditionalLanguages",a)}),document.addEventListener("additionallanguageschange",function(b){M.call(this,a,b.detail);this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language])}.bind(this))):b=Promise.resolve();b.then(function(b){M.call(this,a,b);O.call(this)}.bind(this))}
function M(a,b){var c=S.call(this,a,b);navigator.mozL10n._config.localeSources=c[1];this.ctx.registerLocales(c[0],Object.keys(c[1]))}function S(a,b){var c,d,e=Object.create(null),f=a.defaultLanguage||this.ctx.defaultLocale;if(a.availableLanguages)for(c in a.availableLanguages)e[c]="app";if(b)for(c in b){a:{d=0;for(var g=void 0;g=b[c][d];d++)if(g.target===this._config.appVersion){d=g;break a}d=null}!d||c in e&&a.availableLanguages[c]&&!(parseInt(d.revision)>a.availableLanguages[c])||(e[c]="extra")}f in
e||(e[f]="app");return[f,e]}function F(a){var b={};a.split(",").forEach(function(a){a=a.trim().split(":");b[a[0]]=parseInt(a[1])});return b}function P(a,b){switch(a.getAttribute("name")){case "availableLanguages":b.availableLanguages=F(a.getAttribute("content"));break;case "defaultLanguage":b.defaultLanguage=a.getAttribute("content");break;case "appVersion":navigator.mozL10n._config.appVersion=a.getAttribute("content")}}function I(a){var b=a.getAttribute("lang");this.ctx.getLocale(b).addAST(JSON.parse(a.textContent))}
function O(){this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language]);a.addEventListener("languagechange",function(){this.ctx.requestLocales.apply(this.ctx,navigator.languages||[navigator.language])}.bind(this))}function X(a){for(var b,c=new Set,d=0;d<a.length;d++){b=a[d];if("childList"===b.type)for(var e,f=0;f<b.addedNodes.length;f++)e=b.addedNodes[f],e.nodeType===Node.ELEMENT_NODE&&c.add(e);"attributes"===b.type&&c.add(b.target)}c.forEach(function(a){a.childElementCount?
V.call(this,a):a.hasAttribute("data-l10n-id")&&R.call(this,a)},this)}function Q(a,b){b.disconnect();X.call(this,a);b.observe(document,ia)}function ba(){document.documentElement.lang=this.language.code;document.documentElement.dir=this.language.direction;V.call(this,document.documentElement)}function V(a){a.hasAttribute("data-l10n-id")&&R.call(this,a);a=a?a.querySelectorAll("*[data-l10n-id]"):[];for(var b=0;b<a.length;b++)R.call(this,a[b])}function ca(a){return{id:a.getAttribute("data-l10n-id"),args:JSON.parse(a.getAttribute("data-l10n-args"))}}
function ka(a){return"ariaValueText"===a?"aria-valuetext":a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}).replace(/^-/,"")}function R(a){if(this.ctx.isReady){var b=ca(a);if(!b.id)return!1;var b=this.ctx.getEntity(b.id,b.args),c;b.attrs&&b.attrs.airborn_innerHTML?(c=b.attrs.airborn_innerHTML,console.warn("L10n Deprecation Warning: using innerHTML in translations is unsafe and will not be supported in future versions of l10n.js. See https://bugzil.la/1027117")):c=b.value;if("string"===typeof c)if(b.overlay){var d=
a.ownerDocument.createElement("template");d.airborn_innerHTML=c;if(!("content"in d))for(d.content=a.ownerDocument.createDocumentFragment();c=d.childNodes[0];)d.removeChild(c),d.content.appendChild(c);da(a,d.content)}else a.textContent=c;for(var e in b.attrs)d=ka(e),W({name:d},a)&&a.setAttribute(d,b.attrs[e])}else L||(L=[]),L.push(a)}function da(a,b){for(var c=b.ownerDocument.createDocumentFragment(),d,e,f;f=b.childNodes[0];)if(b.removeChild(f),f.nodeType===Node.TEXT_NODE)c.appendChild(f);else{d=0;for(var g=
void 0;g=f.previousElementSibling;)g.tagName===f.tagName&&d++;a:{for(var k=g=0,h=void 0;h=a.children[k];k++)if(h.nodeType===Node.ELEMENT_NODE&&h.tagName===f.tagName){if(g===d){d=h;break a}g++}d=null}if(d)da(d,f),c.appendChild(d);else if(-1!==U.elements.indexOf(f.tagName.toLowerCase())){d=0;for(e;e=f.attributes[d];d++)W(e,f)||f.removeAttribute(e.name);c.appendChild(f)}else c.appendChild(document.createTextNode(f.textContent))}a.textContent="";a.appendChild(c);if(b.attributes)for(d=0,e;e=b.attributes[d];d++)W(e,
a)&&a.setAttribute(e.name,e.value)}function W(a,b){var c=a.name.toLowerCase(),d=b.tagName.toLowerCase();return-1!==U.attributes.global.indexOf(c)?!0:U.attributes[d]?-1!==U.attributes[d].indexOf(c)||"input"===d&&"value"===c&&(c=b.type.toLowerCase(),"submit"===c||"button"===c||"reset"===c)?!0:!1:!1}c.prototype=Object.create(Error.prototype);c.prototype.constructor=c;var N={_load:function(a,b,d,e){var f=new XMLHttpRequest,g;f.overrideMimeType&&f.overrideMimeType(a);f.open("GET",b,!e);"application/json"===
a&&(e?g=!0:f.airborn_responseType="json");f.addEventListener("load",function(a){200===a.target.airborn_status||0===a.target.airborn_status?(a=a.target.airborn_response||a.target.airborn_responseText,d(null,g?JSON.parse(a):a)):d(new c("Not found: "+b))});f.addEventListener("error",d);f.addEventListener("timeout",d);try{f.send(null)}catch(h){if("NS_ERROR_FILE_NOT_FOUND"===h.name)d(new c("Not found: "+b));else throw h;}},load:function(a,b,c){return N._load("text/plain",a,b,c)},loadJSON:function(a,b,c){return N._load("application/json",a,b,
c)}};d.prototype.emit=function(){if(this._listeners){var a=Array.prototype.slice.call(arguments),b=a.shift();if(this._listeners[b])for(var b=this._listeners[b].slice(),c=0;c<b.length;c++)b[c].apply(this,a)}};d.prototype.addEventListener=function(a,b){this._listeners||(this._listeners={});a in this._listeners||(this._listeners[a]=[]);this._listeners[a].push(b)};d.prototype.removeEventListener=function(a,b){if(this._listeners){var c=this._listeners[a],d=c.indexOf(b);-1!==d&&c.splice(d,1)}};var ea={patterns:null,
entryIds:null,init:function(){this.patterns={comment:/^\s*#|^\s*$/,entity:/^([^=\s]+)\s*=\s*(.*)$/,multiline:/[^\\]\\$/,index:/\{\[\s*(\w+)(?:\(([^\)]*)\))?\s*\]\}/i,unicode:/\\u([0-9a-fA-F]{1,4})/g,entries:/[^\r\n]+/g,controlChars:/\\([\\\n\r\t\b\f\{\}\"\'])/g,placeables:/\{\{\s*([^\s]*?)\s*\}\}/}},parse:function(a,b){this.patterns||this.init();var c=[];this.entryIds=Object.create(null);var d=b.match(this.patterns.entries);if(!d)return c;for(var e=0;e<d.length;e++){var f=d[e];if(!this.patterns.comment.test(f)){for(;this.patterns.multiline.test(f)&&
e<d.length;)f=f.slice(0,-1)+d[++e].trim();if(f=f.match(this.patterns.entity))try{this.parseEntity(f[1],f[2],c)}catch(g){if(a)a._emitter.emit("parseerror",g);else throw g;}}}return c},parseEntity:function(a,b,d){var e,f;f=a.indexOf("[");-1!==f?(e=a.substr(0,f),f=a.substring(f+1,a.length-1)):(e=a,f=null);var g=e.split(".");if(2<g.length)throw new c('Error in ID: "'+e+'". Nested attributes are not supported.');if(1<g.length){if(e=g[0],g=g[1],"$"===g[0])throw new c('Attribute can\'t start with "$"',a);
}else g=null;this.setEntityValue(e,g,f,this.unescapeString(b),d)},setEntityValue:function(a,c,d,e,f){var g=-1<e.indexOf("{{")?this.parseString(e):e;if(-1<e.indexOf("<")||-1<e.indexOf("&"))g={$o:g};c?(e=this.entryIds[a],e===b?(e={$i:a},d?(e[c]={},e[c][d]=g):e[c]=g,f.push(e),this.entryIds[a]=f.length-1):d?("string"===typeof f[e][c]&&(f[e][c]={$x:this.parseIndex(f[e][c]),$v:{}}),f[e][c].$v[d]=g):f[e][c]=g):d?(e=this.entryIds[a],e===b?(e={},e[d]=g,f.push({$i:a,$v:e}),this.entryIds[a]=f.length-1):("string"===
typeof f[e].$v&&(f[e].$x=this.parseIndex(f[e].$v),f[e].$v={}),f[e].$v[d]=g)):(f.push({$i:a,$v:g}),this.entryIds[a]=f.length-1)},parseString:function(a){a=a.split(this.patterns.placeables);var b=[],d=(a.length-1)/2;if(100<=d)throw new c("Too many placeables ("+d+", max allowed is 100)");for(d=0;d<a.length;d++)0!==a[d].length&&(1===d%2?b.push({t:"idOrVar",v:a[d]}):b.push(a[d]));return b},unescapeString:function(a){-1!==a.lastIndexOf("\\")&&(a=a.replace(this.patterns.controlChars,"$1"));return a.replace(this.patterns.unicode,
function(a,b){return unescape("%u"+"0000".slice(b.length)+b)})},parseIndex:function(a){a=a.match(this.patterns.index);if(!a)throw new c("Malformed index");return a[2]?[{t:"idOrVar",v:a[1]},a[2]]:[{t:"idOrVar",v:a[1]}]}},fa={_patterns:{identifier:/[A-Za-z_]\w*/g,unicode:/\\u([0-9a-fA-F]{1,4})/g,index:/@cldr\.plural\(\$?(\w+)\)/g,placeables:/\{\{\s*\$?([^\s]*?)\s*\}\}/,unesc:/\\({{|u[0-9a-fA-F]{4}|.)/g},parse:function(a,b,c){this._source=b;this._index=0;this._length=this._source.length;this.simpleMode=
c;this.ctx=a;return this.getL20n()},getAttributes:function(){for(var a=Object.create(null),b,c;b=this.getKVPWithIndex(),a[b[0]]=b[1],b=this.getRequiredWS(),c=this._source.charAt(this._index),">"!==c;)if(!b)throw this.error('Expected ">"');return a},getKVP:function(){var a=this.getIdentifier();this.getWS();if(":"!==this._source.charAt(this._index))throw this.error('Expected ":"');++this._index;this.getWS();return[a,this.getValue()]},getKVPWithIndex:function(){var a=this.getIdentifier(),c=null;"["===
this._source.charAt(this._index)&&(++this._index,this.getWS(),c=this.getIndex());this.getWS();if(":"!==this._source.charAt(this._index))throw this.error('Expected ":"');++this._index;this.getWS();return[a,this.getValue(!1,b,c)]},getHash:function(){++this._index;this.getWS();for(var a,b={};;){a=this.getKVP();b[a[0]]=a[1];this.getWS();if(a=","===this._source.charAt(this._index))++this._index,this.getWS();if("}"===this._source.charAt(this._index)){++this._index;break}if(!a)throw this.error('Expected "}"');
}return b},unescapeString:function(a,b){return a.replace(this._patterns.unesc,function(a,c){switch(c){case "\\":return"\\";case "{{":return"{{";case b:return b;default:if(5===c.length&&"u"===c.charAt(0))return String.fromCharCode(parseInt(c.substr(1),16));throw this.error("Illegal unescape sequence");}}.bind(this))},getString:function(a){var b=!1,c=this._source.indexOf(a,this._index+1);a:for(;-1!==c;){for(var d=c-1;92===this._source.charCodeAt(d);)if(92===this._source.charCodeAt(d-1))d-=2;else{c=
this._source.indexOf(a,c+1);continue a}break}if(-1===c)throw this.error("Unclosed string literal");d=this._source.slice(this._index+1,c);this._index=c+1;this.simpleMode||-1===d.indexOf("\\")||(d=this.unescapeString(d,a));if(-1<d.indexOf("<")||-1<d.indexOf("&"))b=!0;return this.simpleMode||-1===d.indexOf("{{")?[d,b]:[this.parseString(d),b]},getValue:function(a,c,d){var e;c===b&&(c=this._source.charAt(this._index));"'"===c||'"'===c?(c=this.getString(c),e=c[1]?{$o:c[0]}:c[0]):"{"===c&&(e=this.getHash());
if(e===b){if(!a)throw this.error("Unknown value type");return null}return d?{$v:e,$x:d}:e},getRequiredWS:function(){for(var a=this._index,b=this._source.charCodeAt(a);32===b||10===b||9===b||13===b;)b=this._source.charCodeAt(++this._index);return this._index!==a},getWS:function(){for(var a=this._source.charCodeAt(this._index);32===a||10===a||9===a||13===a;)a=this._source.charCodeAt(++this._index)},getIdentifier:function(){var a=this._patterns.identifier;a.lastIndex=this._index;var b=a.exec(this._source);
if(a.lastIndex!==this._index+b[0].length)throw this.error("Identifier has to start with [a-zA-Z_]");this._index=a.lastIndex;return b[0]},getComment:function(){this._index+=2;var a=this._source.indexOf("*/",this._index);if(-1===a)throw this.error("Comment without closing tag");this._index=a+2},getEntity:function(a,b){var c={$i:a};b&&(c.$x=b);if(!this.getRequiredWS())throw this.error("Expected white space");var d=this._source.charAt(this._index),e=this.getValue(null===b,d),f=null;if(null===e){if(">"===
d)throw this.error('Expected ">"');f=this.getAttributes()}else if(c.$v=e,d=this.getRequiredWS(),">"!==this._source.charAt(this._index)){if(!d)throw this.error('Expected ">"');f=this.getAttributes()}++this._index;if(f)for(var g in f)c[g]=f[g];return c},getEntry:function(){if(60===this._source.charCodeAt(this._index)){++this._index;var a=this.getIdentifier();return 91===this._source.charCodeAt(this._index)?(++this._index,this.getEntity(a,this.getIndex())):this.getEntity(a,null)}if(47===this._source.charCodeAt(this._index)&&
42===this._source.charCodeAt(this._index+1))return this.getComment();throw this.error("Invalid entry");},getL20n:function(){var a=[];for(this.getWS();this._index<this._length;){try{var b=this.getEntry();b&&a.push(b)}catch(c){if(this.ctx)this.ctx._emitter.emit("parsererror",c);else throw c;}this._index<this._length&&this.getWS()}return a},getIndex:function(){this.getWS();this._patterns.index.lastIndex=this._index;var a=this._patterns.index.exec(this._source);this._index=this._patterns.index.lastIndex;
this.getWS();this._index++;return[{t:"idOrVar",v:"plural"},a[1]]},parseString:function(a){a=a.split(this._patterns.placeables);var b=[],d=(a.length-1)/2;if(100<=d)throw new c("Too many placeables ("+d+", max allowed is 100)");for(d=0;d<a.length;d++)0!==a[d].length&&(1===d%2?b.push({t:"idOrVar",v:a[d]}):b.push(a[d]));return b},error:function(a,d){d===b&&(d=this._index);var e=this._source.lastIndexOf("<",d-1),f=this._source.lastIndexOf(">",d-1),e=this._source.slice(f>e?f+1:e,d+10);return new c(a+" at pos "+
d+': "'+e+'"',d,e)}},la=["plural"],ja=/\{\{\s*(.+?)\s*\}\}/g,ga=/[^\x01-\xFF]/,T={createEntry:function(a,c){var d=Object.keys(a);if("string"===typeof a.$v&&2===d.length)return a.$v;for(var e,f=0,g;g=d[f];f++)if("$"!==g[0]){e||(e=Object.create(null));var h=e,k=g;var p=a[g];g="string"===typeof p?p:{id:a.$i+"."+g,value:p.$v||(p!==b?p:null),index:p.$x||null,env:c,dirty:!1};h[k]=g}return{id:a.$i,value:a.$v!==b?a.$v:null,index:a.$x||null,attrs:e||null,env:c,dirty:!1}},format:k,rePlaceables:ja},ma=/[a-zA-Z]/g,
na=/[aeiouAEIOU]/g,oa=/[^\W0-9_]+/g,ha=/(%[EO]?\w|\{\s*.+?\s*\}|&[#\w]+;|<\s*.+?\s*>)/,Y={"qps-ploc":new p("qps-ploc","Runtime Accented","\u0226\u0181\u0187\u1e12\u1e16\u0191\u0193\u0126\u012a\u0134\u0136\u013f\u1e3e\u0220\u01fe\u01a4\u024a\u0158\u015e\u0166\u016c\u1e7c\u1e86\u1e8a\u1e8e\u1e90[\\]^_`\u0227\u0180\u0188\u1e13\u1e17\u0192\u0260\u0127\u012b\u0135\u0137\u0140\u1e3f\u019e\u01ff\u01a5\u024b\u0159\u015f\u0167\u016d\u1e7d\u1e87\u1e8b\u1e8f\u1e91",function(a){return a.replace(na,function(a){return a+
a.toLowerCase()})}),"qps-plocm":new p("qps-plocm","Runtime Mirrored","\u2200\u0510\u2183p\u018e\u025f\u05e4HI\u017f\u04fc\u02e5WNO\u0500\u00d2\u1d1aS\u22a5\u2229\u0245\uff2dX\u028eZ[\\]\u1d65_,\u0250q\u0254p\u01dd\u025f\u0183\u0265\u0131\u027e\u029e\u0285\u026fuodb\u0279s\u0287n\u028c\u028dx\u028ez",function(a){return a.replace(oa,function(a){return"\u202e"+a+"\u202c"})})};t.prototype.isPseudo=function(){return-1!==this.ctx.qps.indexOf(this.id)};var pa={extra:function(a,b,c,d,e,f){"properties"===
d&&(d="text");navigator.mozApps.getLocalizationResource(a,b,c,d).then(e.bind(null,null),f)},app:function(a,b,c,d,e,f,g){switch(d){case "properties":N.load(c,e,g);break;case "json":N.loadJSON(c,e,g)}}};t.prototype.build=function(a){function b(c){c&&g._emitter.emit("fetcherror",c);0>=--k&&(h.isReady=!0,a&&a())}function c(a,d){!a&&d&&h.addAST(d);b(a)}function d(a,c){if(!a&&c){var e=ea.parse(g,c);h.addAST(e)}b(a)}function e(a,c){if(!a&&c){var d=fa.parse(g,c);h.addAST(d)}b(a)}var f=!a,g=this.ctx,h=this,
k=g.resLinks.length;if(0===k)b();else{var p=this.isPseudo()?g.defaultLocale:this.id,r=null,n="app";"undefined"!==typeof navigator&&(n=navigator.mozL10n._config.localeSources[this.id]||"app",r=navigator.mozL10n._config.appVersion);for(var l=0;l<g.resLinks.length;l++){var m=decodeURI(g.resLinks[l]).replace("{locale}",p),q=m.substr(m.lastIndexOf(".")+1),t;switch(q){case "json":t=c;break;case "properties":t=d;break;case "l20n":N.load(m,e,f)}pa[n](this.id,r,m,q,t,b,f)}}};t.prototype.addAST=function(a){for(var b=
this.isPseudo()?v.bind(this):T.createEntry,c=0;c<a.length;c++)this.entries[a[c].$i]=b(a[c],this.entries)};w.prototype.formatValue=function(a,b){return m.call(this,z,a,b)};w.prototype.formatEntity=function(a,b){return m.call(this,y,a,b)};w.prototype.get=function(a,b){return x.call(this,z,a,b)};w.prototype.getEntity=function(a,b){return x.call(this,y,a,b)};w.prototype.getLocale=function(a){var b=this.locales;return b[a]?b[a]:b[a]=new t(a,this)};w.prototype.registerLocales=function(a,b){a&&(this.defaultLocale=
a);this.availableLocales=[this.defaultLocale];this.qps=Object.keys(Y);if(b)for(var c=0,d;d=b[c];c++)-1===this.availableLocales.indexOf(d)&&(this.availableLocales.push(d),d=this.qps.indexOf(d),-1!==d&&this.qps.splice(d,1))};w.prototype.requestLocales=function(){if(this.isLoading&&!this.isReady)throw new c("Context not ready");this.isLoading=!0;var a=Array.prototype.slice.call(arguments),b;b=this.availableLocales.concat(this.qps);for(var d=this.defaultLocale,e,f=0;f<a.length;f++){var g=a[f];if(-1!==
b.indexOf(g)){e=g;break}}b=e&&e!==d?[e,d]:[d];this.supportedLocales[0]!==b[0]&&(e=this.getLocale(b[0]),e.isReady?D.call(this,b):e.build(D.bind(this,b)))};w.prototype.addEventListener=function(a,b){this._emitter.addEventListener(a,b)};w.prototype.removeEventListener=function(a,b){this._emitter.removeEventListener(a,b)};w.prototype.ready=function(a){this.isReady&&setTimeout(a);this.addEventListener("ready",a)};w.prototype.once=function(a){if(this.isReady)setTimeout(a);else{var b=function(){this.removeEventListener("ready",
b);a()}.bind(this);this.addEventListener("ready",b)}};var U={elements:"a em strong small s cite q dfn abbr data time code var samp kbd sub sup i b u mark ruby rt rp bdi bdo span br wbr".split(" "),attributes:{global:["title","aria-label","aria-valuetext","aria-moz-hint"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]}},qa="ar he fa fa-IR ps qps-plocm ur".split(" "),
aa=null,L=null,ia={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:["data-l10n-id","data-l10n-args"]};navigator.mozL10n={ctx:null,get:function(a,b){return navigator.mozL10n.ctx.get(a,b)},formatValue:function(a,b){return navigator.mozL10n.ctx.formatValue(a,b)},formatEntity:function(a,b){return navigator.mozL10n.ctx.formatEntity(a,b)},translateFragment:function(a){return V.call(navigator.mozL10n,a)},setAttributes:function(a,b,c){a.setAttribute("data-l10n-id",b);c&&a.setAttribute("data-l10n-args",
JSON.stringify(c))},getAttributes:ca,ready:function(a){return navigator.mozL10n.ctx.ready(a)},once:function(a){return navigator.mozL10n.ctx.once(a)},get readyState(){return navigator.mozL10n.ctx.isReady?"complete":"loading"},language:{set code(a){navigator.mozL10n.ctx.requestLocales(a)},get code(){return navigator.mozL10n.ctx.supportedLocales[0]},get direction(){return 0<=qa.indexOf(navigator.mozL10n.ctx.supportedLocales[0])?"rtl":"ltr"}},qps:Y,_config:{appVersion:null,localeSources:Object.create(null),
isPretranslated:!1},_getInternalAPI:function(){return{Error:c,Context:w,Locale:t,Resolver:T,getPluralRule:f,rePlaceables:ja,translateDocument:ba,onMetaInjected:P,PropertiesParser:ea,L20nParser:fa,walkContent:q,buildLocaleList:S}}};var Z={loading:0,interactive:1,complete:2};navigator.mozL10n.ctx=new w(a.document?document.URL:null);navigator.mozL10n.ctx.ready(function(){navigator.mozL10n._config.isPretranslated||ba.call(this);navigator.mozL10n._config.isPretranslated=!1;if(L){for(var b=0,c;c=L[b];b++)R.call(this,
c);L=null}aa||E();b=new CustomEvent("localized",{bubbles:!1,cancelable:!1,detail:{language:this.ctx.supportedLocales[0]}});a.dispatchEvent(b)}.bind(navigator.mozL10n));navigator.mozL10n.ctx.addEventListener("notfounderror",function(a){"en-US"===a.loc&&console.warn(a.toString())});a.document&&(navigator.mozL10n._config.isPretranslated=document.documentElement.lang===navigator.language,G("interactive",H.bind(navigator.mozL10n,document.documentElement.dataset.noCompleteBug?!0:!navigator.mozL10n._config.isPretranslated)))})(this);if(!app)var app={};
(function(a,b){function c(b,c){b||c("bad-params");var d=new XMLHttpRequest;d.open("GET",b,!0);d.airborn_responseType="document";d.overrideMimeType("text/html");d.addEventListener("load",function(b){if(200===this.airborn_status)for(var d=this.airborn_response,e=d.querySelectorAll("script, link"),f={},h=0;h<e.length;h++)(function(){var b=e[h],g=b.tagName;if("SCRIPT"===g?b.airborn_src:b.airborn_href){var t=b.type,v="SCRIPT"===g?b.airborn_src:b.airborn_href,w=b.dataset;if(!f[v]){f[v]=[];var B=new XMLHttpRequest;B.open("GET",v,!0);B.airborn_responseType="text";B.addEventListener("load",
function(b){b=!0;if(200===this.airborn_status){var e=d.createElement("SCRIPT"===g?"SCRIPT":"STYLE"),h=this.airborn_response,h=h.replace(/\[ORIGIN_OF_MAIN_DOCUMENT\]/g,a.airborn_location.origin?a.airborn_location.origin:a.airborn_location.protocol+"//"+a.airborn_location.host);e.type=t;e.textContent="SCRIPT"===g?h.replace(/<\/(script)/ig,"<\\/$1")+"\n//# sourceURL="+v:h.replace(/</g,"%3C").replace(/>/g,"%3E")+"\n/*# sourceURL="+v+"*/";for(var r in w)e.dataset[r]=w[r];f[v][0].parentNode.replaceChild(e,f[v][0]);for(r=1;r<f[v].length;r++)f[v][r].parentNode.removeChild(f[v][r]);
delete f[v];for(var l in f){b=!1;break}b&&c(null,"data:text/html,"+encodeURIComponent(d.documentElement.outerHTML))}},!1);B.send()}f[v].push(b)}})();else c(this.airborn_status)},!1);d.send()}function d(a,b,c){b.airborn_contentWindow&&b.airborn_contentWindow.airborn_location.replace(e[a]);c()}var e={};app.modules={load:function(a,b,h){console.log("Loading "+a);e[a]?d(a,b,h):c(a,function(c,n){c?console.error(c):(e[a]=n,d(a,b,h))})}}})(this);function MessageProxy(){function a(a){if(a.airborn_source===b){if(!d[a.data.command])throw Error('No command registered: "'+a.data.command+'"');d[a.data.command].callback(a);d[a.data.command]&&d[a.data.command].useOnce&&e.unRegisterMessageHandler(a.data.command)}}var b,c,d={},e=this;this.registerMessageHandler=function(a,b,c){if("function"!==typeof a)throw new TypeError("callback must be a function");if(!b)for(b=0;d[b];)b++;d[b]={callback:a,useOnce:!!c};return b};this.unRegisterMessageHandler=function(a){d[a]=
void 0};this.postMessage=function(a){b.postMessage(a,"*")};this.setSend=function(a){b=a};this.setRecv=function(b){c&&c.removeEventListener("message",a,!1);(c=b)&&c.addEventListener("message",a,!1)}};var firetext={user:{},parsers:{},analytics:{}},version="0.5.1",serverURL="https://www.airbornos.com/firetext";firetext.initialized=new CustomEvent("firetext.initialized");firetext.isInitialized=!1;
var html=document.getElementsByTagName("html")[0],head=document.getElementsByTagName("head")[0],themeColor=document.getElementById("theme-color"),loadSpinner,editor,editHeader,editBar,toolbar,editWindow,editState,rawEditor,rawEditorElement,tempText,tabRaw,tabDesign,printButton,currentFileName,currentFileType,currentFileLocation,currentFileDirectory,deviceType,fileChanged,saveTimeout,saving,bold,fontSelect,fontSizeSelect,italic,justifyLeft,justifyCenter,justifyRight,justifyFull,strikeThrough,superscript,
subscript,styleSelect,underline,underlineCheckbox,locationLegend,locationSelect,locationDevice,editorMessageProxy,printButtonMessageProxy,wordCountElement,wordCountEnabled=!1,welcomeMainArea,welcomeDocsList,welcomeRecentsArea,welcomeRecentsList,appCache=window.applicationCache;window.addEventListener("DOMContentLoaded",function(){firetext.init()},!1);
firetext.init=function(){navigator.mozL10n.once(function(){initElements();initModules(function(){updateDocLists();initSharedDocuments(function(){"true"==firetext.settings.get("autoload")&&"true"==firetext.settings.get("autoload.wasEditing")&&loadToEditor(firetext.settings.get("autoload.dir"),firetext.settings.get("autoload.name"),firetext.settings.get("autoload.ext"),firetext.settings.get("autoload.loc"));spinner("hide");regions.nav("welcome")});initListeners();window.dispatchEvent(firetext.initialized);
firetext.isInitialized=!0})});navigator.mozL10n.ready(function(){if(navigator.mozL10n.ctx.locales.en&&!navigator.mozL10n.ctx.locales.en.isReady){var a=new XMLHttpRequest;a.open("GET","/locales/en.app.properties");a.addEventListener("load",function(){navigator.mozL10n.ctx.supportedLocales=[];firetext.language(firetext.settings.get("language"))});a.send()}else initElementTitles(),setTimeout(function(){Array.prototype.forEach.call(toolbar.getElementsByTagName("select"),function(a){var c=a.getAttribute("style")||
"";a.setAttribute("style","");var d=a.clientWidth;a.setAttribute("style",c);a.style.width=d+"px"})},1250)})};
function initModules(a){initLocation();checkDevice();firetext.language(firetext.settings.get("language"));initGestures();night();extIcon();firetext.recents.init();firetext.io.init(null,function(){firetext.settings.init();a()});var b=!airborn.top_location.hash.includes("s=");setTimeout(initPrintButton,1500*b,function(){});initCopyButtons();setTimeout(initColorPickers,1E3*b);setTimeout(prefetchHTMLEditor,500*b);christmas()}
function initElementTitles(){Array.prototype.forEach.call(document.querySelectorAll("[data-l10n-title]"),function(a){var b=a.getAttribute("data-l10n-title"),c=navigator.mozL10n.get(b);a.title=c;var d,e,f,k;a.ontouchstart=function(b){e=Date.now();f=b.touches[0].clientX;k=b.touches[0].clientY;d=setTimeout(function(){function b(){document.removeEventListener("touchstart",b);d.classList.remove("shown");d.addEventListener("transitionend",function(){this.parentElement.removeChild(this)})}var d=document.createElement("div");
d.textContent=c;d.className="titlePopup";a.offsetParent.appendChild(d);var e=a.getBoundingClientRect(),f=a.offsetParent.getBoundingClientRect();d.style.airborn_top=45<=window.innerHeight-e.airborn_top-a.offsetHeight?a.offsetTop+a.offsetHeight+10+"px":a.offsetTop-35+"px";d.style.left=Math.max(10,Math.min(window.innerWidth-a.offsetWidth-10,e.left+(a.offsetWidth-d.offsetWidth)/2))-f.left+"px";d.classList.add("shown");setTimeout(b,3E3);document.addEventListener("touchstart",b)},500)};a.ontouchend=function(a){500<Date.now()-
e?a.preventDefault():clearTimeout(d)};a.ontouchmove=function(a){100<Math.pow(a.touches[0].clientX-f,2)+Math.pow(a.touches[0].clientY-k,2)&&clearTimeout(d)};a.ontouchleave=a.ontouchcancel=function(a){clearTimeout(d)}})}
function initElements(){loadSpinner=document.getElementById("loadSpinner");spinner();tabDesign=document.getElementById("tab-design");tabRaw=document.getElementById("tab-raw");editor=document.getElementById("editor");rawEditorElement=document.getElementById("rawEditor");editHeader=document.querySelector(".edit-header");editBar=document.getElementById("edit-bar");toolbar=document.getElementById("edit-zone");editWindow=document.getElementById("edit");locationLegend=document.getElementById("locationLegend");
locationSelect=document.getElementById("createDialogFileLocation");printButton=document.getElementById("printButton");wordCountElement=document.getElementById("word-count");currentFileName=document.getElementById("currentFileName");currentFileType=document.getElementById("currentFileType");currentFileLocation=document.getElementById("currentFileLocation");currentFileDirectory=document.getElementById("currentFileDirectory");welcomeMainArea=document.getElementById("welcome-main-area");welcomeDocsList=
document.getElementById("welcome-docs-list");welcomeRecentsArea=document.getElementById("welcome-recents-area");welcomeRecentsList=document.getElementById("welcome-recents-list");bold=document.getElementById("bold");fontSelect=document.getElementById("font-select");fontSizeSelect=document.getElementById("font-size-select");italic=document.getElementById("italic");justifyLeft=document.getElementById("justify-left");justifyCenter=document.getElementById("justify-center");justifyRight=document.getElementById("justify-right");
justifyFull=document.getElementById("justify-full");strikeThrough=document.getElementById("strikethrough");superscript=document.getElementById("superscript");subscript=document.getElementById("subscript");underline=document.getElementById("underline");styleSelect=document.getElementById("style-select")}function throttle(a,b){var c=0,d;return function(){var e=Date.now();e-c>b&&(a.apply(this,arguments),c=e);d&&clearTimeout(d);d=setTimeout(a,b)}}
function initListeners(){function a(a){1!=a.target.classList.contains("sticky")&&a.target.classList.remove("active")}toolbar.addEventListener("mousedown",function(a){"select"!==a.target.nodeName.toLowerCase()&&(a.preventDefault(),a.target.classList.toggle("active"))});Array.prototype.forEach.call(toolbar.getElementsByTagName("select"),function(a){a.addEventListener("change",function(){editor.airborn_contentWindow.focus();updateSelectStyles()})});toolbar.addEventListener("mouseup",a);toolbar.addEventListener("mouseleave",
a);welcomeMainArea.addEventListener("scroll",throttle(updatePreviews,300));welcomeDocsList.addEventListener("contextmenu",function(a){a.preventDefault();1!=editState&&editDocs();if(a=a.target.closest(".fileListItemLink"))a.getElementsByClassName("edit-selected")[0].click(),updateSelectButton()})}var user_location={};
function initLocation(){var a=new XMLHttpRequest;a.open("get",serverURL+"/location",!0);a.onreadystatechange=function(){4==a.airborn_readyState&&200==a.airborn_status&&(user_location=JSON.parse(a.airborn_responseText))};a.send()}
function updateAddDialog(){1>locationSelect.length?[].forEach.call(document.getElementsByClassName("create-dialog"),function(a){a.getElementsByClassName("create-button")[0].style.pointerEvents="none";a.getElementsByClassName("create-button")[0].style.color="#999";a.querySelector('[role="main"]').style.display="none";a=a.getElementsByClassName("no-storage-notice")[0];a.classList.contains("hidden-item")&&a.classList.remove("hidden-item")}):[].forEach.call(document.getElementsByClassName("create-dialog"),
function(a){a.getElementsByClassName("create-button")[0].style.pointerEvents="";a.getElementsByClassName("create-button")[0].style.color="";a.querySelector('[role="main"]').style.display="";locationLegend.style.display=1===locationSelect.length?"none":"block";a=a.getElementsByClassName("no-storage-notice")[0];a.classList.contains("hidden-item")||a.classList.add("hidden-item")})}var allDocs,recentsDocs,sharedDocs=[],internalDocs=[];
function updateAllDocs(){allDocs=recentsDocs.concat(internalDocs.sort(function(a,b){return b[5]-a[5]})).concat(sharedDocs).filter(function(a,b,c){for(var d=0;d<b;d++)if(c[d][0]==a[0]&&c[d][1]==a[1]&&c[d][2]==a[2]&&(c[d][4]||"internal")==(a[4]||"internal"))return!1;return!0});buildDocList(allDocs,welcomeRecentsList,"documents-found")}
function updatePreviewsEnabled(){if("never"==firetext.settings.get("previews.enabled"))Array.prototype.forEach.call(document.getElementsByClassName("docsList"),function(a){a.classList.remove("previews")}),updatePreviews();else if("always"==firetext.settings.get("previews.enabled"))Array.prototype.forEach.call(document.getElementsByClassName("docsList"),function(a){a.classList.add("previews")}),updatePreviews();else{var a=navigator.connection||navigator.webkitConnection;a?(a.onchange=a.ontypechange=
updatePreviewsEnabledFromConnection,updatePreviewsEnabledFromConnection()):(Array.prototype.forEach.call(document.getElementsByClassName("docsList"),function(a){a.classList.add("previews")}),updatePreviews())}}
function updatePreviewsEnabledFromConnection(){if("auto"==firetext.settings.get("previews.enabled")){var a=navigator.connection||navigator.webkitConnection;"none"!==a.type&&(-1!==["bluethooth","cellular","wimax"].indexOf(a.type)?Array.prototype.forEach.call(document.getElementsByClassName("docsList"),function(a){a.classList.remove("previews")}):Array.prototype.forEach.call(document.getElementsByClassName("docsList"),function(a){a.classList.add("previews")}),updatePreviews())}}
function updateDocLists(a){a||(a=[],a.push("all"));a.length||updateAllDocs();"-1"!=a.indexOf("all")|"-1"!=a.indexOf("recents")&&(recentsDocs=firetext.recents.get(),updateAllDocs());"-1"!=a.indexOf("all")|"-1"!=a.indexOf("shared")&&(sharedDocs=firetext.shared.getAll(),updateAllDocs());"-1"!=a.indexOf("all")|"-1"!=a.indexOf("internal")&&(spinner(),firetext.io.enumerate("/",function(a){internalDocs=a;updateAllDocs();spinner("hide")}))}
function getPreview(a,b,c){b||(b="");if(c)return document.createTextNode(b);switch(a){case ".txt":b=firetext.parsers.plain.parse(b,"HTML");break;case ".odt":b=(new ODTDocument(b)).getHTMLUnsafe();break;default:b=b.replace(/\x3c!--_firetext_import_remove_start--\x3e[\s\S]*?\x3c!--_firetext_import_remove_end--\x3e/g,""),/<!DOCTYPE/i.test(b)||(b="<!DOCTYPE html>"+b)}a=document.createElement("iframe");a.sandbox="allow-scripts";a.srcdoc=b.replace(' contenteditable="true"',"").replace("</head>",["\n<style>\nhtml {\n\tmax-width: calc(var(--width) - 2 * var(--margin)) !important;\n\theight: calc(var(--height) - 2 * var(--margin));\n\t\t-moz-column-count: 1;\n\tcolumn-count: 1;\n\t\t-moz-column-gap: 1000px;\n\tcolumn-gap: 1000px;\n\t\n\t/* Defaults */",
"US"===user_location.country?"\t--width: 8.5in;":"\t--width: 21cm;","US"===user_location.country?"\t--height: 11in;":"\t--height: 29.7cm;",'\t--margin: 1in;\n}\nbody {\n\tmargin: 0;\n}\n[_firetext_night] body, [_firetext_night] img {\n\t\t-webkit-filter: invert(100%) hue-rotate(180deg);\n\tfilter: invert(100%) hue-rotate(180deg);\n}\nhr.page-break {\n\t-webkit-column-break-before: always;\n\tbreak-before: column;\n\tmargin: 0;\n\tborder: none;\n}\n</style>\n<script>\nwindow.addEventListener("message", function(e) { nightEditor(e.data.nightMode); });\nfunction nightEditor(nightMode) {\n\tvar html = document.getElementsByTagName("html")[0];\n\tif(nightMode) {\n\t\tdocument.documentElement.setAttribute("_firetext_night", "");\n\t} else {\n\t\tdocument.documentElement.removeAttribute("_firetext_night");\n\t}\n}\n\x3c/script>\n</head>'].join("\n"));
a.scrolling="no";return a}function updatePreviewNightModes(a){welcomeDocsList.classList.contains("previews")&&Array.prototype.forEach.call(a,function(a){a.airborn_contentWindow.postMessage({nightMode:html.classList.contains("night")},"*")})}var gettingPreview={};function resetPreviews(a){Object.keys(gettingPreview).forEach(function(b){b.substr(b.lastIndexOf(",")+1)===a&&delete gettingPreview[b]})}function resetPreview(){delete gettingPreview[Array.prototype.join.call(arguments,",")]}
function setPreview(a,b){var c,d;b.some(function(b){if(a.firstChild===b)return c=!0;if(!document.contains(b))return d=b,!0});c||(d||(d=b[0].cloneNode(),b.push(d)),a.airborn_innerHTML="",a.appendChild(d),html.classList.contains("night")&&d.addEventListener("load",function(){updatePreviewNightModes([d])}))}ljs.addAliases({odt:["scripts/lib/jszip.js","scripts/lib/jszip-deflate.js","scripts/lib/jszip-inflate.js","scripts/lib/jszip-load.js","scripts/parsers/odt.js/lib/odt.js"]});
function updatePreviews(){welcomeDocsList.classList.contains("previews")&&Array.prototype.forEach.call(document.getElementsByClassName("fileListItemLink"),function(a){if(a.offsetParent){var b=welcomeMainArea;if(a.offsetTop<a.offsetParent.offsetHeight+b.scrollTop&&a.offsetTop+a.offsetHeight>b.offsetTop+b.scrollTop){var c=a.getAttribute("data-click-directory"),d=a.getAttribute("data-click-filename"),e=a.getAttribute("data-click-filetype"),f=a.getAttribute("data-click-location"),k=[c,d,e,f];gettingPreview[k]?
!0!==gettingPreview[k]&&setPreview(a.getElementsByClassName("fileItemDescription")[0],gettingPreview[k]):(gettingPreview[k]=!0,".odt"===e&&ljs.load("odt"),firetext.io.load(c,d,e,function(a,b){(".odt"===e?ljs.load.bind(ljs,"odt"):setTimeout)(function(){gettingPreview[k]=[getPreview(e,a,b)];Array.prototype.forEach.call(document.querySelectorAll('.fileListItemLink[data-click-directory="'+c+'"][data-click-filename="'+d+'"][data-click-filetype="'+e+'"][data-click-location="'+f+'"]'),function(a){setPreview(a.getElementsByClassName("fileItemDescription")[0],
gettingPreview[k])})})},f,!1))}}})}function scrollDocList(){Array.prototype.forEach.call(document.getElementsByClassName("fileListItemLink"),function(a){if(a.offsetParent){var b=welcomeMainArea;a.offsetTop<a.offsetParent.offsetHeight+b.scrollTop&&a.offsetTop+a.offsetHeight>b.offsetTop+b.scrollTop?a.classList.remove("hiddenPreview"):a.classList.add("hiddenPreview")}})}
function buildDocListItems(a,b,c){var d=a[c],e=d[4]||"internal",f;f="/"==d[0].charAt(0)&&1<d[0].length?d[0].slice(1):d[0];var k="fileListItem"+(c===a.length-1?" lastItem":""),h='<a class="fileListItemLink" href="#" data-click="loadToEditor" data-click-directory="'+d[0]+'" data-click-filename="'+d[1]+'" data-click-filetype="'+d[2]+'" data-click-location="'+e+'" data-index="'+c+'" style="-webkit-order: '+c+"; order: "+c+';">',h=h+('<li class="'+k+'">')+'<div class="fileItemDescription"></div>',h=h+
'<div class="fileItemInfo">',h=h+'<aside class="pack-end icon-chevron-right"></aside>',h=h+'<aside class="pack-end edit-checkbox"><label class="pack-checkbox danger"><input type="checkbox" class="edit-selected"><span></span></label></aside>',h=h+('<p class="fileItemName" title="'+d[1]+d[2]+'">'+d[1]+d[2]+"</p>"),h=h+('<p class="fileItemPath" title="'+f+d[1]+d[2]+'">'+f+d[1]+d[2]+"</p>"),h=h+"</div>",h=h+"</li></a>";(d=b.querySelector('.fileListItemLink[data-click-directory="'+d[0]+'"][data-click-filename="'+
d[1]+'"][data-click-filetype="'+d[2]+'"][data-click-location="'+e+'"]'))?(d.firstChild.className=k,d.setAttribute("data-index",c),d.style.webkitOrder=c,d.style.order=c):b.insertAdjacentHTML("beforeend",h);updatePreviews();c!==a.length-1&&buildDocListItems(a,b,c+1)}
function buildDocList(a,b,c){if(b&&a)if(b.setAttribute("data-type","list"),0<a.length)for(buildDocListItems(a,b,0),c=0;c<b.childNodes.length;c++){var d=b.childNodes[c],e=a[d.getAttribute("data-index")];e&&e[0]===d.getAttribute("data-click-directory")&&e[1]===d.getAttribute("data-click-filename")&&e[2]===d.getAttribute("data-click-filetype")&&(e[4]||"internal")===d.getAttribute("data-click-location")||b.removeChild(d)}else a='<li style="margin-top: -5px" class="noLink">'+('<p style="padding: 1.5rem 0 0.5rem;" data-l10n-id="no-'+
c+'">'+navigator.mozL10n.get("no-"+c)+"</p>"),a+='<p style="padding-bottom: 1rem;" data-l10n-id="click-compose-icon-to-create">'+navigator.mozL10n.get("click-compose-icon-to-create")+"</p>",b.airborn_innerHTML=a+"</li>"}function showSaveBanner(a){firetext.notify(navigator.mozL10n.get("successfully-saved")+" "+a)}
function extIcon(){var a=document.getElementById("extIconFile"),b=document.getElementById("createDialogFileType").value,c;c=".txt"==b?"format-align-left":"format-float-left";a.outerHTML=['<span id="extIconFile" class="icon icon-file" style="display:block; width: 150px; margin: 10px auto; font-size: 150px;">','\t<span style="position: absolute; font-size: 13px; left: 35.5px; top: 45px; color: white; text-transform: uppercase; font-weight: bold;">'+b.replace(".","")+"</span>",'\t<span style="position: absolute; font-size: 80px; left: 35.5px; top: 56px; color: white; transform: scaleX(1.3);"class="icon icon-'+
c+'" style=""></span>',"</span>"].join("\n")}function initEditor(a,b){app.modules.load(".odt"==a?"modules/editor/editor-odt.html":"modules/editor/editor.html",editor,function(){editorCommunication(b)})}var socket;
function initSocket(){socket=io(airborn.top_location.origin,{path:"/ft-socket.io",autoConnect:!1});var a=socket.onevent;socket.onevent=function(b){var c=b.data||[];a.call(this,b);b.data=["*"].concat(c);a.call(this,b)};socket.on("*",function(a,c){c&&c.edit&&(c.edit=JSON.parse(firetext.shared.collabDecrypt(socket.attrs["collab-use-password"]?socket.attrs["collab-password"]:"",c.edit)));editorMessageProxy.postMessage({command:"collab-message",type:a,data:c})});socket.on("reconnect",function(){socket.emit("open",
{path:socket.path})})}
function editorCommunication(a){editor.onload=null;editor.onload=function(){editorMessageProxy&&editorMessageProxy.setRecv(null);editorMessageProxy=new MessageProxy;editorMessageProxy.setSend(editor.airborn_contentWindow);editorMessageProxy.setRecv(window);editorMessageProxy.registerMessageHandler(function(b){a()},"init-success",!0);editorMessageProxy.registerMessageHandler(function(a){console.error.apply(console,a.data.args)},"error");editorMessageProxy.registerMessageHandler(function(a){console.log.apply(console,a.data.args)},
"log");editorMessageProxy.registerMessageHandler(function(a){tempText=a.data.html;fileChanged=!0;autosave()},"doc-changed");editorMessageProxy.registerMessageHandler(function(a){updateToolbar()},"update-toolbar");editorMessageProxy.registerMessageHandler(function(a){a.data.focus?processActions("data-focus",editor):processActions("data-blur",editor)},"focus");editorMessageProxy.registerMessageHandler(function(a){if(socket.path){var c=a.data.type;a=a.data.data;a.path=socket.path;a.edit&&(a.edit=firetext.shared.collabEncrypt(socket.attrs,
JSON.stringify(a.edit)));socket.emit(c,a)}},"collab-message");editorMessageProxy.postMessage({command:"init"});editor.onload=function(){editorMessageProxy.setSend(editor.airborn_contentWindow)}}}
function watchDocument(){rawEditor.on("change",function(){fileChanged=!0;editorMessageProxy.registerMessageHandler(function(a){autosave()},"autosave-ready");editorMessageProxy.postMessage({command:"load",content:rawEditor.getValue(),filename:document.getElementById("currentFileName").textContent,filetype:document.getElementById("currentFileType").textContent,user_location:user_location,key:"autosave-ready"})});rawEditor.on("focus",function(){processActions("data-focus",rawEditorElement)});rawEditor.on("blur",
function(){processActions("data-blur",rawEditorElement)})}function forceAutosave(){autosave(!0)}function autosave(a){"false"!=firetext.settings.get("autosave")&&(saveTimeout&&1!=a||(saveTimeout=1!=saving?window.setTimeout(function(){saveFromEditor("desktop"==deviceType&&"true"==firetext.settings.get("autosaveNotification"))},1E3):window.setTimeout(forceAutosave,1E3)))}
function editDocs(){1==editState?(editState=!1,document.querySelector("#welcome div[role=main]").style.height="calc(100% - 5rem)",welcomeDocsList.classList.remove("editMode"),updateDocLists(["all"]),editModeListeners(),regions.navBack()):(editState=!0,document.querySelector("#welcome div[role=main]").style.height="calc(100% - 10rem)",welcomeDocsList.classList.add("editMode"),editModeListeners(),regions.nav("welcome-edit-mode"))}
function editModeListeners(){if(1==editState){for(var a=welcomeDocsList.getElementsByClassName("edit-selected"),b=0;b<a.length;b++)a[b].onchange=updateSelectButton;a=welcomeDocsList.getElementsByClassName("fileListItemLink");for(b=0;b<a.length;b++)a[b].onclick=updateCheckbox}else for(a=welcomeDocsList.getElementsByClassName("fileListItemLink"),b=0;b<a.length;b++)a[b].onclick=null}
function updateCheckbox(a){a.stopPropagation();this.getElementsByClassName("pack-checkbox")[0].contains(a.target)||this.getElementsByClassName("edit-selected")[0].click()}
function updateSelectButton(){numSelected()!=numCheckboxes()?document.getElementById("selectButtons").airborn_innerHTML='<button data-click="selectAll" data-l10n-id="select-all"></button><button data-click="delete" class="danger" data-l10n-id="delete-selected"></button>':document.getElementById("selectButtons").airborn_innerHTML='<button data-click="deselectAll" data-l10n-id="deselect-all"></button><button data-click="delete" class="danger" data-l10n-id="delete-selected"></button>'}
function numSelected(){if(1==editState){for(var a=0,b=welcomeDocsList.getElementsByClassName("edit-selected"),c=0;c<b.length;c++)b[c].checked&&a++;return a}}function numCheckboxes(){if(1==editState)return welcomeDocsList.getElementsByClassName("edit-selected").length}function selectAll(){if(1==editState){for(var a=welcomeDocsList.getElementsByClassName("edit-selected"),b=0;b<a.length;b++)a[b].checked=!0;updateSelectButton()}}
function deselectAll(){if(1==editState){for(var a=welcomeDocsList.getElementsByClassName("edit-selected"),b=0;b<a.length;b++)a[b].checked=!1;updateSelectButton()}}
function deleteSelected(a){if(1==editState){var b=welcomeDocsList.getElementsByClassName("edit-selected"),b=Array.prototype.filter.call(b,function(a){return a.checked});if(1!=a&&"true"!=a){if(1==b.length)a=confirm(navigator.mozL10n.get("want-to-delete-singular"));else if(1<b.length)a=confirm(navigator.mozL10n.get("want-to-delete-plural"));else{firetext.notify(navigator.mozL10n.get("no-files-selected"));return}if(1!=a)return}for(a=0;a<b.length;a++){var c=b[a].closest(".fileListItemLink"),d=c.getAttribute("data-click-directory")+
c.getAttribute("data-click-filename")+c.getAttribute("data-click-filetype"),e=c.getAttribute("data-click-location");firetext.recents.remove(d+e,!0);firetext.io.delete(d,e);c.parentNode.removeChild(c)}}}function formatDoc(a,b){editorMessageProxy.postMessage({command:"format",sCmd:a,sValue:b})}
function updateToolbar(){if(document.getElementById("edit").classList.contains("current")){var a=editorMessageProxy.registerMessageHandler(function(a){var c=a.data.commandStates;"bold italic underline strikeThrough superscript subscript justifyLeft justifyRight justifyCenter justifyFull".split(" ").forEach(function(a){c[a].state?window[a].classList.add("active"):window[a].classList.remove("active")});fontSelect.value=c.fontName.value.replace(/'/g,'"').replace(/,\s*/g,", ");fontSizeSelect.value=c.fontSize.value;
styleSelect.value=c.formatBlock.value;updateSelectStyles();window.$&&($("#foreColor").spectrum("container").is(":hidden")&&$("#foreColor").spectrum("set",c.foreColor.value),$("#backColor").spectrum("container").is(":hidden")&&$("#backColor").spectrum("set",c.backColor.value))},null,!0);editorMessageProxy.postMessage({command:"query-command-states",commands:"bold fontName fontSize italic justifyLeft justifyRight justifyCenter justifyFull underline strikeThrough superscript subscript formatBlock foreColor backColor".split(" "),
key:a})}}function updateSelectStyles(){Array.prototype.forEach.call(toolbar.getElementsByTagName("select"),function(a){var b=a.style.width;a.setAttribute("style",a.selectedOptions[0]?(a.selectedOptions[0].getAttribute("style")||"").replace("text-decoration: underline;",""):"");a.style.width=b})}document.addEventListener("click",function(a){2!==a.button&&processActions("data-click",a.target,a)});document.addEventListener("submit",function(a){processActions("data-submit",a.target,a)});
document.addEventListener("keypress",function(a){13==a.key|13==a.keyCode&&processActions("data-enter",a.target,a)});document.addEventListener("keyup",function(a){27==a.key|27==a.keyCode&&processActions("data-esc",a.target,a)});document.addEventListener("mousedown",function(a){processActions("data-mouse-down",a.target,a)});document.addEventListener("change",function(a){processActions("data-change",a.target,a)});document.addEventListener("focus",function(a){processActions("data-focus",a.target,a)});
document.addEventListener("blur",function(a){processActions("data-blur",a.target,a)});function initGestures(){(new GestureDetector(document.body)).startDetecting();document.body.addEventListener("swipe",function(a){var b;"rtl"===html.getAttribute("dir")?"right"==a.detail.direction?b="left":"left"==a.detail.direction&&(b="right"):b=a.detail.direction;processActions("data-swipe-"+b,a.target,a)})}
function processActions(a,b,c){if(b&&b.getAttribute){if(1!=b.hasAttribute(a))for(;b.parentNode&&b.parentNode.getAttribute&&(b=b.parentNode,!b.hasAttribute(a)););if(!b.getAttribute(a+"-only")||b.classList.contains(b.getAttribute(a+"-only"))){var d=b.getAttribute(a);if(d)if("data-click"===a&&"a"===b.nodeName.toLowerCase()&&c.preventDefault(),"loadToEditor"==d)loadToEditor(b.getAttribute(a+"-directory"),b.getAttribute(a+"-filename"),b.getAttribute(a+"-filetype"),b.getAttribute(a+"-location"),"false"!=
b.getAttribute(a+"-editable"),"true"==b.getAttribute(a+"-fromhistory"));else if("nav"==d)regions.nav(b.getAttribute(a+"-location"));else if("navBack"==d)regions.navBack();else if("closeOverlay"==d)regions.closeOverlay();else if("sidebar"==d)regions.sidebar(b.getAttribute(a+"-location"));else if("saveFromEditor"==d)saveFromEditor(!0,!0);else if("downloadFile"==d)download();else if("closeFile"==d){if("false"==firetext.settings.get("autosave")&&1==fileChanged)if(b.getAttribute(a+"-action"))c=b.getAttribute(a+
"-action"),"yes"==c?(regions.navBack(),saveFromEditor(),regions.nav("welcome")):"no"==c?(fileChanged=!1,regions.navBack(),regions.nav("welcome")):regions.navBack();else{regions.nav("save-file");return}regions.nav("welcome")}else if("formatDoc"==d)formatDoc(b.getAttribute(a+"-action"),b.getAttribute(a+"-value"));else if("createFromDialog"==d)createFromDialog();else if("uploadFromDialog"==d)uploadFromDialog();else if("saveAsFromDialog"==d)saveAsFromDialog();else if("editDocs"==d)editDocs();else if("extIcon"==
d)extIcon();else if("delete"==d)deleteSelected(b.getAttribute(a+"-confirmed"));else if("selectAll"==d)selectAll();else if("deselectAll"==d)deselectAll();else if("tab"==d)regions.tab(b.getAttribute("data-tab-id"),b.getAttribute(a+"-name"));else if("clearForm"==d)b.parentNode.children[0]&&(b.parentNode.children[0].value="",c.preventDefault(),setTimeout(function(){b.parentNode.children[0].blur();b.parentNode.children[0].focus()}));else if("copyForm"==d)c.preventDefault();else if("generateNewPasswordForm"==
d)b.parentNode.children[0]&&(b.parentNode.children[0].value=generateNewPassword(),c.preventDefault());else if("clearCreateForm"==d)clearCreateForm(),c.preventDefault();else if("fullscreen"==d)"off"==b.getAttribute(a+"-state")?editFullScreen(!1):editFullScreen();else if("browser"==d)"rate-firetext"==b.getAttribute("data-url-id")&&window.MozActivity?(new MozActivity({name:"marketplace-app-rating",data:{slug:"firetext"}})).onerror=function(){visitURL(b.getAttribute(a+"-location"))}:visitURL(b.getAttribute(a+
"-location"));else if("style"==d)formatDoc("formatBlock",styleSelect.value);else if("hideToolbar"==d){if("desktop"!=deviceType&&!editBar.contains(document.activeElement)&&!editBar.matches(":hover")){if("editor"===b.id||"hide-keyboard-button"===b.id)editHeader.classList.remove("hidden"),editBar.classList.add("hidden");document.getElementById("header-close-file").style.visibility="";document.getElementById("hide-keyboard-button").classList.add("hidden")}}else if("showToolbar"==d){if("desktop"!=deviceType){if("editor"===
b.id||"hide-keyboard-button"===b.id)editHeader.classList.add("hidden"),editBar.classList.remove("hidden");document.getElementById("header-close-file").style.visibility="hidden";document.getElementById("hide-keyboard-button").classList.remove("hidden")}}else if("hyperlink"==d)b.getAttribute(a+"-dialog")?(formatDoc("createLink",document.getElementById("web-address").value),regions.navBack()):(c=editorMessageProxy.registerMessageHandler(function(a){a=a.data.commandStates.createLink;a.state&&(document.getElementById("web-address").value=
a.value);regions.nav("hyperlink")},null,!0),editorMessageProxy.postMessage({command:"query-command-states",commands:["createLink"],key:c}));else if("image"==d)if(b.getAttribute(a+"-location")){var e=b.getAttribute(a+"-location");regions.navBack();"internal"==e?(c=new MozActivity({name:"pick",data:{type:["image/*"]}}),c.onsuccess=function(){var a=this.airborn_result.blob,b=new FileReader;b.addEventListener("loadend",function(){formatDoc("insertImage",b.airborn_result)});b.readAsDataURL(a)},c.onerror=function(){}):
"true"==b.getAttribute(a+"-dialog")?formatDoc("insertImage",document.getElementById("image-address").value):regions.nav("image-web")}else navigator.mozSetMessageHandler?regions.nav("image-location"):regions.nav("image-web");else if("table"==d)if(b.getAttribute(a+"-dialog"))if(parseInt(document.getElementById("table-rows").value)&&parseInt(document.getElementById("table-columns").value)){if(c=parseInt(document.getElementById("table-rows").value),d=parseInt(document.getElementById("table-columns").value),
0<c&&0<d){for(var f='<table class="default" style="width: 100%;">',k=0;k<c;k++){for(var f=f+"<tr>",h=0;h<d;h++)f+="<td><br></td>";f+="</tr>"}formatDoc("insertHTML",f+"</table>");regions.navBack()}}else firetext.notify(navigator.mozL10n.get("valid-integer-value"));else regions.nav("table");else if("insertTextFrame"==d)editorMessageProxy.postMessage({command:"insert-text-frame"}),processActions("data-click",document.querySelector(".format-align.active")),processActions("data-change",fontSelect),formatDoc("fontSize",
fontSizeSelect.value-1);else if("openWordCount"==d)wordCountEnabled=!wordCountEnabled,wordCount(),regions.navBack();else if("openPageSetup"==d)c=editorMessageProxy.registerMessageHandler(function(a){a=a.data.propertyValues;var b=[a.width,a.height];parseFloat(a.width)<=parseFloat(a.height)?document.getElementById("page-orientation-portrait").checked=!0:(b.reverse(),document.getElementById("page-orientation-landscape").checked=!0);document.getElementById("page-size").value=b.join(" ");document.getElementById("page-margin").value=
a.margin.replace("in",'"').replace(/[^\d"]+$/," $&").replace(".",-1!==(.5).toLocaleString().indexOf(",")?",":".");regions.nav("page-setup")},null,!0),editorMessageProxy.postMessage({command:"get-properties",properties:["width","height","margin"],key:c});else if("pageSetup"==d)d=document.getElementById("page-size").value.split(" "),document.getElementById("page-orientation-landscape").checked&&(d=d.reverse()),c=d[0],d=d[1],f=document.getElementById("page-margin").value.replace('"',"in").replace(/\s+/g,
"").replace(",","."),editorMessageProxy.postMessage({command:"set-properties",properties:{width:c,height:d,margin:f}});else if("printFile"==d)c=editorMessageProxy.registerMessageHandler(function(a){printButtonMessageProxy.postMessage({command:"print",content:a.data.content,"automatic-printing-failed":navigator.mozL10n.get("automatic-printing-failed")})},null,!0),editorMessageProxy.postMessage({command:"get-content-html",key:c}),regions.nav("edit");else if("openShare"==d){var e=document.getElementById("currentFileLocation").textContent,
g=document.getElementById("currentFileDirectory").textContent,n=document.getElementById("currentFileName").textContent,l=document.getElementById("currentFileType").textContent;"internal"!==e.substr(0,8)?firetext.notify(navigator.mozL10n.get("cant-share-noninternal")):("/"!==g[0]&&(g="/sdcard/"+g),ljs.load("sjcl",function(){var a=firetext.shared.get(e+g+n+l),b=a["collab-ACL"]&&"private"!==a["collab-ACL"],c=a["publish-ACL"]&&"private"!==a["publish-ACL"];b?(document.getElementById("collab-use-password").checked=
a["collab-use-password"],document.getElementById("collab-password").value=a["collab-password"],document.getElementById("collab-iter").value=a["collab-iter"],document.getElementById("collab-salt").value=a["collab-salt"],document.getElementById("collab-link").value=firetext.shared.getCollabLink(a)):(document.getElementById("collab-use-password").checked=!1,document.getElementById("collab-password").value="",document.getElementById("collab-iter").value=1E4,document.getElementById("collab-salt").value=
sjcl.codec.base64.fromBits(sjcl.random.randomWords(2,0)),document.getElementById("collab-link").value="");document.getElementById("collab-use-password").disabled=b;document.getElementById("collab-password").readOnly=b;document.getElementById("collab-link-generate").style.display=b?"none":"";document.getElementById("collab-link-revoke").style.display=b?"":"none";document.getElementById("publish-link-generate").disabled=document.getElementById("publish-link-revoke").disabled=b;c?(document.getElementById("publish-use-password").checked=
a["publish-use-password"],document.getElementById("publish-password").value=a["publish-password"],document.getElementById("publish-iter").value=a["publish-iter"],document.getElementById("publish-salt").value=a["publish-salt"],document.getElementById("publish-link").value=firetext.shared.getPublishLink(a)):(document.getElementById("publish-use-password").checked=!1,document.getElementById("publish-password").value="",document.getElementById("publish-iter").value=1E4,document.getElementById("publish-salt").value=
sjcl.codec.base64.fromBits(sjcl.random.randomWords(2,0)),document.getElementById("publish-link").value="");document.getElementById("publish-use-password").disabled=c;document.getElementById("publish-password").readOnly=c;document.getElementById("publish-link-generate").style.display=c?"none":"";document.getElementById("publish-link-revoke").style.display=c?"":"none";airborn.fs.getObjectLocation("/Documents/",function(b){a.S3Prefix&&a.S3Prefix!==b.S3Prefix&&(document.getElementById("collab-link-generate").disabled=
document.getElementById("collab-link-revoke").disabled=document.getElementById("collab-use-password").disabled=document.getElementById("publish-link-generate").disabled=document.getElementById("publish-link-revoke").disabled=document.getElementById("publish-use-password").disabled=!0,document.getElementById("collab-password").readOnly=document.getElementById("publish-password").readOnly=!0);regions.nav("share")})}))}else if("collab"==d){var q=b.hasAttribute(a+"-revoke"),e=document.getElementById("currentFileLocation").textContent,
g=document.getElementById("currentFileDirectory").textContent,n=document.getElementById("currentFileName").textContent,l=document.getElementById("currentFileType").textContent;"/"!==g[0]&&(g="/sdcard/"+g);airborn.fs.getObjectLocation(g.replace("/sdcard/","/Documents/")+n+l,function(a){if(a.hist){var b=firetext.shared.get(e+g+n+l,b),c;for(c in a)b[c]=a[c];b["collab-ACL"]=q?"private":"public-read-write";b["collab-use-password"]=document.getElementById("collab-use-password").checked;b["collab-password"]=
document.getElementById("collab-password").value;b["collab-iter"]=parseInt(document.getElementById("collab-iter").value);b["collab-salt"]=document.getElementById("collab-salt").value;b["collab-version"]=firetext.shared.collabVersion;b.path=e+g+n+l;firetext.shared.set(e+g+n+l,b);firetext.shared.updateCollab(e+g+n+l);saveFromEditor(!0,!0);document.getElementById("collab-link").value=q?"":firetext.shared.getCollabLink(b);document.getElementById("collab-use-password").disabled=!q;document.getElementById("collab-password").readOnly=
!q;document.getElementById("collab-link-generate").style.display=q?"":"none";document.getElementById("collab-link-revoke").style.display=q?"none":"";document.getElementById("publish-link-generate").disabled=document.getElementById("publish-link-revoke").disabled=!q}else firetext.notify(navigator.mozL10n.get("cant-collab-nohist"),'<a href="'+airborn.top_location.origin+'/plans" target="_blank">'+navigator.mozL10n.get("click-to-open-plans").replace(/</g,"&lt;")+"</a>",1E4)})}else if("publish"==d)q=
b.hasAttribute(a+"-revoke"),e=document.getElementById("currentFileLocation").textContent,g=document.getElementById("currentFileDirectory").textContent,n=document.getElementById("currentFileName").textContent,l=document.getElementById("currentFileType").textContent,"/"!==g[0]&&(g="/sdcard/"+g),airborn.fs.getObjectLocation(g.replace("/sdcard/","/Documents/")+n+l,function(a){if(a.demo)firetext.notify(navigator.mozL10n.get("cant-publish-demo"));else{var b=firetext.shared.get(e+g+n+l,b),c;for(c in a)b[c]=
a[c];b["publish-ACL"]=q?"private":"public-read";b["publish-use-password"]=document.getElementById("publish-use-password").checked;b["publish-password"]=document.getElementById("publish-password").value;b["publish-iter"]=parseInt(document.getElementById("publish-iter").value);b["publish-salt"]=document.getElementById("publish-salt").value;b.path=e+g+n+l;firetext.shared.set(e+g+n+l,b);saveFromEditor(!0,!0);document.getElementById("publish-link").value=q?"":firetext.shared.getPublishLink(b);document.getElementById("publish-use-password").disabled=
!q;document.getElementById("publish-password").readOnly=!q;document.getElementById("publish-link-generate").style.display=q?"":"none";document.getElementById("publish-link-revoke").style.display=q?"none":""}});else if("openHistory"==d)if("sidebar_history"==document.querySelector(".current").id)regions.navBack();else if(e=document.getElementById("currentFileLocation").textContent,g=document.getElementById("currentFileDirectory").textContent,n=document.getElementById("currentFileName").textContent,
l=document.getElementById("currentFileType").textContent,"internal"!==e.substr(0,8))firetext.notify(navigator.mozL10n.get("cant-view-hist-noninternal"));else{"/"!==g[0]&&(g="/sdcard/"+g);var u=(g+n+l).replace(/\.history\/.*$/,"");airborn.fs.getObjectLocation(u.replace("/sdcard/","/Documents/"),function(a){a.hist?(airborn.fs.getFile(u.replace("/sdcard/","/Documents/")+".history/",{codec:"dir"},function(a,b){if(b)firetext.notify(navigator.mozL10n.get("load-unsuccessful")+b.statusText);else{var c=firetext.io.split(u);
document.getElementById("history_entries").airborn_innerHTML=['<li><a href="#" data-click="loadToEditor" data-click-directory="'+c[0]+'" data-click-filename="'+c[1]+'" data-click-filetype="'+c[2]+'" data-click-location="'+e+'" data-click-fromhistory="true">'+(c[0]===g&&c[1]===n&&c[2]===l?' <span class="icon icon-checkbox-blank-circle"></span>':"")+'<span data-l10n-id="current-version"></span></a></li>'].concat(Object.keys(a).reverse().map(function(b){var c=firetext.io.split(b),d=new Date,f=a[b].created;if(f)var h=
f.getDate()!==d.getDate()||f.getMonth()!==d.getMonth()||f.getFullYear()!==d.getFullYear(),f=f.toLocaleString(navigator.languages,{year:f.getFullYear()!==d.getFullYear()?"numeric":void 0,month:h?"numeric":void 0,day:h?"numeric":void 0,weekday:h?"short":void 0,hour:"numeric",minute:"numeric",second:"numeric"});return'<li><a href="#" data-click="loadToEditor" data-click-directory="'+(u+".history/")+'" data-click-filename="'+c[1]+'" data-click-filetype="'+c[2]+'" data-click-location="'+e+'" data-click-editable="false" data-click-fromhistory="true">'+
(u+".history/"===g&&c[1]===n&&c[2]===l?' <span class="icon icon-checkbox-blank-circle"></span>':"")+b+" ("+(f?f+", ":"")+a[b].size+' <span data-l10n-id="bytes"></span>)</a></li>'})).join("\n")}}),regions.nav("sidebar_history")):firetext.notify(navigator.mozL10n.get("cant-view-hist"),'<a href="'+airborn.top_location.origin+'/plans" target="_blank">'+navigator.mozL10n.get("click-to-open-plans").replace(/</g,"&lt;")+"</a>",1E4)})}else"openSharedDocument"==d?(openSharedDocument(document.getElementById("entered-password").value),
regions.navBack()):"clearRecents"==d?(firetext.recents.reset(),firetext.notify(navigator.mozL10n.get("recents-eliminated"))):"font"==d?formatDoc("fontName",b.value):"fontSize"==d?formatDoc("fontSize",b.value):"importGoogleDrive"==d&&(c=Math.min(599,window.screen.width-20),d=Math.min(600,window.screen.height-30),airborn.core.openWindowTop(airborn.top_location.origin+"/google-drive-import","google-drive-import",["toolbar=no,location=yes,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no",
"width="+c,"height="+d,"top="+(window.screen.height-d)/2,"left="+(window.screen.width-c)/2].join(),function(a){a.onmessage=function(a){"importFile"===a.data.action?airborn.fs.putFile("/Documents/Documents/Google Drive Imports/"+a.data.name.replace(/[".\/]/g,"")+"."+a.data.ext,{codec:"arrayBuffer"},a.data.contents,{type:a.data.type,created:a.data.created&&new Date(a.data.created),edited:a.data.edited&&new Date(a.data.edited)}):"noFilesFound"===a.data.action&&firetext.notify(navigator.mozL10n.get("no-google-drive-documents-found"))}}),
regions.nav("welcome"))}}}function checkDevice(){function a(a){deviceType=a.matches?"desktop":"mobile"}var b=window.matchMedia("(min-width: 767px)");b.addListener(a);a(b)}function clearCreateForm(){document.getElementById("createDialogFileName").value="";document.getElementById("createDialogFileType").value=".html";extIcon();setTimeout(function(){document.getElementById("createDialogFileName").blur();document.getElementById("createDialogFileName").focus()})}
function spinner(a){"hide"==a?loadSpinner.classList.remove("shown"):loadSpinner.classList.add("shown")}
function editFullScreen(a){!0===a||0!=a&&!html.classList.contains("fullscreen")?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():
document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}
function onFullScreenChange(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(html.classList.add("fullscreen"),document.querySelector("#editor-zen-button span").classList.remove("icon-fullscreen"),document.querySelector("#editor-zen-button span").classList.add("icon-fullscreen-exit")):(html.classList.remove("fullscreen"),document.querySelector("#editor-zen-button span").classList.remove("icon-fullscreen-exit"),document.querySelector("#editor-zen-button span").classList.add("icon-fullscreen"))}
function onFullScreenError(){firetext.notify("Could not enter into fullscreen.")}document.addEventListener("fullscreenchange",onFullScreenChange);document.addEventListener("mozfullscreenchange",onFullScreenChange);document.addEventListener("webkitfullscreenchange",onFullScreenChange);document.addEventListener("fullscreenerror",onFullScreenError);document.addEventListener("mozfullscreenerror",onFullScreenError);document.addEventListener("webkitfullscreenerror",onFullScreenError);
function initPrintButton(a){app.modules.load("modules/printButton/printButton.html",printButton,function(){printButtonCommunication(a)})}function printButtonCommunication(a){printButton.onload=null;printButton.onload=function(){printButtonMessageProxy=new MessageProxy;printButtonMessageProxy.setSend(printButton.airborn_contentWindow);printButtonMessageProxy.setRecv(window)}}
function setDocumentTitle(){var a=document.querySelector("section.parent")||document.querySelector("section.current");a&&(document.title="edit"==a.id?currentFileName.textContent+currentFileType.textContent:"")}function visitURL(a){a&&""!=a?window.open(a):firetext.notify(navigator.mozL10n.get("not-functional-link"))}
function initCopyButtons(){var a=new Clipboard(".copy-button");a.on("success",function(a){firetext.notify(navigator.mozL10n.get("copied"));a.clearSelection()});a.on("error",function(a){firetext.notify(navigator.mozL10n.get("copy-manually"))})}
function wordCount(){wordCountEnabled?(setTimeout(function(){wordCountElement.style.visibility="visible";wordCountElement.style.bottom="0";tabDesign.style.bottom="25px"},"desktop"==deviceType?0:250),editorMessageProxy.registerMessageHandler(function(a){a=a.data;wordCountElement.airborn_innerHTML=[null==a.pages||a.selection?"":'<span class="nowrap">'+navigator.mozL10n.get("pages")+': <span class="count pages">'+a.pages+"</span></span>",'<span class="nowrap">'+navigator.mozL10n.get("words")+': <span class="count words">'+
(a.selection?a.selectionWordCount.words+"/":"")+a.documentWordCount.words+"</span></span>",'<span class="nowrap">'+navigator.mozL10n.get("characters")+': <span class="count">'+(a.selection?a.selectionWordCount.chars+"/":"")+a.documentWordCount.chars+"</span></span>",'<span class="nowrap">'+navigator.mozL10n.get("characters-without-spaces")+': <span class="count">'+(a.selection?a.selectionWordCount.charsWithoutSpaces+"/":"")+a.documentWordCount.charsWithoutSpaces+"</span></span>"].join("\n")},"wordCountData")):
(wordCountElement.style.visibility="hidden",wordCountElement.style.bottom="-25px",tabDesign.style.bottom="0",editorMessageProxy.unRegisterMessageHandler("wordCountData"));editorMessageProxy.postMessage({command:"wordCount",wordCount:wordCountEnabled})}
function initColorPickers(){ljs.load("scripts/lib/jquery.min.js",["style/lib/spectrum.css","scripts/lib/spectrum.js"],function(){$.extend($.fn.spectrum.defaults,{showInput:!0,showButtons:!1,containerClassName:"full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,maxSelectionSize:10,preferredFormat:"hex",localStorageKey:"spectrum",move:function(a){formatDoc(this.id,a?a.toHexString():"transparent");a&&(window[this.id+"Button"].dataset.clickValue=window[this.id+"Button"].style.color=
a.toHexString())},show:function(){var a=this;this.$background=$('<div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 101;"></div>');this.$background.on("click",function(){return $(a).spectrum("hide")});this.$background.on("mousedown",!1);this.$background.insertAfter($(this).spectrum("container"));editorMessageProxy.postMessage({command:"colorPickerView",enabled:!0})},beforeShow:function(){},hide:function(a){this.$background.remove();editorMessageProxy.postMessage({command:"colorPickerView",
enabled:!1});$(this).spectrum("set",a);editor.airborn_contentWindow.focus()},palette:["rgb(0, 0, 0);rgb(67, 67, 67);rgb(102, 102, 102);rgb(153, 153, 153);rgb(183, 183, 183);rgb(204, 204, 204);rgb(217, 217, 217);rgb(239, 239, 239);rgb(243, 243, 243);rgb(255, 255, 255)".split(";"),"rgb(152, 0, 0);rgb(255, 0, 0);rgb(255, 153, 0);rgb(255, 255, 0);rgb(0, 255, 0);rgb(0, 255, 255);rgb(74, 134, 232);rgb(0, 0, 255);rgb(153, 0, 255);rgb(255, 0, 255)".split(";"),"rgb(230, 184, 175);rgb(244, 204, 204);rgb(252, 229, 205);rgb(255, 242, 204);rgb(217, 234, 211);rgb(208, 224, 227);rgb(201, 218, 248);rgb(207, 226, 243);rgb(217, 210, 233);rgb(234, 209, 220);rgb(221, 126, 107);rgb(234, 153, 153);rgb(249, 203, 156);rgb(255, 229, 153);rgb(182, 215, 168);rgb(162, 196, 201);rgb(164, 194, 244);rgb(159, 197, 232);rgb(180, 167, 214);rgb(213, 166, 189);rgb(204, 65, 37);rgb(224, 102, 102);rgb(246, 178, 107);rgb(255, 217, 102);rgb(147, 196, 125);rgb(118, 165, 175);rgb(109, 158, 235);rgb(111, 168, 220);rgb(142, 124, 195);rgb(194, 123, 160);rgb(166, 28, 0);rgb(204, 0, 0);rgb(230, 145, 56);rgb(241, 194, 50);rgb(106, 168, 79);rgb(69, 129, 142);rgb(60, 120, 216);rgb(61, 133, 198);rgb(103, 78, 167);rgb(166, 77, 121);rgb(91, 15, 0);rgb(102, 0, 0);rgb(120, 63, 4);rgb(127, 96, 0);rgb(39, 78, 19);rgb(12, 52, 61);rgb(28, 69, 135);rgb(7, 55, 99);rgb(32, 18, 77);rgb(76, 17, 48)".split(";")]});
$("#foreColor").spectrum();$("#backColor").spectrum({allowEmpty:!0});$("#foreColor").spectrum("container").add($("#backColor").spectrum("container")).on("mousedown",function(a){"INPUT"!==a.target.nodeName&&"IFRAME"===document.activeElement.nodeName&&a.preventDefault()})})}function prefetchHTMLEditor(){app.modules.load("modules/editor/editor.html",{},function(){})}
function christmas(){function a(){var a=document.getElementById("welcome-wordmark");1!=html.classList.contains("night")?(a.hasAttribute("data-original-src")||a.setAttribute("data-original-src",a.airborn_src),a.airborn_src="style/icons/app/firetext_christmas.svg"):a.hasAttribute("data-original-src")&&(a.airborn_src=a.getAttribute("data-original-src"));themeColor.setAttribute("content","#034f20")}var b=new Date,c=b.getMonth()+1,b=b.getDate();12===c&&13<=b&&31>=b&&(a(),window.addEventListener("night.changed",a))};navigator.mozSetMessageHandler&&navigator.mozSetMessageHandler("activity",function(a){var b=a.airborn_source;window.addEventListener("firetext.initialized",function(){if("open"===b.name|"view"===b.name){var a;b.data.url&&""!=b.data.url&&(a=b.data.editable);var d=firetext.io.split(b.data.url);loadToEditor(d[0],d[1],d[2],"internal",a)}});1==firetext.isInitialized&&window.dispatchEvent(firetext.initialized)});firetext.io={};var storage;
firetext.io.init=function(a,b){if(storage=navigator.getDeviceStorage("sdcard")){var c=storage.available();c.onsuccess=function(){"available"!=this.airborn_result?(storage=null,firetext.notify(navigator.mozL10n.get("shared-sdcard")),firetext.io.init("file",b)):(storage.onchange=function(a){a=firetext.io.split(a.path);resetPreview(a[0],a[1],a[2],"internal");a=(document.querySelector(".current")||{}).id;"welcome"!=a&&"welcome-edit-mode"!=a&&"open"!=a||updateDocLists(["internal","recents"])},enableInternalStorage(),
b())};c.onerror=function(){storage=null;firetext.notify(navigator.mozL10n.get("unable-to-get-sdcard")+this.error.name);firetext.io.init("file",b)}}else firetext.io.init("file",b)};function enableInternalStorage(){locationDevice=document.createElement("option");locationDevice.value="internal";locationDevice.setAttribute("data-l10n-id","internal-storage");locationDevice.textContent=navigator.mozL10n.get("internal-storage");locationSelect.appendChild(locationDevice);updateAddDialog()}
firetext.io.enumerate=function(a,b){if(a){var c=[];"/"==a[0]&&(a=a.slice(1));"/"!=a[a.length-1]&&(a+="/");var d="/"==a?storage.enumerate():storage.enumerate(a.substring(0,-1));d.onerror=function(){"SecurityError"==d.error.name?firetext.notify(navigator.mozL10n.get("allow-sdcard")):firetext.notify(navigator.mozL10n.get("load-unsuccessful")+d.error.name)};d.onsuccess=function(){var a=d.airborn_result;if(!d.airborn_result)return b(c),c;var f=firetext.io.split(a.name);f[3]=a.type;f[4]="internal";f[5]=a.lastModifiedDate;
if(!(!f[1]|"text/html"!=f[3]&&"text/plain"!=f[3]&&".odt"!=f[2])){for(a=0;a<c.length;a++)if(c[a][0]==f[0]&&c[a][1]==f[1]&&c[a][2]==f[2]){c.splice(a,1);break}!f[0]|""==f[0]&&(f[0]="/");c.push(f)}d.continue()};return c}};
function createAndOpen(a,b,c,d,e){if(!a|""==a|"internal"==a){"/"!==b[0]&&(b="/sdcard/"+b);var f=b.replace("/sdcard/","/Documents/")+c+d;airborn.fs.getFile(airborn.path.dirname(f),{codec:"dir"},function(a){a&&a.hasOwnProperty(airborn.path.basename(f))?firetext.notify(navigator.mozL10n.get("file-exists")):airborn.fs.putFile(f,{codec:e.codec},e.content,{type:e.type},function(a){a?firetext.notify(navigator.mozL10n.get("file-creation-fail")+a.statusText):(loadToEditor(b,c,d,"internal"),updateDocLists(["internal"]))})})}else firetext.notify(navigator.mozL10n.get("invalid-location"))}
function createFromDialog(){var a=document.getElementById("createDialogFileLocation").value,b=document.getElementById("createDialogFileName").value,c=document.getElementById("createDialogFileType").value;if(null==b|void 0==b|""==b)firetext.notify(navigator.mozL10n.get("enter-name"));else if(isValidFileName(b)){regions.navBack();var a=a.toLowerCase(),d=firetext.io.getDefaultContent(c),e=firetext.io.getMime(c);createAndOpen(a,"Documents/",b,c,{content:d,codec:"utf8String",type:e})}else firetext.notify(navigator.mozL10n.get("contains-special-characters"))}
function uploadFromDialog(){var a=document.getElementById("createDialogFileLocation").value,b=document.getElementById("uploadDialogFiles").files;regions.navBack();a.toLowerCase();for(a=0;a<b.length;a++){var c=b[a],d=c.name;null==d|void 0==d|""==d||(isValidFileName(d)?-1!==["text/html","text/plain","application/vnd.oasis.opendocument.text"].indexOf(c.type)&&airborn.fs.putFile("/Documents/Documents/"+d,{codec:"blob"},c):firetext.notify(navigator.mozL10n.get("contains-special-characters")))}}
function saveAsFromDialog(){var a=document.getElementById("createDialogFileLocation").value,b=document.getElementById("saveAsDialogFileName").value,c=document.getElementById("currentFileType").textContent;if(null==b|void 0==b|""==b)firetext.notify(navigator.mozL10n.get("enter-name"));else if(isValidFileName(b)){regions.navBack();var a=a.toLowerCase(),d=editorMessageProxy.registerMessageHandler(function(d){createAndOpen(a,"Documents/",b,c,d.data)},null,!0);editorMessageProxy.postMessage({command:"get-content-blob",
key:d})}else firetext.notify(navigator.mozL10n.get("contains-special-characters"))}function isValidFileName(a){return!a.includes("/")&&!a.includes('"')}
function saveFromEditor(a,b){saveTimeout=null;var c=document.getElementById("currentFileLocation").textContent,d=document.getElementById("currentFileDirectory").textContent,e=document.getElementById("currentFileName").textContent,f=document.getElementById("currentFileType").textContent,k=editorMessageProxy.registerMessageHandler(function(h){firetext.io.save(d,e,f,h.data,a,function(){fileChanged=!1},c,b)},null,!0);editorMessageProxy.postMessage({command:"get-content-blob",key:k})}
function download(){document.getElementById("currentFileLocation");document.getElementById("currentFileDirectory");var a=document.getElementById("currentFileName").textContent,b=document.getElementById("currentFileType").textContent,c=editorMessageProxy.registerMessageHandler(function(c){saveAs(new Blob([c.data.content],{type:c.data.type}),a+b)},null,!0);editorMessageProxy.postMessage({command:"get-content-blob",key:c})}
function loadToEditor(a,b,c,d,e,f){tempText=void 0;currentFileName.textContent=b;currentFileType.textContent=c;currentFileLocation.textContent=d;currentFileDirectory.textContent=a;[].forEach.call(document.getElementsByClassName("file-name"),function(a){a.textContent=b+c});"desktop"==deviceType&&document.getElementById("edit-bar").classList.remove("hidden");firetext.io.load(a,b,c,function(a,h,g){h?firetext.notify(navigator.mozL10n.get("load-unsuccessful")+a):initEditor(c,function(){editorMessageProxy.postMessage({command:"load",
content:a,filename:b,filetype:c,user_location:user_location,readOnly:0==e});firetext.shared.updateCollab(d+g.slice(0,3).join(""));switch(c){case ".txt":document.querySelector('[data-tab-id="raw"]').classList.add("hidden-item");tabRaw.classList.add("hidden-item");document.getElementById("rich-tools").classList.add("hidden-item");break;case ".odt":document.querySelector('[data-tab-id="raw"]').classList.add("hidden-item");tabRaw.classList.add("hidden-item");document.getElementById("rich-tools").classList.add("hidden-item");
break;default:document.querySelector('[data-tab-id="raw"]').classList.remove("hidden-item"),tabRaw.classList.remove("hidden-item"),document.getElementById("rich-tools").classList.remove("hidden-item"),tempText=a.replace(/\x3c!--_firetext_import_remove_start--\x3e[\s\S]*?\x3c!--_firetext_import_remove_end--\x3e/g,"")}f?(regions.nav("edit"),processActions("data-click",document.getElementById("open-history-button")),processActions("data-click",document.querySelector(".selected-tab-button"))):(firetext.recents.add([g[0],
g[1],g[2]],d),regions.nav("edit"),regions.tab("design","design"));"false"!=firetext.settings.get("autosave")?document.getElementById("editorSaveButton").style.display="none":document.getElementById("editorSaveButton").style.display="inline-block";night();wordCount()})},d)}
firetext.io.save=function(a,b,c,d,e,f,k,h){saving=!0;1==h&&spinner();"/"!==a[0]&&(a="/sdcard/"+a);firetext.shared.getOptions(k+a+b+c,function(g){g.demo?(saving=!1,0!=h&&spinner("hide"),f()):(g.codec=d.codec,airborn.fs.putFile(a.replace("/sdcard/","/Documents/")+b+c,g,d.content,{type:d.type},function(d){saving=!1;1==h&&spinner("hide");d?firetext.notify(navigator.mozL10n.get("save-unsuccessful")+d.statusText):(e&&showSaveBanner(a+b+c),f())}))})};
firetext.io.load=function(a,b,c,d,e,f){!a|!b|!c|!d||(0!=f&&spinner(),"/"!=a[a.length-1]&&(a+="/"),"/"==a&&1==a.length&&(a=""),"/"!==a[0]&&(a="/sdcard/"+a),firetext.shared.getOptions(e+a+b+c,function(e){e.demo?(0!=f&&spinner("hide"),d(firetext.io.getDefaultContent(c),void 0,[a,b,c])):(".odt"==c&&(e.codec="arrayBuffer"),airborn.fs.getFile(a.replace("/sdcard/","/Documents/")+b+c,e,function(e,g){0!=f&&spinner("hide");g?firetext.notify(navigator.mozL10n.get("load-unsuccessful")+g.statusText):d(e,void 0,
[a,b,c])}))}))};firetext.io.delete=function(a,b){var c=storage.delete(a);c.onsuccess=function(){};c.onerror=function(){firetext.notify(navigator.mozL10n.get("delete-unsuccessful")+this.error.name)}};firetext.io.rename=function(a,b,c,d,e){firetext.io.load(a,b,c,function(d){var k=a+b+c;firetext.io.save(a,b,c,d,function(){},e);firetext.io.delete(k,e)},e)};
firetext.io.getDefaultContent=function(a){switch(a){case ".html":a='<!DOCTYPE html>\n<html style="max-width: 690px; position: relative; margin: 0 auto;">\n<head>\n\t<meta charset="utf-8">\n\t<style>\n\th1 {\n\t\tfont-size: 1.5em;\n\t\tmargin: 0;\n\t}\n\th2 {\n\t\tfont-size: 1.17em;\n\t\tmargin: 0;\n\t}\n\th3 {\n\t\tfont-size: 1em;\n\t\tmargin: 0;\n\t}\n\th4 {\n\t\tfont-size: 1em;\n\t\tfont-weight: normal;\n\t\ttext-decoration: underline;\n\t\tmargin: 0;\n\t}\n\th5 {\n\t\tfont-size: 1em;\n\t\tcolor: #555;\n\t\tmargin: 0;\n\t}\n\th6 {\n\t\tfont-size: 1em;\n\t\tfont-weight: normal;\n\t\ttext-decoration: underline;\n\t\tcolor: #444;\n\t\tmargin: 0;\n\t}\n\tp {\n\t\tmargin: 0;\n\t}\n\tblockquote {\n\t\tmargin: 0px 0px 0px 40px;\n\t}\n\ttable.default {\n\t\tborder-collapse: collapse;\n\t}\n\ttable.default, table.default td {\n\t\tborder: 1px solid black;\n\t}\n\ta:link, a:visited {\n\t\tcolor: #0000ee;\n\t}\n\thr {\n\t\tborder: none;\n\t\tborder-bottom: 1px solid black;\n\t}\n\t</style>\n</head>\n<body>\n\t<p><br></p>\n</body>\n</html>\n';break;
case ".txt":a=" ";break;case ".odt":a="blabla";break;default:a=" "}return a};firetext.io.getMime=function(a){switch(a){case ".html":a="text/html";break;case ".txt":a="text/plain";break;case ".odt":a="application/vnd.oasis.opendocument.text";break;default:a="application/octet-stream"}return a};
firetext.io.split=function(a){var b=[];b[0]=a.substring(0,a.lastIndexOf("/")+1);b[1]=a.substring(a.lastIndexOf("/")+1,a.lastIndexOf(".")).replace(/\//,"");b[2]=a.substring(a.lastIndexOf("."),a.length).replace(/\//,"");""==b[1]&&""==b[2]&&(b[0]+=b[2],"/"!=b[0][b[0].length-1]&&(b[0]+="/"),b[1]="",b[2]="");return[b[0],b[1],b[2]]};firetext.language=function(a){if(a)navigator.mozL10n.ctx.requestLocales.apply(navigator.mozL10n.ctx,"auto"===a?navigator.languages||[navigator.language]:[a]);else return navigator.mozL10n.language.code};window.addEventListener("languagechange",function(){navigator.mozL10n.ready(function(){firetext.language(firetext.settings.get("language"))})});var ncss,dcss=document.getElementsByTagName("link")[25],nightTheme="#111",dayTheme="#fff",nightChangeEvent=new CustomEvent("night.changed"),nightListener;
function night(){switch(firetext.settings.get("nightmode")){case "true":startNight(!0);window.removeEventListener("devicelight",processLight);nightListener=!1;break;case "false":startNight(!1);window.removeEventListener("devicelight",processLight);nightListener=!1;break;case "auto":startNight(!1),nightListener||window.addEventListener("devicelight",processLight),nightListener=!0}}
function processLight(a){"auto"==firetext.settings.get("nightmode")&&(3.4>a.value?1!=html.classList.contains("night")&&startNight(!0):5<a.value&&html.classList.contains("night")&&startNight(!1))}
function startNight(a){a?(html.classList.add("night"),themeColor.setAttribute("content",nightTheme),editorMessageProxy&&editorMessageProxy.postMessage({command:"night",nightMode:!0}),window.CodeMirror&&rawEditor.setOption("theme","tomorrow-night-bright")):(html.classList.remove("night"),themeColor.setAttribute("content",dayTheme),editorMessageProxy&&editorMessageProxy.postMessage({command:"night",nightMode:!1}),window.CodeMirror&&rawEditor.setOption("theme","default"));updatePreviewNightModes(document.querySelectorAll('[data-type="list"] li.fileListItem .fileItemDescription iframe'));
window.dispatchEvent(nightChangeEvent)};firetext.recents={};firetext.recents.init=function(){void 0==airborn_localStorage["firetext.recents"]&&(airborn_localStorage["firetext.recents"]=JSON.stringify([]))};firetext.recents.get=function(){if(void 0!=airborn_localStorage["firetext.recents"])return JSON.parse(airborn_localStorage["firetext.recents"]);firetext.recents.init();return firetext.recents.get()};firetext.recents.reset=function(){void 0!=airborn_localStorage["firetext.recents"]&&(airborn_localStorage["firetext.recents"]=JSON.stringify([]))};
firetext.recents.add=function(a,b){if(void 0!=airborn_localStorage["firetext.recents"]){var c=firetext.recents.get();a.push("");a.push(b);for(var d=0;d<c.length;d++)if(c[d][0]==a[0]&&c[d][1]==a[1]&&c[d][2]==a[2]&&c[d][3]==a[3]&&c[d][4]==a[4]){c.splice(d,1);break}c.splice(0,0,a);5<c.length&&c.splice(5,c.length);airborn_localStorage["firetext.recents"]=JSON.stringify(c)}else firetext.recents.init(),firetext.recents.add(a,b)};
firetext.recents.remove=function(a,b){if(void 0!=airborn_localStorage["firetext.recents"]){for(var c=firetext.recents.get(),d=0;d<c.length;d++)if(1!=b){if(c[d][0]==a[0]&&c[d][1]==a[1]&&c[d][2]==a[2]&&c[d][3]==a[3]&&c[d][4]==a[4]){c.splice(d,1);break}}else if(a==c[d][0]+c[d][1]+c[d][2]+c[d][3]+c[d][4]){c.splice(d,1);break}airborn_localStorage["firetext.recents"]=JSON.stringify(c)}};ljs.addAliases({sjcl:"scripts/lib/sjcl.js","socket.io":"scripts/lib/socket.io.js",collab:["sjcl","socket.io"]});
firetext.shared={collabVersion:1,getAll:function(){var a=JSON.parse(airborn_localStorage["firetext.shared"]||"{}");return Object.keys(a).map(function(a){return firetext.io.split(a.substr(a.indexOf("/"))).concat("",a.substr(0,a.indexOf("/")))})},getRaw:function(a){return JSON.parse(airborn_localStorage["firetext.shared"]||"{}")[a]},get:function(a){return this.getRaw(a)||{}},getOptions:function(a,b){var c=this.get(a),d=c["collab-ACL"]&&"private"!==c["collab-ACL"],e=c["publish-ACL"]&&"private"!==c["publish-ACL"];d||
e?ljs.load("sjcl",function(){if(e)var a=c["publish-use-password"]?c["publish-iter"]:101,k=c["publish-use-password"]?c["publish-password"]:"",h=c["publish-salt"];else a=c["collab-use-password"]?c["collab-iter"]:101,k=c["collab-use-password"]?c["collab-password"]:"",h=c["collab-salt"];var g=sjcl.misc.cachedPbkdf2(k,{iter:a,salt:sjcl.codec.base64.toBits(h)}).key,k=g.slice(0,4),g=g.slice(4),g=sjcl.codec.hex.fromBits(g).toUpperCase();d&&(g+=":"+sjcl.codec.hex.fromBits(sjcl.misc.cachedPbkdf2(c["collab-use-password"]?
c["collab-password"]:"",{iter:c["collab-use-password"]?c["collab-iter"]:101,salt:sjcl.codec.base64.toBits(c["collab-salt"])}).key.slice(4)).toUpperCase());b({ACL:d?c["collab-ACL"]:c["publish-ACL"],S3Prefix:c.S3Prefix,object:c.object,password:k,objectAuthkey:g,iter:a,salt:h,demo:c.demo})}):b({})},set:function(a,b){var c=JSON.parse(airborn_localStorage["firetext.shared"]||"{}");c[a]=b;airborn_localStorage["firetext.shared"]=JSON.stringify(c)},updateCollab:function(a){var b=this.get(a);b["collab-ACL"]&&"private"!==
b["collab-ACL"]?(socket||ljs.load("collab",function(){initSocket()}),ljs.load("collab",function(){socket.path=b.S3Prefix+"/"+b.object;socket.attrs=b;socket.connect();socket.emit("open",{path:socket.path});editorMessageProxy.postMessage({command:"collab-enable"})})):socket&&(socket.path=socket.attrs=null,socket.disconnect(),editorMessageProxy.postMessage({command:"collab-disable"}))},getCollabLink:function(a){return airborn.top_location.origin+"/run#open=firetext;firetext:s="+encodeURIComponent(this.collabEncrypt(a,
JSON.stringify(a)))+(a["collab-use-password"]?"&p=1":"")},getPublishLink:function(a){return airborn.top_location.origin+"/pub#?f="+a.S3Prefix+"/"+a.object+(a["publish-use-password"]?"&p=1":"")},collabEncrypt:function(a,b){return sjcl.encrypt(a["collab-use-password"]?a["collab-password"]:"",b,{iter:a["collab-use-password"]?a["collab-iter"]:101,salt:sjcl.codec.base64.toBits(a["collab-salt"])})},collabDecrypt:function(){return sjcl.decrypt.apply(this,arguments)}};var hash_args={};
airborn.top_location.hash&&airborn.top_location.hash.slice(1).split("&").forEach(function(a){a=a.split("=");hash_args[a[0]]=decodeURIComponent(a[1])});
function initSharedDocuments(a){hash_args.s?ljs.load("sjcl",function(){var b=!1;if(hash_args.p){if(!firetext.shared.getAll().some(function(a){a=firetext.shared.get(a[4]+a.slice(0,3).join(""));try{return b=openSharedDocument(a["collab-password"],!0),!0}catch(c){}})){regions.nav("welcome");regions.nav("enter-password");return}}else try{b=openSharedDocument("")}catch(c){}b?regions.nav("welcome"):a()}):a()}
function openSharedDocument(a,b){var c;try{c=firetext.shared.collabDecrypt(a,hash_args.s)}catch(d){throw b||(d instanceof sjcl.exception.corrupt?firetext.notify(navigator.mozL10n.get("password-incorrect")):firetext.notify(navigator.mozL10n.get("unknown-error")+": "+d.message)),d;}c=JSON.parse(c);if(1<c["collab-version"])throw setTimeout(function(){firetext.notify(navigator.mozL10n.get("cant-collab-too-old"),'<a href="'+airborn.top_location.origin+'/update" target="_blank">'+navigator.mozL10n.get("click-to-update").replace(/</g,
"&lt;")+"</a>",1E4)}),Error("Document is collab-version "+c["collab-version"]+", this Firetext is collab-version "+firetext.shared.collabVersion);var e=c.path.replace("internal/","internal-"+c.S3Prefix+"/"),f=!firetext.shared.getRaw(e);firetext.shared.set(e,c);f&&setTimeout(function(){var a=firetext.io.split(c.path.replace("internal",""));loadToEditor(a[0],a[1],a[2],"internal-"+c.S3Prefix)});return f}
function generateNewPassword(){var a=[].concat.apply([],Object.keys(navigator.mozL10n.ctx.locales).map(function(a){return navigator.mozL10n.ctx.locales[a]}).filter(function(a){return a.isReady}).map(function(a){return[].concat.apply([],Object.keys(a.entries).map(function(c){return a.entries[c]}).filter(function(a){return"string"===typeof a}).map(function(a){return a.toLowerCase().replace(/[^a-z -]/g,"").split(" ")}))})).filter(Boolean).sort().filter(function(a,c,d){return c==d.length-1||d[c+1]!=a});
return Array.apply(null,Array(5)).map(function(){return a[Math.floor(Math.random()*a.length)]}).join(" ")};var regions={},awaitingPopState=!1;
regions.nav=function(a,b){if(awaitingPopState)setTimeout(regions.nav,0,a,b);else if(1==editState&&"edit"==a&&editDocs(),document.getElementById(a))if(!document.getElementById(a).classList.contains("parent")&&regions.closeOverlay())setTimeout(regions.nav,"desktop"==deviceType?0:500,a,b);else{var c=document.getElementById(a),d=document.querySelector(".parent");d&&d.classList.remove("parent");if(d=document.querySelector(".current"))"region"!=c.getAttribute("role")&&d.classList.add("parent"),d.classList.remove("current");
c.classList.add("current");!1!==b&&history.state?history.pushState({location:a},"",""):history.replaceState({location:a},"","");"edit"==a?(firetext.settings.save("autoload.wasEditing","true"),firetext.settings.save("autoload.dir",document.getElementById("currentFileDirectory").textContent),firetext.settings.save("autoload.name",document.getElementById("currentFileName").textContent),firetext.settings.save("autoload.ext",document.getElementById("currentFileType").textContent),firetext.settings.save("autoload.loc",
document.getElementById("currentFileLocation").textContent),screen.lockOrientation?screen.lockOrientation("portrait"):screen.mozLockOrientation&&screen.mozLockOrientation("portrait")):("region"===c.getAttribute("role")&&firetext.settings.save("autoload.wasEditing","false"),screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation&&screen.mozUnlockOrientation());"welcome"!=a&&"welcome-edit-mode"!=a&&"open"!=a||updateDocLists(["all"]);"edit"==a?setTimeout(function(){editor.focus()}):
"welcome-edit-mode"!=a&&setTimeout(function(){var a=c.querySelector("input:not([disabled]), .config-dialog select, .config-dialog table button")||c.querySelector("button");a&&(editor.blur(),a.focus(),a.select&&a.select())});"save-as"==a&&(document.getElementById("saveAsDialogFileName").value=document.getElementById("currentFileName").textContent,document.getElementById("saveAsDialogFileType").textContent=document.getElementById("currentFileType").textContent);"create"!=a&&"upload"!=a&&"save-as"!=
a||c.getElementsByClassName("button-block")[0].appendChild(locationLegend);setDocumentTitle()}};regions.navBack=function(){awaitingPopState=!0;history.back()};regions.sidebar=function(a){document.querySelector(".current").id==a?regions.navBack():regions.nav(a)};
regions.tab=function(a,b){if(document.getElementById("tab-"+b)){var c=document.querySelector(".selected-tab");c&&c.classList.remove("selected-tab");(c=document.querySelector(".selected-tab-button"))&&c.classList.remove("selected-tab-button");document.getElementById("tab-"+b).classList.add("selected-tab");(c=document.querySelector('[role="tab-button"][data-tab-id="'+a+'"]'))&&c.classList.add("selected-tab-button");"raw"===b?(ljs.load(["scripts/lib/codemirror-compressed.js","style/codemirror/codemirror.css",
"style/codemirror/tomorrow-night-bright.css"],function(){rawEditor instanceof CodeMirror||(rawEditor=CodeMirror(rawEditorElement,{lineNumbers:!0}),watchDocument(),night());setTimeout(function(){rawEditor.focus()},300);tempText&&(rawEditor.setValue(tempText),tempText=void 0)}),document.getElementById("edit-bar").classList.add("hidden")):(".txt"!=document.getElementById("currentFileType").textContent&&".odt"!=document.getElementById("currentFileType").textContent&&"desktop"==deviceType&&document.getElementById("edit-bar").classList.remove("hidden"),
editorMessageProxy&&editorMessageProxy.postMessage({command:"printView",printView:"printView"===a}))}};regions.closeOverlay=function(){if(document.querySelector(".current")&&("sidebar"==document.querySelector(".current").getAttribute("data-type")||"dialog"==document.querySelector(".current").getAttribute("role")||"action"==document.querySelector(".current").getAttribute("role")))return regions.navBack(),!0};regions.popstate=function(a){a.state&&(awaitingPopState=!1,regions.nav(a.state.airborn_location,!1))};
regions.popstate(history);window.addEventListener("popstate",regions.popstate);firetext.settings={};var defaultSettings={autoload:"false",autosave:"true",autosaveNotification:"true",language:"auto",nightmode:"false","previews.enabled":"auto"};
firetext.settings.init=function(){var a=document.querySelector("#autoload-enabled-switch"),b=document.querySelector("#autosave-enabled-switch"),c=document.querySelector("#autosave-notification-enabled-switch"),d=document.querySelector("#language-select"),e=document.querySelector("#nightmode-select"),f=document.querySelector("#previews-select");firetext.settings.get("lastVersion")||(firetext.settings.save("lastVersion",version),void 0!=firetext.settings.get("autosave",!0)&&purgeOldSettings("0.4"));
switch(firetext.settings.get("autoload")){case "true":a.setAttribute("checked","");break;case "false":a.removeAttribute("checked")}a.onchange=function(){firetext.settings.save("autoload",this.checked)};switch(firetext.settings.get("autosave")){case "true":b.setAttribute("checked","");"desktop"==deviceType&&(document.getElementById("autosave-notification-setting").style.display="block");break;case "false":b.removeAttribute("checked"),"desktop"==deviceType&&(document.getElementById("autosave-notification-setting").style.display=
"none")}b.onchange=function(){firetext.settings.save("autosave",this.checked);"false"!=firetext.settings.get("autosave")?(document.getElementById("editorSaveButton").style.display="none","desktop"==deviceType&&(document.getElementById("autosave-notification-setting").style.display="block")):(document.getElementById("editorSaveButton").style.display="inline-block","desktop"==deviceType&&(document.getElementById("autosave-notification-setting").style.display="none"))};if("desktop"==deviceType){switch(firetext.settings.get("autosaveNotification")){case "true":c.setAttribute("checked",
"");break;case "false":c.removeAttribute("checked")}c.onchange=function(){firetext.settings.save("autosaveNotification",this.checked)}}else document.getElementById("autosave-notification-setting").style.display="none";d.value=firetext.settings.get("language");d.addEventListener("change",function(){firetext.settings.save("language",d.value);firetext.language(d.value)});switch(firetext.settings.get("nightmode")){case "false":e.value="0";break;case "true":e.value="1";break;case "auto":e.value="2"}e.addEventListener("change",
function(){firetext.settings.save("nightmode","1"==e.value?"true":"0"==e.value?"false":"auto");night()});switch(firetext.settings.get("previews.enabled")){case "never":f.value="0";break;case "always":f.value="1";break;case "auto":f.value="2"}updatePreviewsEnabled();f.addEventListener("change",function(){firetext.settings.save("previews.enabled","1"==f.value?"always":"0"==f.value?"never":"auto");updatePreviewsEnabled()})};
firetext.settings.get=function(a,b){var c=airborn_localStorage.getItem("firetext.settings."+a);return c||b?c:defaultSettings[a]};firetext.settings.save=function(a,b){defaultSettings[a]==b.toString()?firetext.settings.clear(a):airborn_localStorage.setItem("firetext.settings."+a,b)};firetext.settings.clear=function(a){airborn_localStorage.removeItem("firetext.settings."+a)};
function purgeOldSettings(a){switch(a){case "0.4":a={autoload:"false",autosave:"true","dropbox.enabled":"false",nightmode:"auto","previews.enabled":"true"};for(var b in a)firetext.settings.get(b,!0)==a[b]&&firetext.settings.clear(b);"false"==firetext.settings.get("previews.enabled",!0)&&firetext.settings.save("previews.enabled","never")}};firetext.notify=function(a,b,c){c||(c=5E3);var d=document.createElement("section");d.setAttribute("role","status");var e=document.createElement("div"),f=document.createElement("p");f.textContent=a;e.appendChild(f);b&&(a=document.createElement("p"),a.classList.add("notification-html"),a.airborn_innerHTML=b,e.appendChild(a));d.appendChild(e);("sidebar"==document.querySelector("section.current").getAttribute("data-type")||awaitingPopState?document.querySelector("section.parent")||document.querySelector("section.current"):
document.querySelector("section.current")).appendChild(d);setTimeout(function(){e.classList.add("notification-shown");setTimeout(function(){e.classList.remove("notification-shown");setTimeout(function(){d.parentElement.removeChild(d)},300)},c)},100)};window.firetext=window.firetext||{};firetext.parsers=firetext.parsers||{};firetext.parsers.plain={};firetext.parsers.plain.parse=function(a,b){var c="";return"HTML"==b?c="<!DOCTYPE html>"+a.replace(/</gi,"<pre><code>&lt;").replace(/>/gi,"&gt;</code></pre>").replace(/&amp;/gi,"&amp;amp;").replace(/\n/gi,"<br>"):!1};firetext.parsers.plain.encode=function(a,b){var c="";if("HTML"==b){var c=a.replace(/<br\/>/gi,"\n").replace(/<br>/gi,"\n"),d=document.createElement("DIV");d.airborn_innerHTML=c;return d.textContent}return!1};
</script></head><body role=application data-esc=closeOverlay><div class="spinner center" id=loadSpinner style=z-index:1000><div></div></div><section data-type=sidebar id=sidebar_welcome data-position=right data-swipe-right=navBack><header><h1 data-l10n-id=menu></h1></header><nav><div class=url-menu><ul><li><a href=# data-click=nav data-click-location=create><span class="icon icon-pencil"></span><span data-l10n-id=create></span></a></li><li><a href=# data-click=nav data-click-location=import><span class="icon icon-cloud-upload"></span><span data-l10n-id=import></span></a></li><li><a href=# data-click=importGoogleDrive><span class="icon icon-google-drive"></span><span data-l10n-id=import-google-drive></span></a></li></ul></div></nav><div role=toolbar><ul><li><button href=# data-click=nav data-click-location=settings class=icon-settings data-l10n-title=settings></button></li></ul><ul></ul></div></section><section role=region id=welcome data-swipe-left=nav data-swipe-left-location=sidebar_welcome data-swipe-left-only=current data-swipe-right=navBack data-swipe-right-only=parent data-click=navBack data-click-only=parent><header><menu type=toolbar><button data-click=nav data-click-location=create data-l10n-title=create><span class="icon icon-pencil"></span></button> <button data-click=sidebar data-click-location=sidebar_welcome class=drawerEnabled data-l10n-title=menu><span class="icon icon-menu"></span></button></menu><h1 class="firetext icon-"><img src="data:image/svg+xml;filename=style%2Ficons%2Fapp%2Ffiretext.svg;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0D%0A%3C!--%20Copyright%20(C)%20Codexa%20Organization%202013%20%20--%3E%0D%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0D%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Firetext_1_%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%0D%0A%09%20y%3D%220px%22%20width%3D%22290px%22%20height%3D%2260px%22%20viewBox%3D%220%200%20290%2060%22%20enable-background%3D%22new%200%200%20290%2060%22%20xml%3Aspace%3D%22preserve%22%3E%0D%0A%3Cg%20id%3D%22Firetext%22%3E%0D%0A%09%3Cg%3E%0D%0A%09%09%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%231F1F1F%22%20d%3D%22M41.498%2C2.236c-0.563-0.656-1.332-1.193-2.308-1.611%0D%0A%09%09%09c-0.977-0.418-2.234-0.628-3.773-0.628H-0.001v1.792h1.775c2.663%2C0%2C4.364%2C0.821%2C5.104%2C2.463c0.739%2C1.644%2C1.109%2C3.807%2C1.109%2C6.494%0D%0A%09%09%09v48.368h7.989V30.899h20.062v-3.583H15.978V3.58h14.114c3.551%2C0%2C6.288%2C0.822%2C8.211%2C2.464c1.922%2C1.643%2C2.885%2C4.254%2C2.885%2C7.837%0D%0A%09%09%09h1.775V7.163c0-0.896-0.104-1.776-0.311-2.643C42.444%2C3.656%2C42.06%2C2.895%2C41.498%2C2.236z%20M59.429%2C19.031%0D%0A%09%09%09c-0.622-0.806-1.451-1.344-2.485-1.612c-1.036-0.269-2.323-0.403-3.861-0.403h-7.989v1.792h1.775c2.663%2C0%2C4.363%2C0.821%2C5.104%2C2.463%0D%0A%09%09%09c0.739%2C1.644%2C1.11%2C3.807%2C1.11%2C6.494v31.35h7.989v-31.35c0-2.209-0.119-4.016-0.355-5.419%0D%0A%09%09%09C60.479%2C20.943%2C60.05%2C19.838%2C59.429%2C19.031z%20M56.455%2C11.642c1.243%2C0%2C2.233-0.358%2C2.974-1.075c0.739-0.716%2C1.109-1.701%2C1.109-2.955%0D%0A%09%09%09c0-1.553-0.488-2.896-1.464-4.031c-0.977-1.134-2.146-1.701-3.506-1.701c-1.243%2C0-2.234%2C0.357-2.974%2C1.074%0D%0A%09%09%09c-0.741%2C0.717-1.11%2C1.702-1.11%2C2.956c0%2C1.554%2C0.488%2C2.897%2C1.465%2C4.03C53.925%2C11.075%2C55.093%2C11.642%2C56.455%2C11.642z%20M98.264%2C17.464%0D%0A%09%09%09c-0.652-0.478-1.48-0.82-2.486-1.03c-1.007-0.208-1.953-0.313-2.84-0.313c-2.663%2C0-4.882%2C0.537-6.658%2C1.612%0D%0A%09%09%09s-3.107%2C2.181-3.995%2C3.314h-0.444c-0.474-1.373-1.287-2.388-2.441-3.046c-1.154-0.656-2.856-0.985-5.104-0.985h-7.102v1.792h0.888%0D%0A%09%09%09c2.663%2C0%2C4.363%2C0.821%2C5.104%2C2.463c0.739%2C1.644%2C1.11%2C3.807%2C1.11%2C6.494v31.35h7.989V25.973c0.888-1.373%2C2.071-2.463%2C3.551-3.269%0D%0A%09%09%09c1.479-0.807%2C3.107-1.21%2C4.882-1.21c1.538%2C0%2C2.943%2C0.225%2C4.216%2C0.672c1.272%2C0.448%2C2.233%2C1.12%2C2.885%2C2.016l3.55-2.688%0D%0A%09%09%09c-0.474-0.896-0.947-1.671-1.42-2.328C99.476%2C18.509%2C98.914%2C17.942%2C98.264%2C17.464z%20M123.385%2C16.12%0D%0A%09%09%09c-2.782%2C0-5.268%2C0.582-7.457%2C1.747c-2.19%2C1.164-4.054%2C2.731-5.592%2C4.702c-1.54%2C1.971-2.708%2C4.285-3.506%2C6.941%0D%0A%09%09%09c-0.799%2C2.658-1.198%2C5.509-1.198%2C8.555c0%2C3.045%2C0.384%2C5.897%2C1.154%2C8.554c0.769%2C2.657%2C1.938%2C4.971%2C3.506%2C6.941%0D%0A%09%09%09c1.567%2C1.971%2C3.506%2C3.538%2C5.814%2C4.703c2.308%2C1.164%2C5.029%2C1.746%2C8.167%2C1.746c3.373%2C0%2C6.376-0.717%2C9.01-2.149%0D%0A%09%09%09c2.633-1.434%2C4.956-3.852%2C6.968-7.256l-1.775-1.343c-1.54%2C2.27-3.271%2C4.03-5.193%2C5.284c-1.923%2C1.254-4.335%2C1.881-7.234%2C1.881%0D%0A%09%09%09c-1.895%2C0-3.581-0.417-5.06-1.254c-1.48-0.835-2.738-2.015-3.773-3.538c-1.036-1.522-1.82-3.328-2.352-5.419%0D%0A%09%09%09c-0.533-2.089-0.799-4.358-0.799-6.808h26.897l0.177-3.582c0-6.329-1.451-11.196-4.35-14.601%0D%0A%09%09%09C133.889%2C17.822%2C129.421%2C16.12%2C123.385%2C16.12z%20M114.064%2C35.826c0-2.329%2C0.236-4.479%2C0.71-6.449%0D%0A%09%09%09c0.473-1.971%2C1.124-3.673%2C1.953-5.105c0.828-1.434%2C1.805-2.553%2C2.93-3.359c1.123-0.806%2C2.366-1.209%2C3.728-1.209%0D%0A%09%09%09c3.136%2C0%2C5.473%2C1.389%2C7.013%2C4.165c1.538%2C2.776%2C2.308%2C6.763%2C2.308%2C11.958H114.064z%20M171.053%2C55.89%0D%0A%09%09%09c-1.008%2C0.358-2.279%2C0.537-3.817%2C0.537c-4.144%2C0-6.214-2.687-6.214-8.062V20.599h10.652v-3.583h-10.652V3.58h-3.551l-4.438%2C5.374%0D%0A%09%09%09v8.062h-6.215v3.583h6.215v27.767c0%2C4.062%2C0.99%2C7.018%2C2.973%2C8.868c1.982%2C1.852%2C4.541%2C2.776%2C7.679%2C2.776%0D%0A%09%09%09c1.538%2C0%2C2.899-0.12%2C4.083-0.358c1.184-0.239%2C2.22-0.537%2C3.107-0.896s1.643-0.746%2C2.264-1.164%0D%0A%09%09%09c0.621-0.417%2C1.168-0.807%2C1.643-1.165l-0.889-1.791C173.006%2C55.114%2C172.059%2C55.531%2C171.053%2C55.89z%20M196.706%2C16.12%0D%0A%09%09%09c-2.782%2C0-5.268%2C0.582-7.456%2C1.747c-2.19%2C1.164-4.055%2C2.731-5.593%2C4.702c-1.54%2C1.971-2.708%2C4.285-3.507%2C6.941%0D%0A%09%09%09c-0.799%2C2.658-1.197%2C5.509-1.197%2C8.555c0%2C3.045%2C0.383%2C5.897%2C1.153%2C8.554c0.769%2C2.657%2C1.938%2C4.971%2C3.507%2C6.941%0D%0A%09%09%09c1.566%2C1.971%2C3.506%2C3.538%2C5.814%2C4.703c2.307%2C1.164%2C5.029%2C1.746%2C8.166%2C1.746c3.373%2C0%2C6.376-0.717%2C9.01-2.149%0D%0A%09%09%09c2.633-1.434%2C4.956-3.852%2C6.969-7.256l-1.775-1.343c-1.54%2C2.27-3.271%2C4.03-5.193%2C5.284c-1.924%2C1.254-4.336%2C1.881-7.234%2C1.881%0D%0A%09%09%09c-1.895%2C0-3.581-0.417-5.061-1.254c-1.479-0.835-2.737-2.015-3.771-3.538c-1.037-1.522-1.82-3.328-2.354-5.419%0D%0A%09%09%09c-0.531-2.089-0.799-4.358-0.799-6.808h26.897l0.177-3.582c0-6.329-1.45-11.196-4.35-14.601%0D%0A%09%09%09C207.21%2C17.822%2C202.742%2C16.12%2C196.706%2C16.12z%20M187.385%2C35.826c0-2.329%2C0.236-4.479%2C0.711-6.449%0D%0A%09%09%09c0.473-1.971%2C1.123-3.673%2C1.953-5.105c0.828-1.434%2C1.805-2.553%2C2.93-3.359c1.123-0.806%2C2.365-1.209%2C3.728-1.209%0D%0A%09%09%09c3.136%2C0%2C5.474%2C1.389%2C7.013%2C4.165c1.538%2C2.776%2C2.309%2C6.763%2C2.309%2C11.958H187.385z%20M250.145%2C50.157l-7.723-12.988l14.203-20.153%0D%0A%09%09%09h-4.439l-11.539%2C16.571l-5.504-9.405c-1.303-2.209-2.797-3.955-4.482-5.24c-1.688-1.283-3.537-1.926-5.549-1.926h-7.545v1.792%0D%0A%09%09%09c3.609%2C0.479%2C6.658%2C2.866%2C9.143%2C7.165l7.723%2C12.988l-14.202%2C20.153h4.438l11.539-16.57l5.504%2C9.404%0D%0A%09%09%09c1.301%2C2.21%2C2.797%2C3.957%2C4.483%2C5.24c1.687%2C1.285%2C3.535%2C1.926%2C5.548%2C1.926h7.989v-1.792%0D%0A%09%09%09C255.825%2C56.905%2C252.63%2C54.517%2C250.145%2C50.157z%20M289.113%2C54.636c-0.889%2C0.479-1.836%2C0.896-2.842%2C1.254s-2.278%2C0.537-3.816%2C0.537%0D%0A%09%09%09c-4.143%2C0-6.214-2.687-6.214-8.062V20.599h10.652v-3.583h-10.652V3.58h-3.551l-4.438%2C5.374v8.062h-6.213v3.583h6.213v27.767%0D%0A%09%09%09c0%2C4.062%2C0.99%2C7.018%2C2.975%2C8.868c1.981%2C1.852%2C4.541%2C2.776%2C7.678%2C2.776c1.538%2C0%2C2.898-0.12%2C4.084-0.358%0D%0A%09%09%09c1.183-0.239%2C2.219-0.537%2C3.106-0.896s1.642-0.746%2C2.263-1.164c0.622-0.417%2C1.168-0.807%2C1.643-1.165L289.113%2C54.636z%22%2F%3E%0D%0A%09%3C%2Fg%3E%0D%0A%3C%2Fg%3E%0D%0A%3C%2Fsvg%3E%0D%0A" alt=Firetext id=welcome-wordmark></h1></header><div role=main class=header-only id=welcome-main-area><menu type=toolbar class="desktop-only mainButtons"><button data-click=nav data-click-location=create><span class="icon icon-pencil"></span><span class=buttonText data-l10n-id=create></span></button> <button data-click=nav data-click-location=import><span class="icon icon-cloud-upload"></span><span class=buttonText data-l10n-id=import></span></button> <button data-click=importGoogleDrive><span class="icon icon-google-drive"></span><span class=buttonText data-l10n-id=import-google-drive></span></button></menu><article data-type=list class=docsList id=welcome-docs-list><div id=welcome-recents-area><h2 data-l10n-id=recent-documents></h2><ul id=welcome-recents-list></ul></div></article></div></section><div role=dialog data-type=edit id=welcome-edit-mode><section><header><menu type=toolbar><button data-click=editDocs data-l10n-id=done></button></menu><h1 data-l10n-id=edit-docs></h1></header></section><menu id=selectButtons><button data-click=selectAll data-l10n-id=select-all></button> <button data-click=delete class=danger data-l10n-id=delete-selected></button></menu></div><section role=dialog id=create class=create-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=createFromDialog class=create-button data-l10n-id=create></button></menu><h1 data-l10n-id=create></h1></header><div class=no-storage-notice><div data-l10n-id=no-storage-method></div><button data-click=nav data-click-location=settings data-l10n-id=settings></button></div><div role=main class=header-only><div class=form><br><span id=extIconFile></span><fieldset class=button-block><legend class="fileTypeLegend action"><select name="File type" id=createDialogFileType data-change=extIcon><option>.html</option><option>.txt</option></select><select id=dummy class=dummy></select></legend><section id=fileNameInput><p><input placeholder=untitled type=text id=createDialogFileName data-enter="createFromDialog"> <button type=reset data-mouse-down=clearCreateForm></button></p></section><legend class=action id=locationLegend><select name=Location id=createDialogFileLocation></select></legend></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=import class=create-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=uploadFromDialog class=create-button data-l10n-id=import></button></menu><h1 data-l10n-id=import></h1></header><div class=no-storage-notice><div data-l10n-id=no-storage-method></div><button data-click=nav data-click-location=settings data-l10n-id=settings></button></div><div role=main class=header-only><div class=form><fieldset class=button-block><div data-l10n-id=import-filetypes id=uploadDialogLegend></div><input type=file multiple accept=text/html,text/plain,application/vnd.oasis.opendocument.text,.odt id=uploadDialogFiles data-enter=uploadFromDialog></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=save-as class=create-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=saveAsFromDialog class=create-button data-l10n-id=save></button></menu><h1 data-l10n-id=save-as></h1></header><div class=no-storage-notice><div data-l10n-id=no-storage-method></div><button data-click=nav data-click-location=settings data-l10n-id=settings></button></div><div role=main class=header-only><div class=form><fieldset class=button-block><legend class=fileTypeLegend><span id=saveAsDialogFileType></span></legend><section id=fileNameInput><p><input placeholder=untitled type=text id=saveAsDialogFileName data-enter="saveAsFromDialog"> <button type=reset data-mouse-down=clearForm></button></p></section></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=share class=config-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=navBack data-l10n-id=okay></button></menu><h1 data-l10n-id=share></h1></header><div role=main><div class=form><br><fieldset class=button-block><table><tr><td><h3 data-l10n-id=publish></h3></td></tr><tr><td><button data-click=publish data-l10n-id=publish-link-generate id=publish-link-generate></button> <button data-click=publish data-l10n-id=publish-link-revoke id=publish-link-revoke data-click-revoke></button></td><td><p><input readonly type=text id=publish-link> <button type=reset data-mouse-down=copyForm data-clipboard-target=#publish-link class="copy-button input-icon-button icon-content-copy"></button></p></td></tr><tr><td><label><input type=checkbox id=publish-use-password> <span data-l10n-id=use-password></span></label></td><td><p><input type=text id=publish-password class=share-password-input data-enter=publish> <button type=reset data-mouse-down=generateNewPasswordForm class="generate-button input-icon-button icon-autorenew"></button> <button type=reset data-mouse-down=copyForm data-clipboard-target=#publish-password class="copy-button input-icon-button icon-content-copy"></button> <input type=hidden id=publish-iter> <input type=hidden id=publish-salt></p></td></tr></table></fieldset><br><fieldset class=button-block><table><tr><td><h3 data-l10n-id=collaborate></h3></td></tr><tr><td><button data-click=collab data-l10n-id=collab-link-generate id=collab-link-generate></button> <button data-click=collab data-l10n-id=collab-link-revoke id=collab-link-revoke data-click-revoke></button></td><td><p><input readonly type=text id=collab-link> <button type=reset data-mouse-down=copyForm data-clipboard-target=#collab-link class="copy-button input-icon-button icon-content-copy"></button></p></td></tr><tr><td><label><input type=checkbox id=collab-use-password> <span data-l10n-id=use-password></span></label></td><td><p><input type=text id=collab-password class=share-password-input data-enter=collab> <button type=reset data-mouse-down=generateNewPasswordForm class="generate-button input-icon-button icon-autorenew"></button> <button type=reset data-mouse-down=copyForm data-clipboard-target=#collab-password class="copy-button input-icon-button icon-content-copy"></button> <input type=hidden id=collab-iter> <input type=hidden id=collab-salt></p></td></tr></table></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=enter-password class=config-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=openSharedDocument data-l10n-id=okay></button></menu><h1 data-l10n-id=shared-document></h1></header><div role=main><div class=form><br><fieldset class=button-block><table><tr><td data-l10n-id=password></td><td><p><input type=text id=entered-password data-enter=openSharedDocument> <button type=reset data-mouse-down=clearForm></button></p></td></tr></table></fieldset></div></div></section><div class=background data-click=navBack></div><section data-type=sidebar id=sidebar_main data-position=right data-swipe-right=navBack><header><h1 class=file-name></h1></header><nav><div class=url-menu><ul><li><a href=# data-click=saveFromEditor><span class="icon icon-content-save"></span><span data-l10n-id=save></span></a></li><li><a href=# data-click=nav data-click-location=save-as data-l10n-id=save-as></a></li><li><a href=# data-click=downloadFile><span class="icon icon-cloud-download"></span><span data-l10n-id=export></span></a></li><li><a href=# data-click=openWordCount><span class="icon icon-counter"></span><span data-l10n-id=word-count></span></a></li><li><a href=# data-click=openPageSetup data-l10n-id=page-setup></a></li><li><a href=# data-click=printFile><span class="icon icon-printer"></span><span data-l10n-id=print></span></a><iframe class=printButton id=printButton sandbox="allow-scripts allow-popups allow-modals"></iframe></li><li><a href=# data-click=closeFile data-l10n-id=close></a></li></ul></div></nav><div role=toolbar><ul><li><button class=icon-settings href=# data-click=nav data-click-location=settings data-l10n-title=settings></button></li></ul><ul></ul></div></section><section data-type=sidebar id=sidebar_history data-position=right data-swipe-right=navBack><header><h1 data-l10n-id=history></h1></header><nav><div class=url-menu><ul id=history_entries></ul></div></nav></section><section role=region id=edit data-click=navBack data-click-only=parent><header class="edit-header top-bar"><button id=header-close-file data-click=closeFile class=no-zen data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=fullscreen id=editor-zen-button data-l10n-title=fullscreen><span class="icon icon-fullscreen"></span></button> <button data-click=openShare data-l10n-title=share><span class="icon icon-account-multiple"></span></button> <button data-click=openHistory class="menu drawerEnabled no-zen" id=open-history-button data-l10n-title=history><span class="icon icon-history"></span></button> <button data-click=sidebar data-click-location=sidebar_main class="menu drawerEnabled no-zen" data-l10n-title=menu><span class="icon icon-menu"></span></button></menu><h1 id=fileName class=no-zen><span id=currentFileLocation style=display:none></span><span id=currentFileDirectory style=display:none></span><span id=currentFileName></span><span id=currentFileType></span></h1><div class=tabBar><div data-click=tab data-click-name=design data-l10n-id=design role=tab-button data-tab-id=design></div><div data-click=tab data-click-name=design data-l10n-id=print-view role=tab-button data-tab-id=printView></div><div data-click=tab data-click-name=raw data-l10n-id=raw role=tab-button data-tab-id=raw></div></div></header><header role=toolbar id=edit-bar class="top-bar hidden"><div id=edit-zone><ul><li id=editorSaveButton><button class=icon-content-save data-click=saveFromEditor data-l10n-title=save></button></li><li><button class=icon-undo id=undo data-click=formatDoc data-click-action=undo data-l10n-title=undo></button></li><li><button class=icon-redo id=redo data-click=formatDoc data-click-action=redo data-l10n-title=redo></button></li></ul><ul id=rich-tools><li><button class="sticky icon-format-bold" id=bold data-click=formatDoc data-click-action=bold data-l10n-title=bold></button></li><li><button class="sticky icon-format-italic" id=italic data-click=formatDoc data-click-action=italic data-l10n-title=italic></button></li><li><button class="sticky icon-format-underline" id=underline data-click=formatDoc data-click-action=underline data-l10n-title=underline></button></li><li><button class="sticky icon-format-strikethrough" firetext-icon id=strikethrough data-click=formatDoc data-click-action=strikeThrough data-l10n-title=strikethrough></button></li><li><select data-change=font id=font-select data-l10n-title=font><option value="" disabled selected data-l10n-id=font style=font-family:initial></option><option value="Verdana, Geneva, sans-serif" style=font-family:Verdana,Geneva,sans-serif>Verdana</option><option value="Helvetica, Arial, sans-serif" style=font-family:Helvetica,Arial,sans-serif>Helvetica</option><option value="Georgia, Utopia, Charter, serif" style=font-family:Georgia,Utopia,Charter,serif>Georgia</option><option value="&quot;Times New Roman&quot;, Times, serif" style="font-family:&quot;:Times New Roman&quot;:,Times,serif">Times New Roman</option><option value="&quot;Courier New&quot;, Courier, monospace" style="font-family:&quot;:Courier New&quot;:,Courier,monospace">Courier New</option></select></li><li><select id=font-size-select data-change=fontSize data-l10n-title=font-size><option value="" disabled selected data-l10n-id=font-size></option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option></select></li><li class=format-color-li data-l10n-title=textColor><input type=text id=foreColor value="#000000"> <button class="icon-format-color-text format-color" id=foreColorButton data-click=formatDoc data-click-action=foreColor data-click-value=#ff0000 style=color:red></button></li><li class=format-color-li data-l10n-title=highlightColor><input type=text id="backColor"> <button class="icon-format-color-fill format-color" id=backColorButton data-click=formatDoc data-click-action=backColor data-click-value=#ffff00 style=color:#ff0></button></li><li><button class="sticky icon-format-align-left format-align" id=justify-left data-click=formatDoc data-click-action=justifyLeft data-l10n-title=left></button></li><li><button class="sticky icon-format-align-center format-align" id=justify-center data-click=formatDoc data-click-action=justifyCenter data-l10n-title=right></button></li><li><button class="sticky icon-format-align-right format-align" id=justify-right data-click=formatDoc data-click-action=justifyRight data-l10n-title=center></button></li><li><button class="sticky icon-format-align-justify format-align" id=justify-full data-click=formatDoc data-click-action=justifyFull data-l10n-title=justified></button></li><li><button class="sticky icon-format-superscript" id=superscript data-click=formatDoc data-click-action=superscript data-l10n-title=superscript></button></li><li><button class="sticky icon-format-subscript" id=subscript data-click=formatDoc data-click-action=subscript data-l10n-title=subscript></button></li><li><button class=icon-format-clear id=clear-format data-click=formatDoc data-click-action=removeFormat data-l10n-title=clear-format></button></li><li><select data-change=style id=style-select data-l10n-title=formatting><option value="" disabled selected data-l10n-id=format-block style=font-size:1.8rem;font-weight:initial;color:initial></option><option value=p data-l10n-id=paragraph style=font-size:1.8rem;font-weight:initial;color:initial></option><option value=h1 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 1 }" style=font-size:2.7rem;font-weight:700;color:initial></option><option value=h2 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 2 }" style=font-size:2.106rem;font-weight:700;color:initial></option><option value=h3 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 3 }" style=font-size:1.8rem;font-weight:700;color:initial></option><option value=h4 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 4 }" style=font-size:1.8rem;font-weight:initial;color:initial;text-decoration:underline></option><option value=h5 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 5 }" style=font-size:1.8rem;font-weight:700;color:#555></option><option value=h6 data-l10n-id=heading-n data-l10n-args="{ &quot;n&quot;: 6 }" style=font-size:1.8rem;font-weight:initial;color:#444;text-decoration:underline></option></select></li><li><button class=icon-minus data-click=formatDoc data-click-action=insertHorizontalRule data-l10n-title=horizontal-rule></button></li><li><button class=icon-format-list-bulleted data-click=formatDoc data-click-action=insertUnorderedList data-l10n-title=list></button></li><li><button class=icon-format-list-numbers data-click=formatDoc data-click-action=insertOrderedList data-l10n-title=numbered-list></button></li><li><button class=icon-link-variant data-click=hyperlink data-l10n-title=link></button></li><li><button class=icon-image-area data-click=image data-l10n-title=image></button></li><li><button class=icon-table data-click=table data-l10n-title=table></button></li><li><button class=icon-format-float-left data-click=insertTextFrame data-l10n-title=floating-frame></button></li></ul><ul></ul></div></header><div role=main class=editor-container><ul role=tabs id=editTabs><div role=tab id=tab-design><iframe class=editor id=editor sandbox=allow-scripts data-focus=showToolbar data-blur=hideToolbar></iframe><div id=word-count></div></div><div role=tab id=tab-raw><div class=editor id=rawEditor data-focus=showToolbar data-blur=hideToolbar></div></div></ul></div><button class="top-bar hidden icon-check" id=hide-keyboard-button data-click=hideToolbar data-l10n-title=hide-keyboard></button></section><section role=dialog id=hyperlink><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=hyperlink data-click-dialog=true data-l10n-id=okay></button></menu><h1 data-l10n-id=insert-link></h1></header><div role=main><div class=form><br><fieldset class=button-block><section><p><input placeholder="http://mysite.com/" type=url id=web-address data-enter=hyperlink data-enter-dialog="true"> <button type=reset data-mouse-down=clearForm></button></p></section></fieldset></div></div></section><div class=background data-click=navBack></div><section role=action id=image-location><header><h1 data-l10n-id=image-location></h1></header><menu><button data-click=image data-click-location=web data-l10n-id=the-web></button> <button data-click=image data-click-location=internal data-l10n-id=internal-storage></button> <button data-click=navBack data-l10n-id=cancel></button></menu></section><div class=background data-click=navBack></div><section role=dialog id=image-web><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=image data-click-location=web data-click-dialog=true data-l10n-id=okay></button></menu><h1 data-l10n-id=insert-image></h1></header><div role=main><div class=form><br><fieldset class=button-block><section><p><input placeholder=http://mysite.com/myimage.jpeg type=url id=image-address data-enter=image data-enter-location=web data-enter-dialog="true"> <button type=reset data-mouse-down=clearForm></button></p></section></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=table><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=table data-click-dialog=true data-l10n-id=okay></button></menu><h1 data-l10n-id=insert-table></h1></header><div role=main><div class=form><br><fieldset class=button-block><table><tr><td class=table-icon><span class=icon-view-column></span></td><td class=table-label><input data-l10n-id=number-of-columns placeholder="# of columns" type=text disabled></td><td><p><input type=number id=table-columns data-enter=table data-enter-dialog=true> <button type=reset data-mouse-down=clearForm></button></p></td></tr><tr><td class=table-icon><span class="icon-view-column table-icon-rows"></span></td><td class=table-label><input data-l10n-id=number-of-rows placeholder="# of rows" type=text disabled></td><td><p><input type=number id=table-rows data-enter=table data-enter-dialog=true> <button type=reset data-mouse-down=clearForm></button></p></td></tr></table></fieldset></div></div></section><div class=background data-click=navBack></div><section role=action id=save-file><header><h1 data-l10n-id=save-changes-question></h1></header><menu><button data-click=closeFile data-click-action=yes data-l10n-id=yes></button> <button data-click=closeFile data-click-action=no class=danger data-l10n-id=no></button> <button data-click=navBack data-l10n-id=cancel></button></menu></section><div class=background data-click=navBack></div><section role=dialog id=page-setup class=config-dialog><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><menu type=toolbar><button data-click=pageSetup data-l10n-id=okay></button></menu><h1 data-l10n-id=page-setup></h1></header><div role=main><div class=form><br><fieldset class=button-block><table><tr><td data-l10n-id=size></td><td><p><select id=page-size><option value="14.8cm 21cm">A5</option><option value="21cm 29.7cm">A4</option><option value="29.7cm 42cm">A3</option><option value="17.6cm 25cm">B5</option><option value="25cm 35.3cm">B4</option><option value="8.5in 11in">Letter</option><option value="8.5in 14in">Legal</option><option value="11in 14in">Ledger</option></select></p></td></tr><tr><td data-l10n-id=orientation></td><td><p><label><input type=radio value=portrait name=page-orientation id=page-orientation-portrait data-enter=pageSetup> <span data-l10n-id=portrait></span></label><label><input type=radio value=landscape name=page-orientation id=page-orientation-landscape data-enter=pageSetup> <span data-l10n-id=landscape></span></label></p></td></tr><tr><td data-l10n-id=margins></td><td><p><input type=text id=page-margin data-enter=pageSetup> <button type=reset data-mouse-down=clearForm></button></p></td></tr></table></fieldset></div></div></section><div class=background data-click=navBack></div><section role=dialog id=settings class=menuless><header><button data-click=navBack data-l10n-title=close><span class="icon icon-close"></span></button><h1 data-l10n-id=settings></h1></header><div role=main class=header-only><article data-type=list><div><h2 data-l10n-id=editing></h2><ul><li class=noLink><aside class=pack-end><label class=pack-switch><input type=checkbox id=autosave-enabled-switch> <span></span></label></aside><p class=label data-l10n-id=enable-autosave></p></li><li class=noLink id=autosave-notification-setting><aside class=pack-end><label class=pack-switch><input type=checkbox id=autosave-notification-enabled-switch> <span></span></label></aside><p class=label data-l10n-id=enable-autosave-notification></p></li><li class=noLink><aside class=pack-end><label class=pack-switch><input type=checkbox id=autoload-enabled-switch> <span></span></label></aside><p class=label data-l10n-id=load-last-file></p></li></ul><h2 data-l10n-id=privacy></h2><ul><li class=noLink><aside class=pack-end><label><button data-click=clearRecents data-l10n-id=clear></button></label></aside><p class=label data-l10n-id=clear-recents></p></li></ul><h2 data-l10n-id=visual></h2><ul><li class=noLink><aside class=pack-end><label><select id=previews-select><option value=0 data-l10n-id=always-off></option><option value=1 data-l10n-id=always-on></option><option selected value=2 data-l10n-id=auto></option></select></label></aside><p class=label data-l10n-id=enable-file-previews></p></li><li class=noLink><aside class=pack-end><label><select id=nightmode-select><option value=0 data-l10n-id=always-off></option><option value=1 data-l10n-id=always-on></option><option selected value=2 data-l10n-id=auto></option></select></label></aside><p class=label data-l10n-id=enable-night-mode></p></li><li class=noLink><aside class=pack-end><label><select id=language-select><option value=auto data-l10n-id=auto selected></option><option value=bg></option><option value=bn-BD> (BD)</option><option value=bn-IN> (IN)</option><option value=cs>&#268;e&#353;tina</option><option value=de>Deutsch</option><option value=en>English</option><option value=eo>Esperanto</option><option value=es>Espa&#241;ol</option><option value=fa-IR> (IR)</option><option value=fr>Fran&#231;ais</option><option value=he>&#1506;&#1489;&#1512;&#1497;&#1514;</option><option value=hi-IN> (IN)</option><option value=hu>Magyar</option><option value=id>Bahasa Indonesia</option><option value=it>Italiano</option><option value=ja></option><option value=ml-IN> (IN)</option><option value=nl>Nederlands</option><option value=pl>Polski</option><option value=pt-BR>Portugu&#234;s (BR)</option><option value=ro>Rom&acirc;n&#x103;</option><option value=ru></option><option value=ta-IN> (IN)</option><option value=zh-CN>&#20013;&#25991; (CN)</option></select></label></aside><p class=label data-l10n-id=language></p></li></ul></div></article></div></section><div class=background data-click=navBack></div></body></html>