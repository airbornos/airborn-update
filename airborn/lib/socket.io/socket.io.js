(function(L){"object"===typeof exports&&"undefined"!==typeof module?module.exports=L():"function"===typeof define&&define.amd?define([],L):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=L()})(function(){return function f(l,h,b){function a(c,d){if(!h[c]){if(!l[c]){var m="function"==typeof require&&require;if(!d&&m)return m(c,!0);if(g)return g(c,!0);m=Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m;}m=h[c]={exports:{}};
l[c][0].call(m.exports,function(g){var b=l[c][1][g];return a(b?b:g)},m,m.exports,f,l,h,b)}return h[c].exports}for(var g="function"==typeof require&&require,d=0;d<b.length;d++)a(b[d]);return a}({1:[function(f,l,h){l.exports=f("./lib/")},{"./lib/":2}],2:[function(f,l,h){l.exports=f("./socket");l.exports.parser=f("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(f,l,h){(function(b){function a(e,k){if(!(this instanceof a))return new a(e,k);k=k||{};e&&"object"==typeof e&&(k=e,e=null);
e?(e=r(e),k.hostname=e.host,k.secure="https"==e.protocol||"wss"==e.protocol,k.port=e.port,e.query&&(k.query=e.query)):k.host&&(k.hostname=r(k.host).host);this.secure=null!=k.secure?k.secure:b.location&&"https:"==location.protocol;k.hostname&&!k.port&&(k.port=this.secure?"443":"80");this.agent=k.agent||!1;this.hostname=k.hostname||(b.location?location.hostname:"localhost");this.port=k.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=k.query||{};"string"==typeof this.query&&
(this.query=n.decode(this.query));this.upgrade=!1!==k.upgrade;this.path=(k.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!k.forceJSONP;this.jsonp=!1!==k.jsonp;this.forceBase64=!!k.forceBase64;this.enablesXDR=!!k.enablesXDR;this.timestampParam=k.timestampParam||"t";this.timestampRequests=k.timestampRequests;this.transports=k.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=k.policyPort||843;this.rememberUpgrade=k.rememberUpgrade||!1;this.binaryType=
null;this.onlyBinaryUpgrades=k.onlyBinaryUpgrades;this.perMessageDeflate=!1!==k.perMessageDeflate?k.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=k.pfx||null;this.key=k.key||null;this.passphrase=k.passphrase||null;this.cert=k.cert||null;this.ca=k.ca||null;this.ciphers=k.ciphers||null;this.rejectUnauthorized=void 0===k.rejectUnauthorized?null:k.rejectUnauthorized;
var g="object"==typeof b&&b;g.global===g&&k.extraHeaders&&0<Object.keys(k.extraHeaders).length&&(this.extraHeaders=k.extraHeaders);this.open()}var g=f("./transports"),d=f("component-emitter"),c=f("debug")("engine.io-client:socket"),h=f("indexof"),m=f("engine.io-parser"),r=f("parseuri"),t=f("parsejson"),n=f("parseqs");l.exports=a;a.priorWebsocketSuccess=!1;d(a.prototype);a.protocol=m.protocol;a.Socket=a;a.Transport=f("./transport");a.transports=f("./transports");a.parser=f("engine.io-parser");a.prototype.createTransport=
function(e){c('creating transport "%s"',e);var k=this.query,a={},b;for(b in k)k.hasOwnProperty(b)&&(a[b]=k[b]);a.EIO=m.protocol;a.transport=e;this.id&&(a.sid=this.id);return new g[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:a,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,
key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};a.prototype.open=function(){var e;if(this.rememberUpgrade&&a.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var k=this;setTimeout(function(){k.emit("error","No transports available")},0);return}e=this.transports[0]}this.readyState=
"opening";try{e=this.createTransport(e)}catch(b){this.transports.shift();this.open();return}e.open();this.setTransport(e)};a.prototype.setTransport=function(e){c("setting transport %s",e.name);var k=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=e;e.on("drain",function(){k.onDrain()}).on("packet",function(e){k.onPacket(e)}).on("error",function(e){k.onError(e)}).on("close",function(){k.onClose("transport close")})};
a.prototype.probe=function(e){function k(){if(m.onlyBinaryUpgrades){var k=!this.supportsBinary&&m.transport.supportsBinary;r=r||k}r||(c('probe transport "%s" opened',e),f.send([{type:"ping",data:"probe"}]),f.once("packet",function(k){r||("pong"==k.type&&"probe"==k.data?(c('probe transport "%s" pong',e),m.upgrading=!0,m.emit("upgrading",f),f&&(a.priorWebsocketSuccess="websocket"==f.name,c('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){r||"closed"==m.readyState||(c("changing transport and sending upgrade packet"),
p(),m.setTransport(f),f.send([{type:"upgrade"}]),m.emit("upgrade",f),f=null,m.upgrading=!1,m.flush())}))):(c('probe transport "%s" failed',e),k=Error("probe error"),k.transport=f.name,m.emit("upgradeError",k)))}))}function b(){r||(r=!0,p(),f.close(),f=null)}function g(k){var a=Error("probe error: "+k);a.transport=f.name;b();c('probe transport "%s" failed because of error: %s',e,k);m.emit("upgradeError",a)}function d(){g("transport closed")}function n(){g("socket closed")}function h(e){f&&e.name!=
f.name&&(c('"%s" works - aborting "%s"',e.name,f.name),b())}function p(){f.removeListener("open",k);f.removeListener("error",g);f.removeListener("close",d);m.removeListener("close",n);m.removeListener("upgrading",h)}c('probing transport "%s"',e);var f=this.createTransport(e,{probe:1}),r=!1,m=this;a.priorWebsocketSuccess=!1;f.once("open",k);f.once("error",g);f.once("close",d);this.once("close",n);this.once("upgrading",h);f.open()};a.prototype.onOpen=function(){c("socket open");this.readyState="open";
a.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,k=this.upgrades.length;e<k;e++)this.probe(this.upgrades[e])}};a.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case "open":this.onHandshake(t(e.data));break;
case "pong":this.setPing();this.emit("pong");break;case "error":var k=Error("server error");k.code=e.data;this.onError(k);break;case "message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)};a.prototype.onHandshake=function(e){this.emit("handshake",e);this.id=e.sid;this.transport.query.sid=e.sid;this.upgrades=this.filterUpgrades(e.upgrades);this.pingInterval=e.pingInterval;this.pingTimeout=e.pingTimeout;this.onOpen();"closed"!=
this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};a.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var k=this;k.pingTimeoutTimer=setTimeout(function(){if("closed"!=k.readyState)k.onClose("ping timeout")},e||k.pingInterval+k.pingTimeout)};a.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer);e.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",
e.pingTimeout);e.ping();e.onHeartbeat(e.pingTimeout)},e.pingInterval)};a.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};a.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};a.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),
this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};a.prototype.write=a.prototype.send=function(e,k,a){this.sendPacket("message",e,k,a);return this};a.prototype.sendPacket=function(e,k,a,b){"function"==typeof k&&(b=k,k=void 0);"function"==typeof a&&(b=a,a=null);if("closing"!=this.readyState&&"closed"!=this.readyState){a=a||{};a.compress=!1!==a.compress;e={type:e,data:k,options:a};this.emit("packetCreate",e);this.writeBuffer.push(e);if(b)this.once("flush",
b);this.flush()}};a.prototype.close=function(){function e(){b.onClose("forced close");c("socket closing - telling transport to close");b.transport.close()}function k(){b.removeListener("upgrade",k);b.removeListener("upgradeError",k);e()}function a(){b.once("upgrade",k);b.once("upgradeError",k)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var b=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():e()});else this.upgrading?a():e()}return this};
a.prototype.onError=function(e){c("socket error %j",e);a.priorWebsocketSuccess=!1;this.emit("error",e);this.onClose("transport error",e)};a.prototype.onClose=function(e,a){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)c('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=
null,this.emit("close",e,a),this.writeBuffer=[],this.prevBufferLen=0};a.prototype.filterUpgrades=function(e){for(var a=[],b=0,g=e.length;b<g;b++)~h(this.transports,e[b])&&a.push(e[b]);return a}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(f,l,h){function b(a){this.path=a.path;this.hostname=
a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders}var a=f("engine.io-parser");f=f("component-emitter");l.exports=b;f(b.prototype);
b.prototype.onError=function(a,b){var c=Error(a);c.type="TransportError";c.description=b;this.emit("error",c);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};b.prototype.onOpen=
function(){this.readyState="open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=a.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(a){this.emit("packet",a)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(f,l,h){(function(b){var a=f("xmlhttprequest-ssl"),g=f("./polling-xhr"),d=f("./polling-jsonp"),c=f("./websocket");h.polling=function(c){var h=!1,f=
!1,t=!1!==c.jsonp;b.location&&(f="https:"==location.protocol,(h=location.port)||(h=f?443:80),h=c.hostname!=location.hostname||h!=c.port,f=c.secure!=f);c.xdomain=h;c.xscheme=f;if("open"in new a(c)&&!c.forceJSONP)return new g(c);if(!t)throw Error("JSONP disabled");return new d(c)};h.websocket=c}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(f,
l,h){(function(b){function a(){}function g(c){d.call(this,c);this.query=this.query||{};r||(b.___eio||(b.___eio=[]),r=b.___eio);this.index=r.length;var g=this;r.push(function(e){g.onData(e)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){g.script&&(g.script.onerror=a)},!1)}var d=f("./polling"),c=f("component-inherit");l.exports=g;var h=/\n/g,m=/\\n/g,r;c(g,d);g.prototype.supportsBinary=!1;g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);d.prototype.doClose.call(this)};g.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(e){a.onError("jsonp poll error",e)};var e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(b,e):(document.head||document.body).appendChild(b);
this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e);document.body.removeChild(e)},100)};g.prototype.doWrite=function(a,b){function e(){k();b()}function k(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(e){c.onError("jsonp polling iframe removal error",e)}try{r=document.createElement('<iframe src="javascript:0" name="'+c.iframeId+'">')}catch(a){r=document.createElement("iframe"),
r.name=c.iframeId,r.src="javascript:0"}r.id=c.iframeId;c.form.appendChild(r);c.iframe=r}var c=this;if(!this.form){var g=document.createElement("form"),d=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index,r;g.className="socketio";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=f;g.method="POST";g.setAttribute("accept-charset","utf-8");d.name="d";g.appendChild(d);document.body.appendChild(g);this.form=g;this.area=d}this.form.action=this.uri();
k();a=a.replace(m,"\\\n");this.area.value=a.replace(h,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==c.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(f,l,h){(function(b){function a(){}function g(e){m.call(this,e);if(b.location){var a="https:"==location.protocol,
c=location.port;c||(c=a?443:80);this.xd=e.hostname!=b.location.hostname||c!=e.port;this.xs=e.secure!=a}else this.extraHeaders=e.extraHeaders}function d(e){this.method=e.method||"GET";this.uri=e.uri;this.xd=!!e.xd;this.xs=!!e.xs;this.async=!1!==e.async;this.data=void 0!=e.data?e.data:null;this.agent=e.agent;this.isBinary=e.isBinary;this.supportsBinary=e.supportsBinary;this.enablesXDR=e.enablesXDR;this.pfx=e.pfx;this.key=e.key;this.passphrase=e.passphrase;this.cert=e.cert;this.ca=e.ca;this.ciphers=
e.ciphers;this.rejectUnauthorized=e.rejectUnauthorized;this.extraHeaders=e.extraHeaders;this.create()}function c(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}var h=f("xmlhttprequest-ssl"),m=f("./polling"),r=f("component-emitter"),t=f("component-inherit"),n=f("debug")("engine.io-client:polling-xhr");l.exports=g;l.exports.Request=d;t(g,m);g.prototype.supportsBinary=!0;g.prototype.request=function(e){e=e||{};e.uri=this.uri();e.xd=this.xd;e.xs=this.xs;e.agent=this.agent||
!1;e.supportsBinary=this.supportsBinary;e.enablesXDR=this.enablesXDR;e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;e.extraHeaders=this.extraHeaders;return new d(e)};g.prototype.doWrite=function(e,a){var b=this.request({method:"POST",data:e,isBinary:"string"!==typeof e&&void 0!==e}),c=this;b.on("success",a);b.on("error",function(e){c.onError("xhr post error",e)});this.sendXhr=b};g.prototype.doPoll=
function(){n("xhr poll");var e=this.request(),a=this;e.on("data",function(e){a.onData(e)});e.on("error",function(e){a.onError("xhr poll error",e)});this.pollXhr=e};r(d.prototype);d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;var a=this.xhr=new h(e),c=this;try{n("xhr open %s: %s",
this.method,this.uri);a.open(this.method,this.uri,this.async);try{if(this.extraHeaders){a.setDisableHeaderCheck(!0);for(var g in this.extraHeaders)this.extraHeaders.hasOwnProperty(g)&&a.setRequestHeader(g,this.extraHeaders[g])}}catch(f){}this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in a&&(a.withCredentials=
!0);this.hasXDR()?(a.onload=function(){c.onLoad()},a.onerror=function(){c.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)c.onLoad();else setTimeout(function(){c.onError(a.status)},0)};n("xhr data %s",this.data);a.send(this.data)}catch(m){setTimeout(function(){c.onError(m)},0);return}b.document&&(this.index=d.requestsCount++,d.requests[this.index]=this)};d.prototype.onSuccess=function(){this.emit("success");this.cleanup()};d.prototype.onData=
function(e){this.emit("data",e);this.onSuccess()};d.prototype.onError=function(e){this.emit("error",e);this.cleanup(!0)};d.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a;if(e)try{this.xhr.abort()}catch(c){}b.document&&delete d.requests[this.index];this.xhr=null}};d.prototype.onLoad=function(){var e;try{var a;try{a=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(b){}if("application/octet-stream"===
a)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(c){var g=new Uint8Array(this.xhr.response);a=[];for(var d=0,h=g.length;d<h;d++)a.push(g[d]);e=String.fromCharCode.apply(null,a)}else e=this.xhr.responseText}catch(n){this.onError(n)}if(null!=e)this.onData(e)};d.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};d.prototype.abort=function(){this.cleanup()};b.document&&(d.requestsCount=
0,d.requests={},b.attachEvent?b.attachEvent("onunload",c):b.addEventListener&&b.addEventListener("beforeunload",c,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(f,l,h){function b(b){var c=b&&b.forceBase64;if(!m||c)this.supportsBinary=!1;a.call(this,b)}var a=f("../transport"),g=f("parseqs"),d=f("engine.io-parser");h=
f("component-inherit");var c=f("yeast"),p=f("debug")("engine.io-client:polling");l.exports=b;var m=null!=(new (f("xmlhttprequest-ssl"))({xdomain:!1})).responseType;h(b,a);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=function(a){function b(){p("paused");c.readyState="paused";a()}var c=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(p("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){p("pre-pause polling complete");
--e||b()}));this.writable||(p("we are currently writing - waiting to pause"),e++,this.once("drain",function(){p("pre-pause writing complete");--e||b()}))}else b()};b.prototype.poll=function(){p("polling");this.polling=!0;this.doPoll();this.emit("poll")};b.prototype.onData=function(a){var b=this;p("polling got data %s",a);d.decodePayload(a,this.socket.binaryType,function(a,e,c){if("opening"==b.readyState)b.onOpen();if("close"==a.type)return b.onClose(),!1;b.onPacket(a)});"closed"!=this.readyState&&
(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function a(){p("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(p("transport open - closing"),a()):(p("transport not open - deferring close"),this.once("open",a))};b.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0;b.emit("drain")},b=this;d.encodePayload(a,
this.supportsBinary,function(e){b.doWrite(e,c)})};b.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(a[this.timestampParam]=c());this.supportsBinary||a.sid||(a.b64=1);a=g.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(d=":"+this.port);a.length&&(a="?"+a);var e=-1!==this.hostname.indexOf(":");return b+"://"+(e?"["+this.hostname+"]":this.hostname)+d+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,
"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(f,l,h){(function(b){function a(e){e&&e.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=e.perMessageDeflate;g.call(this,e)}var g=f("../transport"),d=f("engine.io-parser"),c=f("parseqs"),h=f("component-inherit"),m=f("yeast"),r=f("debug")("engine.io-client:websocket"),t=b.WebSocket||b.MozWebSocket,n=t;if(!n&&"undefined"===typeof window)try{n=f("ws")}catch(e){}l.exports=a;h(a,g);a.prototype.name="websocket";a.prototype.supportsBinary=
!0;a.prototype.doOpen=function(){if(this.check()){var e=this.uri(),a={agent:this.agent,perMessageDeflate:this.perMessageDeflate};a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(a.headers=this.extraHeaders);this.ws=t?new n(e):new n(e,void 0,a);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=
"buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};a.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()};this.ws.onclose=function(){e.onClose()};this.ws.onmessage=function(a){e.onData(a.data)};this.ws.onerror=function(a){e.onError("websocket error",a)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(a.prototype.onData=function(e){var a=this;setTimeout(function(){g.prototype.onData.call(a,e)},0)});a.prototype.write=
function(e){function a(){c.emit("flush");setTimeout(function(){c.writable=!0;c.emit("drain")},0)}var c=this;this.writable=!1;for(var g=e.length,h=0,f=g;h<f;h++)(function(e){d.encodePacket(e,c.supportsBinary,function(d){if(!t){var k={};e.options&&(k.compress=e.options.compress);c.perMessageDeflate&&("string"==typeof d?b.Buffer.byteLength(d):d.length)<c.perMessageDeflate.threshold&&(k.compress=!1)}try{t?c.ws.send(d):c.ws.send(d,k)}catch(h){r("websocket closed before onclose event")}--g||a()})})(e[h])};
a.prototype.onClose=function(){g.prototype.onClose.call(this)};a.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};a.prototype.uri=function(){var e=this.query||{},a=this.secure?"wss":"ws",b="";this.port&&("wss"==a&&443!=this.port||"ws"==a&&80!=this.port)&&(b=":"+this.port);this.timestampRequests&&(e[this.timestampParam]=m());this.supportsBinary||(e.b64=1);e=c.encode(e);e.length&&(e="?"+e);var g=-1!==this.hostname.indexOf(":");return a+"://"+(g?"["+this.hostname+"]":this.hostname)+
b+this.path+e};a.prototype.check=function(){return!!n&&!("__initialize"in n&&this.name===a.prototype.name)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(f,l,h){var b=f("has-cors");l.exports=function(a){var g=a.xdomain,d=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!g||b))return new XMLHttpRequest}catch(c){}try{if("undefined"!=
typeof XDomainRequest&&!d&&a)return new XDomainRequest}catch(h){}if(!g)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":22}],11:[function(f,l,h){function b(){}l.exports=function(a,g,d){function c(a,b){if(0>=c.count)throw Error("after called too many times");--c.count;a?(h=!0,g(a),g=d):0!==c.count||h||g(null,b)}var h=!1;d=d||b;c.count=a;return 0===a?g():c}},{}],12:[function(f,l,h){l.exports=function(b,a,g){var d=b.byteLength;a=a||0;g=g||d;if(b.slice)return b.slice(a,g);0>
a&&(a+=d);0>g&&(g+=d);g>d&&(g=d);if(a>=d||a>=g||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);for(var d=new Uint8Array(g-a),c=0;a<g;a++,c++)d[c]=b[a];return d.buffer}},{}],13:[function(f,l,h){(function(b){h.encode=function(a){a=new Uint8Array(a);var g,d=a.length,c="";for(g=0;g<d;g+=3)c+=b[a[g]>>2],c+=b[(a[g]&3)<<4|a[g+1]>>4],c+=b[(a[g+1]&15)<<2|a[g+2]>>6],c+=b[a[g+2]&63];2===d%3?c=c.substring(0,c.length-1)+"=":1===d%3&&(c=c.substring(0,c.length-2)+"==");return c};h.decode=function(a){var g=
.75*a.length,d=a.length,c=0,h,f,r,l;"="===a[a.length-1]&&(g--,"="===a[a.length-2]&&g--);for(var n=new ArrayBuffer(g),e=new Uint8Array(n),g=0;g<d;g+=4)h=b.indexOf(a[g]),f=b.indexOf(a[g+1]),r=b.indexOf(a[g+2]),l=b.indexOf(a[g+3]),e[c++]=h<<2|f>>4,e[c++]=(f&15)<<4|r>>2,e[c++]=(r&3)<<6|l&63;return n}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(f,l,h){(function(b){function a(e){for(var a=0;a<e.length;a++){var b=e[a];if(b.buffer instanceof ArrayBuffer){var c=
b.buffer;if(b.byteLength!==c.byteLength){var g=new Uint8Array(b.byteLength);g.set(new Uint8Array(c,b.byteOffset,b.byteLength));c=g.buffer}e[a]=c}}}function g(e,b){b=b||{};var g=new c;a(e);for(var d=0;d<e.length;d++)g.append(e[d]);return b.type?g.getBlob(b.type):g.getBlob()}function d(e,b){a(e);return new Blob(e,b||{})}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,h;try{h=2===(new Blob(["hi"])).size}catch(f){h=!1}var r;if(r=h)try{r=2===(new Blob([new Uint8Array([1,2])])).size}catch(t){r=
!1}var n=c&&c.prototype.append&&c.prototype.getBlob;b=h?r?b.Blob:d:n?g:void 0;l.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],15:[function(f,l,h){function b(a){if(a){for(var g in b.prototype)a[g]=b.prototype[g];return a}}l.exports=b;b.prototype.on=b.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};b.prototype.once=function(a,
b){function d(){c.off(a,d);b.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};d.fn=b;this.on(a,d);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var c,h=0;h<d.length;h++)if(c=d[h],c===b||c.fn===b){d.splice(h,
1);break}return this};b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),d=this._callbacks[a];if(d)for(var d=d.slice(0),c=0,h=d.length;c<h;++c)d[c].apply(this,b);return this};b.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(f,l,h){l.exports=function(b,a){var g=function(){};g.prototype=a.prototype;b.prototype=new g;
b.prototype.constructor=b}},{}],17:[function(f,l,h){function b(){var a;try{a=h.storage.debug}catch(b){}return a}h=l.exports=f("./debug");h.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};h.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+h.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,
1)),g=0,f=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(g++,"%c"===a&&(f=g))});a.splice(f,0,b);return a};h.save=function(a){try{null==a?h.storage.removeItem("debug"):h.storage.debug=a}catch(b){}};h.load=b;h.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var a;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)a=
chrome.storage.local;else a:{try{a=window.localStorage;break a}catch(g){}a=void 0}h.storage=a;h.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");h.formatters.j=function(a){return JSON.stringify(a)};h.enable(b())},{"./debug":18}],18:[function(f,l,h){h=l.exports=function(g){function d(){}function c(){var g=+new Date;c.diff=g-(a||g);c.prev=a;a=c.curr=g;null==c.useColors&&(c.useColors=h.useColors());null==c.color&&c.useColors&&(c.color=h.colors[b++%h.colors.length]);
var d=Array.prototype.slice.call(arguments);d[0]=h.coerce(d[0]);"string"!==typeof d[0]&&(d=["%o"].concat(d));var f=0;d[0]=d[0].replace(/%([a-z%])/g,function(a,e){if("%%"===a)return a;f++;var b=h.formatters[e];"function"===typeof b&&(a=b.call(c,d[f]),d.splice(f,1),f--);return a});"function"===typeof h.formatArgs&&(d=h.formatArgs.apply(c,d));(c.log||h.log||console.log.bind(console)).apply(c,d)}d.enabled=!1;c.enabled=!0;var f=h.enabled(g)?c:d;f.namespace=g;return f};h.coerce=function(a){return a instanceof
Error?a.stack||a.message:a};h.disable=function(){h.enable("")};h.enable=function(a){h.save(a);for(var b=(a||"").split(/[\s,]+/),c=b.length,f=0;f<c;f++)b[f]&&(a=b[f].replace(/\*/g,".*?"),"-"===a[0]?h.skips.push(new RegExp("^"+a.substr(1)+"$")):h.names.push(new RegExp("^"+a+"$")))};h.enabled=function(a){var b,c;b=0;for(c=h.skips.length;b<c;b++)if(h.skips[b].test(a))return!1;b=0;for(c=h.names.length;b<c;b++)if(h.names[b].test(a))return!0;return!1};h.humanize=f("ms");h.names=[];h.skips=[];h.formatters=
{};var b=0,a},{ms:25}],19:[function(f,l,h){(function(b){function a(a,e,b){if(!e)return h.encodeBase64Packet(a,b);var c=new FileReader;c.onload=function(){a.data=c.result;h.encodePacket(a,e,!0,b)};return c.readAsArrayBuffer(a.data)}function g(a,e,b){var c=Array(a.length);b=r(a.length,b);for(var g=function(a,b,g){e(b,function(e,b){c[a]=b;g(e,c)})},d=0;d<a.length;d++)g(d,a[d],b)}var d=f("./keys"),c=f("has-binary"),p=f("arraybuffer.slice"),m=f("base64-arraybuffer"),r=f("after"),l=f("utf8"),n=navigator.userAgent.match(/Android/i),
e=/PhantomJS/i.test(navigator.userAgent),k=n||e;h.protocol=3;var v=h.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},C=d(v),z={type:"error",data:"parser error"},y=f("blob");h.encodePacket=function(e,c,g,d){"function"==typeof c&&(d=c,c=!1);"function"==typeof g&&(d=g,g=null);var f=void 0===e.data?void 0:e.data.buffer||e.data;if(b.ArrayBuffer&&f instanceof ArrayBuffer){if(c){g=e.data;c=new Uint8Array(g);g=new Uint8Array(1+g.byteLength);g[0]=v[e.type];for(e=0;e<c.length;e++)g[e+1]=c[e];
e=d(g.buffer)}else e=h.encodeBase64Packet(e,d);return e}if(y&&f instanceof b.Blob)return c?k?e=a(e,c,d):(c=new Uint8Array(1),c[0]=v[e.type],e=new y([c.buffer,e.data]),e=d(e)):e=h.encodeBase64Packet(e,d),e;if(f&&f.base64)return d("b"+h.packets[e.type]+e.data.data);c=v[e.type];void 0!==e.data&&(c+=g?l.encode(String(e.data)):String(e.data));return d(""+c)};h.encodeBase64Packet=function(a,e){var c="b"+h.packets[a.type];if(y&&a.data instanceof b.Blob){var g=new FileReader;g.onload=function(){var a=g.result.split(",")[1];
e(c+a)};return g.readAsDataURL(a.data)}var d;try{d=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(k){d=new Uint8Array(a.data);for(var f=Array(d.length),n=0;n<d.length;n++)f[n]=d[n];d=String.fromCharCode.apply(null,f)}c+=b.btoa(d);return e(c)};h.decodePacket=function(a,e,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return h.decodeBase64Packet(a.substr(1),e);if(b)try{a=l.decode(a)}catch(c){return z}b=a.charAt(0);return Number(b)==b&&C[b]?1<a.length?{type:C[b],data:a.substring(1)}:
{type:C[b]}:z}b=(new Uint8Array(a))[0];a=p(a,1);y&&"blob"===e&&(a=new y([a]));return{type:C[b],data:a}};h.decodeBase64Packet=function(a,e){var c=C[a.charAt(0)];if(!b.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var g=m.decode(a.substr(1));"blob"===e&&y&&(g=new y([g]));return{type:c,data:g}};h.encodePayload=function(a,e,b){"function"==typeof e&&(b=e,e=null);var d=c(a);if(e&&d)return y&&!k?h.encodePayloadAsBlob(a,b):h.encodePayloadAsArrayBuffer(a,b);if(!a.length)return b("0:");g(a,function(a,
b){h.encodePacket(a,d?e:!1,!0,function(a){b(null,a.length+":"+a)})},function(a,e){return b(e.join(""))})};h.decodePayload=function(a,e,b){if("string"!=typeof a)return h.decodePayloadAsBinary(a,e,b);"function"===typeof e&&(b=e,e=null);var c;if(""==a)return b(z,0,1);c="";for(var g,d,k=0,f=a.length;k<f;k++)if(d=a.charAt(k),":"!=d)c+=d;else{if(""==c||c!=(g=Number(c)))return b(z,0,1);d=a.substr(k+1,g);if(c!=d.length)return b(z,0,1);if(d.length){c=h.decodePacket(d,e,!0);if(z.type==c.type&&z.data==c.data)return b(z,
0,1);if(!1===b(c,k+g,f))return}k+=g;c=""}if(""!=c)return b(z,0,1)};h.encodePayloadAsArrayBuffer=function(a,e){if(!a.length)return e(new ArrayBuffer(0));g(a,function(a,e){h.encodePacket(a,!0,!0,function(a){return e(null,a)})},function(a,b){var c=b.reduce(function(a,e){var b;b="string"===typeof e?e.length:e.byteLength;return a+b.toString().length+b+2},0),g=new Uint8Array(c),d=0;b.forEach(function(a){var e="string"===typeof a,b=a;if(e){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);
b=b.buffer}e?g[d++]=0:g[d++]=1;a=b.byteLength.toString();for(c=0;c<a.length;c++)g[d++]=parseInt(a[c]);g[d++]=255;b=new Uint8Array(b);for(c=0;c<b.length;c++)g[d++]=b[c]});return e(g.buffer)})};h.encodePayloadAsBlob=function(a,e){g(a,function(a,e){h.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);b[0]=1;if("string"===typeof a){for(var c=new Uint8Array(a.length),g=0;g<a.length;g++)c[g]=a.charCodeAt(g);a=c.buffer;b[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),d=new Uint8Array(c.length+
1),g=0;g<c.length;g++)d[g]=parseInt(c[g]);d[c.length]=255;y&&(a=new y([b.buffer,d.buffer,a]),e(null,a))})},function(a,b){return e(new y(b))})};h.decodePayloadAsBinary=function(a,e,b){"function"===typeof e&&(b=e,e=null);for(var c=[],g=!1;0<a.byteLength;){for(var d=new Uint8Array(a),k=0===d[0],f="",n=1;255!=d[n];n++){if(310<f.length){g=!0;break}f+=d[n]}if(g)return b(z,0,1);a=p(a,2+f.length);f=parseInt(f);d=p(a,0,f);if(k)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){for(k=new Uint8Array(d),
d="",n=0;n<k.length;n++)d+=String.fromCharCode(k[n])}c.push(d);a=p(a,f)}var l=c.length;c.forEach(function(a,c){b(h.decodePacket(a,e,!0),c,l)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(f,l,h){l.exports=Object.keys||function(b){var a=[],g=Object.prototype.hasOwnProperty,d;for(d in b)g.call(b,d)&&a.push(d);return a}},
{}],21:[function(f,l,h){(function(b){var a=f("isarray");l.exports=function(g){function d(c){if(!c)return!1;if(b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(a(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,g)&&d(c[g]))return!0;return!1}return d(g)}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:"undefined"!==typeof global?global:{})},{isarray:24}],22:[function(f,l,h){try{l.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(b){l.exports=!1}},{}],23:[function(f,l,h){var b=[].indexOf;l.exports=function(a,g){if(b)return a.indexOf(g);for(var d=0;d<a.length;++d)if(a[d]===g)return d;return-1}},{}],24:[function(f,l,h){l.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],25:[function(f,l,h){function b(a){a=
""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var b=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*b;case "days":case "day":case "d":return 864E5*b;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*b;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*b;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*
b;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function a(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}l.exports=function(g,d){d=d||{};return"string"==typeof g?b(g):d.long?a(g,864E5,"day")||a(g,36E5,"hour")||a(g,6E4,"minute")||a(g,1E3,"second")||g+" ms":864E5<=g?Math.round(g/864E5)+"d":36E5<=g?Math.round(g/36E5)+"h":6E4<=g?Math.round(g/6E4)+"m":1E3<=g?Math.round(g/1E3)+"s":g+"ms"}},{}],26:[function(f,l,h){(function(b){var a=
/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c=/(?:^|:|,)(?:\s*\[)+/g,h=/^\s+/,f=/\s+$/;l.exports=function(l){if("string"!=typeof l||!l)return null;l=l.replace(h,"").replace(f,"");if(b.JSON&&JSON.parse)return JSON.parse(l);if(a.test(l.replace(g,"@").replace(d,"]").replace(c,"")))return(new Function("return "+l))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?
global:{})},{}],27:[function(f,l,h){h.encode=function(b){var a="",g;for(g in b)b.hasOwnProperty(g)&&(a.length&&(a+="&"),a+=encodeURIComponent(g)+"="+encodeURIComponent(b[g]));return a};h.decode=function(b){var a={};b=b.split("&");for(var g=0,d=b.length;g<d;g++){var c=b[g].split("=");a[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return a}},{}],28:[function(f,l,h){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");l.exports=function(g){var d=g,c=g.indexOf("["),h=g.indexOf("]");-1!=c&&-1!=h&&(g=g.substring(0,c)+g.substring(c,h).replace(/:/g,";")+g.substring(h,g.length));g=b.exec(g||"");for(var f={},l=14;l--;)f[a[l]]=g[l]||"";-1!=c&&-1!=h&&(f.source=d,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=
!0);return f}},{}],29:[function(f,l,h){(function(b){(function(a){function g(a){for(var e=[],b=0,c=a.length,g,d;b<c;)g=a.charCodeAt(b++),55296<=g&&56319>=g&&b<c?(d=a.charCodeAt(b++),56320==(d&64512)?e.push(((g&1023)<<10)+(d&1023)+65536):(e.push(g),b--)):e.push(g);return e}function d(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function c(){if(v>=k)throw Error("Invalid byte index");var a=e[v]&255;v++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");
}function f(){var a,b,g,h;if(v>k)throw Error("Invalid byte index");if(v==k)return!1;a=e[v]&255;v++;if(0==(a&128))return a;if(192==(a&224)){b=c();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=c();g=c();a=(a&15)<<12|b<<6|g;if(2048<=a)return d(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=c(),g=c(),h=c(),a=(a&15)<<18|b<<12|g<<6|h,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var m="object"==typeof h&&h,r="object"==
typeof l&&l&&l.exports==m&&l,t="object"==typeof b&&b;if(t.global===t||t.window===t)a=t;var n=String.fromCharCode,e,k,v,t={version:"2.0.0",encode:function(a){a=g(a);for(var e=a.length,b=-1,c,h="";++b<e;){c=a[b];if(0==(c&4294967168))c=n(c);else{var f="";0==(c&4294965248)?f=n(c>>6&31|192):0==(c&4294901760)?(d(c),f=n(c>>12&15|224),f+=n(c>>6&63|128)):0==(c&4292870144)&&(f=n(c>>18&7|240),f+=n(c>>12&63|128),f+=n(c>>6&63|128));c=f+=n(c&63|128)}h+=c}return h},decode:function(a){e=g(a);k=e.length;v=0;a=[];
for(var b;!1!==(b=f());)a.push(b);b=a.length;for(var c=-1,d,h="";++c<b;)d=a[c],65535<d&&(d-=65536,h+=n(d>>>10&1023|55296),d=56320|d&1023),h+=n(d);return h}};if(m&&!m.nodeType)if(r)r.exports=t;else{a={}.hasOwnProperty;for(var C in t)a.call(t,C)&&(m[C]=t[C])}else a.utf8=t})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],30:[function(f,l,h){function b(a){var b="";do b=g[a%64]+b,a=Math.floor(a/64);while(0<a);return b}function a(){var a=
b(+new Date);return a!==m?(c=0,m=a):a+"."+b(c++)}for(var g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),d={},c=0,p=0,m;64>p;p++)d[g[p]]=p;a.encode=b;a.decode=function(a){var b=0;for(p=0;p<a.length;p++)b=64*b+d[a.charAt(p)];return b};l.exports=a},{}],31:[function(f,l,h){function b(b,g){"object"==typeof b&&(g=b,b=void 0);g=g||{};var f=a(b),h=f.source,e=f.id,k=f.path,k=p[e]&&k in p[e].nsps;g.forceNew||g["force new connection"]||!1===g.multiplex||k?(c("ignoring socket cache for %s",
h),h=d(h,g)):(p[e]||(c("new io instance for %s",h),p[e]=d(h,g)),h=p[e]);return h.socket(f.path)}var a=f("./url"),g=f("socket.io-parser"),d=f("./manager"),c=f("debug")("socket.io-client");l.exports=h=b;var p=h.managers={};h.protocol=g.protocol;h.connect=b;h.Manager=f("./manager");h.Socket=f("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(f,l,h){function b(a,c){if(!(this instanceof b))return new b(a,c);a&&"object"==typeof a&&(c=a,a=void 0);c=c||{};
c.path=c.path||"/socket.io";this.nsps={};this.subs=[];this.opts=c;this.reconnection(!1!==c.reconnection);this.reconnectionAttempts(c.reconnectionAttempts||Infinity);this.reconnectionDelay(c.reconnectionDelay||1E3);this.reconnectionDelayMax(c.reconnectionDelayMax||5E3);this.randomizationFactor(c.randomizationFactor||.5);this.backoff=new t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==c.timeout?2E4:c.timeout);this.readyState="closed";
this.uri=a;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new d.Encoder;this.decoder=new d.Decoder;(this.autoConnect=!1!==c.autoConnect)&&this.open()}var a=f("engine.io-client"),g=f("./socket");h=f("component-emitter");var d=f("socket.io-parser"),c=f("./on"),p=f("component-bind"),m=f("debug")("socket.io-client:manager"),r=f("indexof"),t=f("backo2"),n=Object.prototype.hasOwnProperty;l.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);
for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};b.prototype.updateSocketIds=function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)};h(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=
function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};b.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};b.prototype.timeout=
function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};b.prototype.open=b.prototype.connect=function(b){m("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;m("opening %s",this.uri);var g=this.engine=a(this.uri,this.opts),d=this;this.readyState="opening";this.skipReconnect=!1;var h=c(g,"open",function(){d.onopen();
b&&b()}),f=c(g,"error",function(a){m("connect_error");d.cleanup();d.readyState="closed";d.emitAll("connect_error",a);if(b){var c=Error("Connection error");c.data=a;b(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var n=this._timeout;m("connect attempt will timeout after %d",n);var l=setTimeout(function(){m("connect attempt timed out after %d",n);h.destroy();g.close();g.emit("error","timeout");d.emitAll("connect_timeout",n)},n);this.subs.push({destroy:function(){clearTimeout(l)}})}this.subs.push(h);
this.subs.push(f);return this};b.prototype.onopen=function(){m("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(c(a,"data",p(this,"ondata")));this.subs.push(c(a,"ping",p(this,"onping")));this.subs.push(c(a,"pong",p(this,"onpong")));this.subs.push(c(a,"error",p(this,"onerror")));this.subs.push(c(a,"close",p(this,"onclose")));this.subs.push(c(this.decoder,"decoded",p(this,"ondecoded")))};b.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};
b.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){m("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){function b(){~r(d.connecting,c)||d.connecting.push(c)}var c=this.nsps[a];if(!c){c=new g(this,a);this.nsps[a]=c;var d=this;c.on("connecting",b);c.on("connect",function(){c.id=d.engine.id});this.autoConnect&&b()}return c};
b.prototype.destroy=function(a){a=r(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};b.prototype.packet=function(a){m("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var g=0;g<c.length;g++)b.engine.write(c[g],a.options);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};
b.prototype.cleanup=function(){m("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){m("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){m("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";
this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)m("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();m("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(m("attempting reconnect"),
a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(m("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(m("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}};b.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":33,
"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(f,l,h){l.exports=function(b,a,g){b.on(a,g);return{destroy:function(){b.removeListener(a,g)}}}},{}],34:[function(f,l,h){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var a=f("socket.io-parser");h=f("component-emitter");
var g=f("to-array"),d=f("./on"),c=f("component-bind"),p=f("debug")("socket.io-client:socket"),m=f("has-binary");l.exports=b;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},t=h.prototype.emit;h(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[d(a,"open",c(this,"onopen")),d(a,"packet",c(this,"onpacket")),d(a,"close",c(this,"onclose"))]}};
b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");return this};b.prototype.send=function(){var a=g(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(r.hasOwnProperty(b))return t.apply(this,arguments),this;var c=g(arguments),d=a.EVENT;m(c)&&(d=a.BINARY_EVENT);d={type:d,data:c,options:{}};d.options.compress=!this.flags||!1!==
this.flags.compress;"function"==typeof c[c.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=c.pop(),d.id=this.ids++);this.connected?this.packet(d):this.sendBuffer.push(d);delete this.flags;return this};b.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};b.prototype.onopen=function(){p("transport is open - connecting");"/"!=this.nsp&&this.packet({type:a.CONNECT})};b.prototype.onclose=function(a){p("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;
this.emit("disconnect",a)};b.prototype.onpacket=function(b){if(b.nsp==this.nsp)switch(b.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(b);break;case a.BINARY_EVENT:this.onevent(b);break;case a.ACK:this.onack(b);break;case a.BINARY_ACK:this.onack(b);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",b.data)}};b.prototype.onevent=function(a){var b=a.data||[];p("emitting event %j",b);null!=a.id&&(p("attaching ack callback to event"),b.push(this.ack(a.id)));
this.connected?t.apply(this,b):this.receiveBuffer.push(b)};b.prototype.ack=function(b){var c=this,d=!1;return function(){if(!d){d=!0;var h=g(arguments);p("sending ack %j",h);var f=m(h)?a.BINARY_ACK:a.ACK;c.packet({type:f,id:b,data:h})}}};b.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(p("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):p("bad ack %s",a.id)};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");
this.emitBuffered()};b.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)t.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};
b.prototype.close=b.prototype.disconnect=function(){this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this};b.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(f,l,h){(function(b){var a=f("parseuri"),g=f("debug")("socket.io-client:url");
l.exports=function(d,c){var h=d;c=c||b.location;null==d&&(d=c.protocol+"//"+c.host);"string"==typeof d&&("/"==d.charAt(0)&&(d="/"==d.charAt(1)?c.protocol+d:c.host+d),/^(https?|wss?):\/\//.test(d)||(g("protocol-less url %s",d),d="undefined"!=typeof c?c.protocol+"//"+d:"https://"+d),g("parse %s",d),h=a(d));h.port||(/^(http|ws)$/.test(h.protocol)?h.port="80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443"));h.path=h.path||"/";var f=-1!==h.host.indexOf(":")?"["+h.host+"]":h.host;h.id=h.protocol+"://"+
f+":"+h.port;h.href=h.protocol+"://"+f+(c&&c.port==h.port?"":":"+h.port);return h}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{debug:39,parseuri:45}],36:[function(f,l,h){function b(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}l.exports=b;b.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var b=
Math.random(),d=Math.floor(b*this.jitter*a),a=0==(Math.floor(10*b)&1)?a-d:a+d;return Math.min(a,this.max)|0};b.prototype.reset=function(){this.attempts=0};b.prototype.setMin=function(a){this.ms=a};b.prototype.setMax=function(a){this.max=a};b.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(f,l,h){var b=[].slice;l.exports=function(a,g){"string"==typeof g&&(g=a[g]);if("function"!=typeof g)throw Error("bind() requires a function");var d=b.call(arguments,2);return function(){return g.apply(a,
d.concat(b.call(arguments)))}}},{}],38:[function(f,l,h){function b(a){if(a){for(var g in b.prototype)a[g]=b.prototype[g];return a}}l.exports=b;b.prototype.on=b.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b);return this};b.prototype.once=function(a,b){function d(){this.off(a,d);b.apply(this,arguments)}d.fn=b;this.on(a,d);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=
function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks["$"+a];if(!d)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var c,h=0;h<d.length;h++)if(c=d[h],c===b||c.fn===b){d.splice(h,1);break}return this};b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),d=this._callbacks["$"+a];if(d)for(var d=d.slice(0),c=0,h=d.length;c<h;++c)d[c].apply(this,b);return this};
b.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+a]||[]};b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(f,l,h){arguments[4][17][0].apply(h,arguments)},{"./debug":40,dup:17}],40:[function(f,l,h){arguments[4][18][0].apply(h,arguments)},{dup:18,ms:44}],41:[function(f,l,h){(function(b){var a=f("isarray");l.exports=function(g){function d(c){if(!c)return!1;if(b.Buffer&&b.Buffer.isBuffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&
c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(a(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,g)&&d(c[g]))return!0;return!1}return d(g)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:43}],42:[function(f,l,h){arguments[4][23][0].apply(h,
arguments)},{dup:23}],43:[function(f,l,h){arguments[4][24][0].apply(h,arguments)},{dup:24}],44:[function(f,l,h){arguments[4][25][0].apply(h,arguments)},{dup:25}],45:[function(f,l,h){arguments[4][28][0].apply(h,arguments)},{dup:28}],46:[function(f,l,h){(function(b){var a=f("isarray"),g=f("./is-buffer");h.deconstructPacket=function(b){function c(b){if(!b)return b;if(g(b)){var d={_placeholder:!0,num:h.length};h.push(b);return d}if(a(b)){for(var d=Array(b.length),f=0;f<b.length;f++)d[f]=c(b[f]);return d}if("object"==
typeof b&&!(b instanceof Date)){d={};for(f in b)d[f]=c(b[f]);return d}return b}var h=[];b.data=c(b.data);b.attachments=h.length;return{packet:b,buffers:h}};h.reconstructPacket=function(b,c){function g(b){if(b&&b._placeholder)return c[b.num];if(a(b))for(var d=0;d<b.length;d++)b[d]=g(b[d]);else if(b&&"object"==typeof b)for(d in b)b[d]=g(b[d]);return b}b.data=g(b.data);b.attachments=void 0;return b};h.removeBlobs=function(d,c){function h(d,n,e){if(!d)return d;if(b.Blob&&d instanceof Blob||b.File&&d instanceof
File){f++;var k=new FileReader;k.onload=function(){e?e[n]=this.result:l=this.result;--f||c(l)};k.readAsArrayBuffer(d)}else if(a(d))for(k=0;k<d.length;k++)h(d[k],k,d);else if(d&&"object"==typeof d&&!g(d))for(k in d)h(d[k],k,d)}var f=0,l=d;h(l);f||c(l)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(f,l,h){function b(){}function a(a){var b,c=!1;b=""+a.type;if(h.BINARY_EVENT==a.type||h.BINARY_ACK==
a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(c=!0,b+=a.nsp);null!=a.id&&(c&&(b+=",",c=!1),b+=a.id);null!=a.data&&(c&&(b+=","),b+=m.stringify(a.data));p("encoded %j as %s",a,b);return b}function g(b,c){r.removeBlobs(b,function(b){var d=r.deconstructPacket(b);b=a(d.packet);d=d.buffers;d.unshift(b);c(d)})}function d(){this.reconstructor=null}function c(a){this.reconPack=a;this.buffers=[]}var p=f("debug")("socket.io-parser"),m=f("json3");f("isarray");l=f("component-emitter");var r=f("./binary"),
t=f("./is-buffer");h.protocol=4;h.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");h.CONNECT=0;h.DISCONNECT=1;h.EVENT=2;h.ACK=3;h.ERROR=4;h.BINARY_EVENT=5;h.BINARY_ACK=6;h.Encoder=b;h.Decoder=d;b.prototype.encode=function(b,c){p("encoding packet %j",b);if(h.BINARY_EVENT==b.type||h.BINARY_ACK==b.type)g(b,c);else{var d=a(b);c([d])}};l(d.prototype);d.prototype.add=function(a){if("string"==typeof a){a:{var b={},d=0;b.type=Number(a.charAt(0));if(null==h.types[b.type])a={type:h.ERROR,
data:"parser error"};else{if(h.BINARY_EVENT==b.type||h.BINARY_ACK==b.type){for(var g="";"-"!=a.charAt(++d)&&(g+=a.charAt(d),d!=a.length););if(g!=Number(g)||"-"!=a.charAt(d))throw Error("Illegal attachments");b.attachments=Number(g)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){g=a.charAt(d);if(","==g)break;b.nsp+=g;if(d==a.length)break}else b.nsp="/";g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(b.id="";++d;){g=a.charAt(d);if(null==g||Number(g)!=g){--d;break}b.id+=a.charAt(d);if(d==a.length)break}b.id=
Number(b.id)}if(a.charAt(++d))try{b.data=m.parse(a.substr(d))}catch(f){a={type:h.ERROR,data:"parser error"};break a}p("decoded %s as %j",a,b);a=b}}h.BINARY_EVENT==a.type||h.BINARY_ACK==a.type?(this.reconstructor=new c(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(t(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");
else throw Error("Unknown type: "+a);};d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};c.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=r.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};c.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],
48:[function(f,l,h){(function(b){l.exports=function(a){return b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],49:[function(f,l,h){arguments[4][15][0].apply(h,arguments)},{dup:15}],50:[function(f,l,h){(function(b){(function(){function a(b,d){function h(a){if(h[a]!==A)return h[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=h("json-stringify")&&
h("json-parse");else{var c;if("json-stringify"==a){b=d.stringify;var e="function"==typeof b&&B;if(e){(c=function(){return 1}).toJSON=c;try{e="0"===b(0)&&"0"===b(new f)&&'""'==b(new l)&&b(w)===A&&b(A)===A&&b()===A&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([A])&&"null"==b(null)&&"[null,null,null]"==b([A,w,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new n(-864E13))&&
'"+275760-09-13T00:00:00.000Z"'==b(new n(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new n(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new n(-1))}catch(g){e=!1}}b=e}if("json-parse"==a){b=d.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var m=5==c.a.length&&1===c.a[0];if(m){try{m=!b('"\t"')}catch(W){}if(m)try{m=1!==b("01")}catch(p){}if(m)try{m=1!==b("1.")}catch(r){}}}}catch(q){m=!1}b=m}}return h[a]=!!b}b||(b=c.Object());d||(d=
c.Object());var f=b.Number||c.Number,l=b.String||c.String,m=b.Object||c.Object,n=b.Date||c.Date,p=b.SyntaxError||c.SyntaxError,r=b.TypeError||c.TypeError,t=b.Math||c.Math,J=b.JSON||c.JSON;"object"==typeof J&&J&&(d.stringify=J.stringify,d.parse=J.parse);var m=m.prototype,w=m.toString,x,G,A,B=new n(-0xc782b5b800cec);try{B=-109252==B.getUTCFullYear()&&0===B.getUTCMonth()&&1===B.getUTCDate()&&10==B.getUTCHours()&&37==B.getUTCMinutes()&&6==B.getUTCSeconds()&&708==B.getUTCMilliseconds()}catch(V){}if(!h("json")){var H=
h("bug-string-char-index");if(!B)var D=t.floor,R=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(a,b){return R[b]+365*(a-1970)+D((a-1969+(b=+(1<b)))/4)-D((a-1901+b)/100)+D((a-1601+b)/400)};(x=m.hasOwnProperty)||(x=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=w?x=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,x=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===
b[a])});b=null;return x.call(this,a)});G=function(a,b){var c=0,d,e,h;(d=function(){this.valueOf=0}).prototype.valueOf=0;e=new d;for(h in e)x.call(e,h)&&c++;d=e=null;c?G=2==c?function(a,b){var c={},d="[object Function]"==w.call(a),e;for(e in a)d&&"prototype"==e||x.call(c,e)||!(c[e]=1)||!x.call(a,e)||b(e)}:function(a,b){var c="[object Function]"==w.call(a),d,e;for(d in a)c&&"prototype"==d||!x.call(a,d)||(e="constructor"===d)||b(d);(e||x.call(a,d="constructor"))&&b(d)}:(e="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
G=function(a,b){var c="[object Function]"==w.call(a),d,h=!c&&"function"!=typeof a.constructor&&g[typeof a.hasOwnProperty]&&a.hasOwnProperty||x;for(d in a)c&&"prototype"==d||!h.call(a,d)||b(d);for(c=e.length;d=e[--c];h.call(a,d)&&b(d));});return G(a,b)};if(!h("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(a,b){return("000000"+(b||0)).slice(-a)},O=function(a){for(var b='"',c=0,d=a.length,e=!H||10<d,g=e&&(H?a.split(""):a);c<d;c++){var h=a.charCodeAt(c);
switch(h){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=S[h];break;default:if(32>h){b+="\\u00"+E(2,h.toString(16));break}b+=e?g[c]:a.charAt(c)}}return b+'"'},M=function(a,b,c,d,e,g,h){var f,k,l,m,n,p,q,t,u;try{f=b[a]}catch(v){}if("object"==typeof f&&f)if(k=w.call(f),"[object Date]"!=k||x.call(f,"toJSON"))"function"==typeof f.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||x.call(f,"toJSON"))&&(f=f.toJSON(a));else if(f>-1/0&&f<1/0){if(I){m=D(f/864E5);for(k=D(m/
365.2425)+1970-1;I(k+1,0)<=m;k++);for(l=D((m-I(k,0))/30.42);I(k,l+1)<=m;l++);m=1+m-I(k,l);n=(f%864E5+864E5)%864E5;p=D(n/36E5)%24;q=D(n/6E4)%60;t=D(n/1E3)%60;n%=1E3}else k=f.getUTCFullYear(),l=f.getUTCMonth(),m=f.getUTCDate(),p=f.getUTCHours(),q=f.getUTCMinutes(),t=f.getUTCSeconds(),n=f.getUTCMilliseconds();f=(0>=k||1E4<=k?(0>k?"-":"+")+E(6,0>k?-k:k):E(4,k))+"-"+E(2,l+1)+"-"+E(2,m)+"T"+E(2,p)+":"+E(2,q)+":"+E(2,t)+"."+E(3,n)+"Z"}else f=null;c&&(f=c.call(b,a,f));if(null===f)return"null";k=w.call(f);
if("[object Boolean]"==k)return""+f;if("[object Number]"==k)return f>-1/0&&f<1/0?""+f:"null";if("[object String]"==k)return O(""+f);if("object"==typeof f){for(a=h.length;a--;)if(h[a]===f)throw r();h.push(f);u=[];b=g;g+=e;if("[object Array]"==k){l=0;for(a=f.length;l<a;l++)k=M(l,f,c,d,e,g,h),u.push(k===A?"null":k);a=u.length?e?"[\n"+g+u.join(",\n"+g)+"\n"+b+"]":"["+u.join(",")+"]":"[]"}else G(d||f,function(a){var b=M(a,f,c,d,e,g,h);b!==A&&u.push(O(a)+":"+(e?" ":"")+b)}),a=u.length?e?"{\n"+g+u.join(",\n"+
g)+"\n"+b+"}":"{"+u.join(",")+"}":"{}";h.pop();return a}};d.stringify=function(a,b,c){var d,e,h,f;if(g[typeof b]&&b)if("[object Function]"==(f=w.call(b)))e=b;else if("[object Array]"==f){h={};for(var k=0,l=b.length,m;k<l;m=b[k++],(f=w.call(m),"[object String]"==f||"[object Number]"==f)&&(h[m]=1));}if(c)if("[object Number]"==(f=w.call(c))){if(0<(c-=c%1))for(d="",10<c&&(c=10);d.length<c;d+=" ");}else"[object String]"==f&&(d=10>=c.length?c:c.slice(0,10));return M("",(m={},m[""]=a,m),e,h,d,"",[])}}if(!h("json-parse")){var T=
l.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},q,K,u=function(){q=K=null;throw p();},F=function(){for(var a=K,b=a.length,c,d,e,g,f;q<b;)switch(f=a.charCodeAt(q),f){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=H?a.charAt(q):a[q],q++,c;case 34:c="@";for(q++;q<b;)if(f=a.charCodeAt(q),32>f)u();else if(92==f)switch(f=a.charCodeAt(++q),f){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=U[f];
q++;break;case 117:d=++q;for(e=q+4;q<e;q++)f=a.charCodeAt(q),48<=f&&57>=f||97<=f&&102>=f||65<=f&&70>=f||u();c+=T("0x"+a.slice(d,q));break;default:u()}else{if(34==f)break;f=a.charCodeAt(q);for(d=q;32<=f&&92!=f&&34!=f;)f=a.charCodeAt(++q);c+=a.slice(d,q)}if(34==a.charCodeAt(q))return q++,c;u();default:d=q;45==f&&(g=!0,f=a.charCodeAt(++q));if(48<=f&&57>=f){for(48==f&&(f=a.charCodeAt(q+1),48<=f&&57>=f)&&u();q<b&&(f=a.charCodeAt(q),48<=f&&57>=f);q++);if(46==a.charCodeAt(q)){for(e=++q;e<b&&(f=a.charCodeAt(e),
48<=f&&57>=f);e++);e==q&&u();q=e}f=a.charCodeAt(q);if(101==f||69==f){f=a.charCodeAt(++q);43!=f&&45!=f||q++;for(e=q;e<b&&(f=a.charCodeAt(e),48<=f&&57>=f);e++);e==q&&u();q=e}return+a.slice(d,q)}g&&u();if("true"==a.slice(q,q+4))return q+=4,!0;if("false"==a.slice(q,q+5))return q+=5,!1;if("null"==a.slice(q,q+4))return q+=4,null;u()}return"$"},N=function(a){var b,c;"$"==a&&u();if("string"==typeof a){if("@"==(H?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=F();if("]"==a)break;c&&
(","==a?(a=F(),"]"==a&&u()):u());","==a&&u();b.push(N(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=F();if("}"==a)break;c&&(","==a?(a=F(),"}"==a&&u()):u());","!=a&&"string"==typeof a&&"@"==(H?a.charAt(0):a[0])&&":"==F()||u();b[a.slice(1)]=N(F())}return b}u()}return a},Q=function(a,b,c){c=P(a,b,c);c===A?delete a[b]:a[b]=c},P=function(a,b,c){var d=a[b],e;if("object"==typeof d&&d)if("[object Array]"==w.call(d))for(e=d.length;e--;)Q(d,e,c);else G(d,function(a){Q(d,a,c)});return c.call(a,b,d)};d.parse=
function(a,b){var c,d;q=0;K=""+a;c=N(F());"$"!=F()&&u();q=K=null;return b&&"[object Function]"==w.call(b)?P((d={},d[""]=c,d),"",b):c}}}d.runInContext=a;return d}var g={"function":!0,object:!0},d=g[typeof h]&&h&&!h.nodeType&&h,c=g[typeof window]&&window||this,f=d&&g[typeof l]&&l&&!l.nodeType&&"object"==typeof b&&b;!f||f.global!==f&&f.window!==f&&f.self!==f||(c=f);if(d)a(c,d);else{var m=c.JSON,r=c.JSON3,t=!1,n=a(c,c.JSON3={noConflict:function(){t||(t=!0,c.JSON=m,c.JSON3=r,m=r=null);return n}});c.JSON=
{parse:n.parse,stringify:n.stringify}}}).call(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],51:[function(f,l,h){l.exports=function(b,a){for(var f=[],d=(a=a||0)||0;d<b.length;d++)f[d-a]=b[d];return f}},{}]},{},[31])(31)});
